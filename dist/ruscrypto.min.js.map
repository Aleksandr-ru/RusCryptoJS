{"version":3,"file":"ruscrypto.min.js","mappings":"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","sources":["webpack://RusCryptoJS/webpack/universalModuleDefinition","webpack://RusCryptoJS/./node_modules/core-js/modules/_perform.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_to-absolute-index.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_typed.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.regexp.split.js","webpack://RusCryptoJS/./node_modules/rutoken/rutoken.min.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.function.name.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_object-gpo.js","webpack://RusCryptoJS/./node_modules/console-polyfill/index.js","webpack://RusCryptoJS/./node_modules/core-js/modules/core.get-iterator-method.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_shared-key.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_iterators.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_object-sap.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_object-gops.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_flags.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_string-at.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_iobject.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_html.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_object-keys.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_microtask.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.object.assign.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_array-includes.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_to-length.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_is-array-iter.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_object-dps.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_descriptors.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_property-desc.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_export.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_regexp-exec-abstract.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_library.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_task.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es7.symbol.async-iterator.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_ie8-dom-define.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.string.iterator.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_meta.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_to-primitive.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_to-index.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_is-object.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_hide.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_defined.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_a-function.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_array-species-constructor.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_set-to-string-tag.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.array.from.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.regexp.match.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.regexp.exec.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_an-object.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_new-promise-capability.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_uid.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_array-copy-within.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_user-agent.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_shared.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_object-keys-internal.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.typed.uint8-array.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_object-create.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_object-gopn-ext.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_classof.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_invoke.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_iter-step.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_ctx.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_cof.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.array.find.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.array.iterator.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_set-proto.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_wks-define.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_is-regexp.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_array-fill.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_array-species-create.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_set-species.js","webpack://RusCryptoJS/./node_modules/core-js/modules/web.dom.iterable.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_promise-resolve.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_enum-keys.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_iter-create.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_dom-create.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_redefine-all.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_core.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_enum-bug-keys.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_array-methods.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_an-instance.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.promise.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_to-integer.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_typed-array.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_to-iobject.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_create-property.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_iter-call.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_global.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_wks.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_has.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_wks-ext.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_object-dp.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_is-array.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_typed-buffer.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_iter-define.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_add-to-unscopables.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_object-assign.js","webpack://RusCryptoJS/./src/CryptoPro/cadesplugin_api.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_to-object.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.regexp.constructor.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.regexp.replace.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_object-pie.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.regexp.to-string.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_object-gopd.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.object.keys.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_for-of.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_advance-string-index.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_redefine.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_inherit-if-required.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_iter-detect.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_species-constructor.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_fix-re-wks.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_object-gopn.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_fails.js","webpack://RusCryptoJS/./node_modules/core-js/modules/_regexp-exec.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.regexp.flags.js","webpack://RusCryptoJS/./node_modules/core-js/modules/es6.symbol.js","webpack://RusCryptoJS/./node_modules/js-sha1/src/sha1.js","webpack://RusCryptoJS/webpack/bootstrap","webpack://RusCryptoJS/webpack/runtime/amd options","webpack://RusCryptoJS/webpack/runtime/compat get default export","webpack://RusCryptoJS/webpack/runtime/define property getters","webpack://RusCryptoJS/webpack/runtime/global","webpack://RusCryptoJS/webpack/runtime/hasOwnProperty shorthand","webpack://RusCryptoJS/webpack/runtime/make namespace object","webpack://RusCryptoJS/./src/DN.js","webpack://RusCryptoJS/./src/JaCarta/errors.js","webpack://RusCryptoJS/./src/helpers.js","webpack://RusCryptoJS/./src/JaCarta/index.js","webpack://RusCryptoJS/./src/JaCarta2/errors.js","webpack://RusCryptoJS/./src/JaCarta2/index.js","webpack://RusCryptoJS/./src/CryptoPro/constants.js","webpack://RusCryptoJS/./src/CryptoPro/index.js","webpack://RusCryptoJS/./src/RuToken/errors.js","webpack://RusCryptoJS/./src/RuToken/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"RusCryptoJS\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RusCryptoJS\"] = factory();\n\telse\n\t\troot[\"RusCryptoJS\"] = factory();\n})(typeof self !== 'undefined' ? self : this, () => {\nreturn ","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n","'use strict';\n\nvar isRegExp = require('./_is-regexp');\nvar anObject = require('./_an-object');\nvar speciesConstructor = require('./_species-constructor');\nvar advanceStringIndex = require('./_advance-string-index');\nvar toLength = require('./_to-length');\nvar callRegExpExec = require('./_regexp-exec-abstract');\nvar regexpExec = require('./_regexp-exec');\nvar fails = require('./_fails');\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n","var rutoken=function(n){function t(n){return!!(n&&n.call&&n.apply)}function e(n,e){return t(n[e])?function(){return n[e].apply(n,arguments)}:n[e]}function r(n){return function(){return n}}function i(){n.ready=Promise.resolve(!0),n.isExtensionInstalled=r(Promise.resolve(!1)),n.isPluginInstalled=r(Promise.resolve(!0)),n.loadPlugin=l,window.rutokenLoaded=s}function o(){var t=y.initialize().then(function(){return y.isPluginInstalled()}).then(function(t){return n.isExtensionInstalled=r(Promise.resolve(!0)),n.isPluginInstalled=e(y,\"isPluginInstalled\"),t&&(m=\"application/x-rutoken-plugin\",n.loadPlugin=a),!0});n.ready=t}function u(){n.ready=Promise.resolve(!0),n.isExtensionInstalled=r(Promise.resolve(!1)),n.isPluginInstalled=r(Promise.resolve(!1))}function l(){var n=document.createElement(\"object\");n.style.setProperty(\"visibility\",\"hidden\",\"important\"),n.style.setProperty(\"width\",\"0px\",\"important\"),n.style.setProperty(\"height\",\"0px\",\"important\"),n.style.setProperty(\"margin\",\"0px\",\"important\"),n.style.setProperty(\"padding\",\"0px\",\"important\"),n.style.setProperty(\"border-style\",\"none\",\"important\"),n.style.setProperty(\"border-width\",\"0px\",\"important\"),n.style.setProperty(\"max-width\",\"0px\",\"important\"),n.style.setProperty(\"max-height\",\"0px\",\"important\"),n.innerHTML=\"<param name='onload' value='rutokenLoaded'/>\",n.setAttribute(\"type\",m),document.body.appendChild(n);var t=new Promise(function(n,t){h.push(n)});return t}function a(){return y.loadPlugin().then(function(n){return c(n)}).then(function(n){return n.wrapWithOldInterface=p,n})}function s(n,t){d(n).then(function(n){if(0==h.length)throw\"Internal error\";var t=h.shift();t(n)})}function c(n){var r={},i=[];for(var o in n)!function(o){t(n[o].then)?i.push(n[o].then(function(i){return c(i).then(function(i){t(i)?r[o]=e(n,o):r[o]=i})})):r[o]=n[o]}(o);return 0==i.length?new Promise(function(t){t(n)}):Promise.all(i).then(function(){return r})}function p(){var n={};for(var e in this)t(this[e])?n[e]=function(n,t){return function(){var e=arguments[arguments.length-2],r=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0,-2);return t.apply(n,i).then(function(n){e(n)},function(n){r(n.message)})}}(this,this[e]):n[e]=this[e];return new Promise(function(t){t(n)})}function f(){var n={originalObject:this.originalObject};for(var t in this.originalObject)n[t]=e(this.originalObject,t);return new Promise(function(t){t(n)})}function d(n){var e={originalObject:n,wrapWithOldInterface:f};for(var r in n)t(n[r])?e[r]=function(n,t){return function(){var e=Array.prototype.slice.call(arguments);return new Promise(function(r,i){e.push(r,i),t.apply(n,e)})}}(n,n[r]):e[r]=n[r];return new Promise(function(n){n(e)})}var h=[],m=\"application/x-rutoken-pki\",y=window[\"C3B7563B-BF85-45B7-88FC-7CFF1BD3C2DB\"];if(y)o();else if(navigator.mimeTypes&&navigator.mimeTypes[m])i();else try{new ActiveXObject(\"Aktiv.CryptoPlugin\");i()}catch(P){u()}return n}(rutoken||{});\"undefined\"!=typeof module&&(module.exports=rutoken);","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","// Console-polyfill. MIT license.\n// https://github.com/paulmillr/console-polyfill\n// Make it safe to do console.log() always.\n(function(global) {\n  'use strict';\n  if (!global.console) {\n    global.console = {};\n  }\n  var con = global.console;\n  var prop, method;\n  var dummy = function() {};\n  var properties = ['memory'];\n  var methods = ('assert,clear,count,debug,dir,dirxml,error,exception,group,' +\n     'groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,' +\n     'show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn').split(',');\n  while (prop = properties.pop()) if (!con[prop]) con[prop] = {};\n  while (method = methods.pop()) if (!con[method]) con[method] = dummy;\n  // Using `this` for web workers & supports Browserify / Webpack.\n})(typeof window === 'undefined' ? this : window);\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","module.exports = {};\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","'use strict';\n\nvar classof = require('./_classof');\nvar builtinExec = RegExp.prototype.exec;\n\n // `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw new TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n  if (classof(R) !== 'RegExp') {\n    throw new TypeError('RegExp#exec called on incompatible receiver');\n  }\n  return builtinExec.call(R, S);\n};\n","module.exports = false;\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","require('./_wks-define')('asyncIterator');\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\nvar regexpExec = require('./_regexp-exec');\nrequire('./_export')({\n  target: 'RegExp',\n  proto: true,\n  forced: regexpExec !== /./.exec\n}, {\n  exec: regexpExec\n});\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","var core = module.exports = { version: '2.6.3' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","exports.f = require('./_wks');\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","; (function () {\n    //already loaded\n    if (window.cadesplugin && window.cadesplugin.LOG_LEVEL_DEBUG) {\n        return;\n    }\n    var pluginObject;\n    var plugin_resolved = 0;\n    var plugin_reject;\n    var plugin_resolve;\n    var isOpera = 0;\n    var isFireFox = 0;\n    var isSafari = 0;\n    var isYandex = 0;\n    var canPromise = !!window.Promise;\n    var cadesplugin_loaded_event_recieved = false;\n    var isFireFoxExtensionLoaded = false;\n    var cadesplugin = {};\n\n    if (canPromise) {\n        cadesplugin = new window.Promise(function (resolve, reject) {\n            plugin_resolve = resolve;\n            plugin_reject = reject;\n        });\n    }\n\n    function check_browser() {\n        var ua = window.navigator.userAgent,\n            tem,\n            M = ua.match(/(opera|yabrowser|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\n        if (/trident/i.test(M[1])) {\n            tem = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\n            return { name: 'IE', version: (tem[1] || '') };\n        }\n        if (M[1] === \"Chrome\") {\n            tem = ua.match(/\\b(OPR|Edg|YaBrowser)\\/(\\d+)/);\n            if (tem != null && (tem.length > 2)) {\n                return { name: tem[1].replace('OPR', 'Opera'), version: tem[2] };\n            }\n        }\n        M = M[2] ? [M[1], M[2]] : [window.navigator.appName, window.navigator.appVersion, '-?'];\n        if ((tem = ua.match(/version\\/(\\d+)/i)) != null) {\n            M.splice(1, 1, tem[1]);\n        }\n        return { name: M[0], version: M[1] };\n    }\n\n    var browserSpecs = check_browser();\n\n    function cpcsp_console_log(level, msg) {\n        //IE9 не может писать в консоль если не открыта вкладка developer tools\n        if (typeof console === 'undefined') {\n            return;\n        }\n        if (level <= cadesplugin.current_log_level) {\n            if (level === cadesplugin.LOG_LEVEL_DEBUG) {\n                console.log(\"DEBUG: %s\", msg);\n            }\n            if (level === cadesplugin.LOG_LEVEL_INFO) {\n                console.info(\"INFO: %s\", msg);\n            }\n            if (level === cadesplugin.LOG_LEVEL_ERROR) {\n                console.error(\"ERROR: %s\", msg);\n            }\n        }\n    }\n\n    function get_extension_version(callback) {\n        window.postMessage(\"cadesplugin_extension_version_request\", \"*\");\n        window.addEventListener(\"message\", function (event) {\n            var resp_prefix = \"cadesplugin_extension_version_response:\";\n            if (typeof (event.data) !== \"string\" || event.data.indexOf(resp_prefix) !== 0) {\n                return;\n            }\n            var ext_version = event.data.substring(resp_prefix.length);\n            callback(ext_version);\n        }, false);\n    }\n\n    function get_extension_id(callback) {\n        window.postMessage(\"cadesplugin_extension_id_request\", \"*\");\n        window.addEventListener(\"message\", function (event) {\n            var resp_prefix = \"cadesplugin_extension_id_response:\";\n            if (typeof (event.data) !== \"string\" || event.data.indexOf(resp_prefix) !== 0) {\n                return;\n            }\n            var ext_id = event.data.substring(resp_prefix.length);\n            callback(ext_id);\n        }, false);\n    }\n\n    function set_log_level(level) {\n        if (!((level === cadesplugin.LOG_LEVEL_DEBUG) ||\n            (level === cadesplugin.LOG_LEVEL_INFO) ||\n            (level === cadesplugin.LOG_LEVEL_ERROR))) {\n            cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR, \"cadesplugin_api.js: Incorrect log_level: \" + level);\n            return;\n        }\n        cadesplugin.current_log_level = level;\n        if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_DEBUG) {\n            cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO, \"cadesplugin_api.js: log_level = DEBUG\");\n        }\n        if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_INFO) {\n            cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO, \"cadesplugin_api.js: log_level = INFO\");\n        }\n        if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_ERROR) {\n            cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO, \"cadesplugin_api.js: log_level = ERROR\");\n        }\n        if (isNativeMessageSupported()) {\n            if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_DEBUG) {\n                window.postMessage(\"set_log_level=debug\", \"*\");\n            }\n            if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_INFO) {\n                window.postMessage(\"set_log_level=info\", \"*\");\n            }\n            if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_ERROR) {\n                window.postMessage(\"set_log_level=error\", \"*\");\n            }\n        }\n    }\n\n    function set_constantValues() {\n        cadesplugin.CAPICOM_MEMORY_STORE = 0;\n        cadesplugin.CAPICOM_LOCAL_MACHINE_STORE = 1;\n        cadesplugin.CAPICOM_CURRENT_USER_STORE = 2;\n        cadesplugin.CAPICOM_SMART_CARD_USER_STORE = 4;\n        cadesplugin.CADESCOM_MEMORY_STORE = 0;\n        cadesplugin.CADESCOM_LOCAL_MACHINE_STORE = 1;\n        cadesplugin.CADESCOM_CURRENT_USER_STORE = 2;\n        cadesplugin.CADESCOM_SMART_CARD_USER_STORE = 4;\n        cadesplugin.CADESCOM_CONTAINER_STORE = 100;\n\n        cadesplugin.CAPICOM_ROOT_STORE = \"Root\";\n        cadesplugin.CAPICOM_CA_STORE = \"CA\";\n        cadesplugin.CAPICOM_MY_STORE = \"My\";\n        cadesplugin.CAPICOM_ADDRESSBOOK_STORE = \"AddressBook\";\n\n        cadesplugin.CAPICOM_STORE_OPEN_READ_WRITE = 1;\n        cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED = 2;\n        cadesplugin.CAPICOM_STORE_OPEN_INCLUDE_ARCHIVED = 256;\n\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME = 1;\n\n        cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED = 0;\n        cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING = 1;\n        cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE = 2;\n\n        cadesplugin.CADESCOM_XADES_DEFAULT = 0x00000010;\n        cadesplugin.CADESCOM_XADES_BES = 0x00000020;\n        cadesplugin.CADESCOM_XADES_T = 0x00000050;\n        cadesplugin.CADESCOM_XADES_X_LONG_TYPE_1 = 0x000005d0;\n        cadesplugin.CADESCOM_XMLDSIG_TYPE = 0x00000000;\n\n        cadesplugin.XmlDsigGost3410UrlObsolete = \"http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411\";\n        cadesplugin.XmlDsigGost3411UrlObsolete = \"http://www.w3.org/2001/04/xmldsig-more#gostr3411\";\n        cadesplugin.XmlDsigGost3410Url = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411\";\n        cadesplugin.XmlDsigGost3411Url = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411\";\n\n        cadesplugin.XmlDsigGost3411Url2012256 = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256\";\n        cadesplugin.XmlDsigGost3410Url2012256 = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256\";\n        cadesplugin.XmlDsigGost3411Url2012512 = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-512\";\n        cadesplugin.XmlDsigGost3410Url2012512 = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-512\";\n\n        cadesplugin.CADESCOM_CADES_DEFAULT = 0;\n        cadesplugin.CADESCOM_CADES_BES = 1;\n        cadesplugin.CADESCOM_CADES_T = 0x5;\n        cadesplugin.CADESCOM_CADES_X_LONG_TYPE_1 = 0x5d;\n        cadesplugin.CADESCOM_CADES_A = 0xdd;\n        cadesplugin.CADESCOM_PKCS7_TYPE = 0xffff;\n\n        cadesplugin.CADESCOM_ENCODE_BASE64 = 0;\n        cadesplugin.CADESCOM_ENCODE_BINARY = 1;\n        cadesplugin.CADESCOM_ENCODE_ANY = -1;\n\n        cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT = 0;\n        cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN = 1;\n        cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY = 2;\n\n        cadesplugin.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME = 0;\n        cadesplugin.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME = 1;\n\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH = 0;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME = 1;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME = 2;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_ROOT_NAME = 3;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME = 4;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENSION = 5;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY = 6;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY = 7;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY = 8;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_VALID = 9;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID = 10;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED = 11;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_KEY_USAGE = 12;\n\n        cadesplugin.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE = 128;\n\n        cadesplugin.CAPICOM_PROPID_ENHKEY_USAGE = 9;\n\n        cadesplugin.CAPICOM_OID_OTHER = 0;\n        cadesplugin.CAPICOM_OID_KEY_USAGE_EXTENSION = 10;\n\n        cadesplugin.CAPICOM_EKU_CLIENT_AUTH = 2;\n        cadesplugin.CAPICOM_EKU_SMARTCARD_LOGON = 5;\n        cadesplugin.CAPICOM_EKU_OTHER = 0;\n\n        cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME = 0;\n        cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME = 1;\n        cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION = 2;\n        cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME = 0;\n        cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME = 1;\n        cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION = 2;\n        cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO = 0x100;\n        cadesplugin.CADESCOM_ATTRIBUTE_OTHER = -1;\n\n        cadesplugin.CADESCOM_STRING_TO_UCS2LE = 0;\n        cadesplugin.CADESCOM_BASE64_TO_BINARY = 1;\n\n        cadesplugin.CADESCOM_DISPLAY_DATA_NONE = 0;\n        cadesplugin.CADESCOM_DISPLAY_DATA_CONTENT = 1;\n        cadesplugin.CADESCOM_DISPLAY_DATA_ATTRIBUTE = 2;\n\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC2 = 0;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC4 = 1;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_DES = 2;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_3DES = 3;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_AES = 4;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89 = 25;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_GOST_MAGMA = 35;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_GOST_MAGMA_OMAC = 36;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_GOST_KUZNYECHIK = 45;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_GOST_KUZNYECHIK_OMAC = 46;\n\n        cadesplugin.CADESCOM_HASH_ALGORITHM_SHA1 = 0;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_MD2 = 1;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_MD4 = 2;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_MD5 = 3;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_256 = 4;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_384 = 5;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_512 = 6;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411 = 100;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256 = 101;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512 = 102;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC = 110;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC = 111;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC = 112;\n\n        cadesplugin.CADESCOM_CERT_INFO_ROLE = 100;\n        cadesplugin.CADESCOM_ROLE_ROOT = \"ROOT\";\n        cadesplugin.CADESCOM_ROLE_CA = \"CA\";\n        cadesplugin.CADESCOM_ROLE_LEAF = \"LEAF\";\n\n        cadesplugin.LOG_LEVEL_DEBUG = 4;\n        cadesplugin.LOG_LEVEL_INFO = 2;\n        cadesplugin.LOG_LEVEL_ERROR = 1;\n\n        cadesplugin.CADESCOM_AllowNone = 0;\n        cadesplugin.CADESCOM_AllowNoOutstandingRequest = 0x1;\n        cadesplugin.CADESCOM_AllowUntrustedCertificate = 0x2;\n        cadesplugin.CADESCOM_AllowUntrustedRoot = 0x4;\n        cadesplugin.CADESCOM_SkipInstallToStore = 0x10000000;\n        cadesplugin.CADESCOM_InstallCertChainToContainer = 0x20000000;\n        cadesplugin.CADESCOM_UseContainerStore = 0x40000000;\n\n        cadesplugin.ContextNone = 0;\n        cadesplugin.ContextUser = 0x1;\n        cadesplugin.ContextMachine = 0x2;\n        cadesplugin.ContextAdministratorForceMachine = 0x3;\n\n        cadesplugin.ENABLE_CARRIER_TYPE_CSP = 0x01;\n        cadesplugin.ENABLE_CARRIER_TYPE_FKC_NO_SM = 0x02;\n        cadesplugin.ENABLE_CARRIER_TYPE_FKC_SM = 0x04;\n        cadesplugin.ENABLE_ANY_CARRIER_TYPE = 0x07;\n\n        cadesplugin.DISABLE_EVERY_CARRIER_OPERATION = 0x00;\n        cadesplugin.ENABLE_CARRIER_OPEN_ENUM = 0x01;\n        cadesplugin.ENABLE_CARRIER_CREATE = 0x02;\n        cadesplugin.ENABLE_ANY_OPERATION = 0x03;\n\n        cadesplugin.CADESCOM_PRODUCT_CSP = 0;\n        cadesplugin.CADESCOM_PRODUCT_OCSP = 1;\n        cadesplugin.CADESCOM_PRODUCT_TSP = 2;\n\n        cadesplugin.MEDIA_TYPE_DEFAULT = 0x00000000;\n        cadesplugin.MEDIA_TYPE_REGISTRY = 0x00000001;\n        cadesplugin.MEDIA_TYPE_HDIMAGE = 0x00000002;\n        cadesplugin.MEDIA_TYPE_CLOUD = 0x00000004;\n        cadesplugin.MEDIA_TYPE_SCARD = 0x00000008;\n\n        cadesplugin.XCN_CRYPT_STRING_BASE64HEADER = 0;\n        cadesplugin.XCN_CRYPT_STRING_BASE64 = 0x1;\n        cadesplugin.XCN_CRYPT_STRING_BINARY = 0x2;\n        cadesplugin.XCN_CRYPT_STRING_BASE64REQUESTHEADER = 0x3;\n        cadesplugin.XCN_CRYPT_STRING_HEX = 0x4;\n        cadesplugin.XCN_CRYPT_STRING_HEXASCII = 0x5;\n        cadesplugin.XCN_CRYPT_STRING_BASE64_ANY = 0x6;\n        cadesplugin.XCN_CRYPT_STRING_ANY = 0x7;\n        cadesplugin.XCN_CRYPT_STRING_HEX_ANY = 0x8;\n        cadesplugin.XCN_CRYPT_STRING_BASE64X509CRLHEADER = 0x9;\n        cadesplugin.XCN_CRYPT_STRING_HEXADDR = 0xa;\n        cadesplugin.XCN_CRYPT_STRING_HEXASCIIADDR = 0xb;\n        cadesplugin.XCN_CRYPT_STRING_HEXRAW = 0xc;\n        cadesplugin.XCN_CRYPT_STRING_BASE64URI = 0xd;\n        cadesplugin.XCN_CRYPT_STRING_ENCODEMASK = 0xff;\n        cadesplugin.XCN_CRYPT_STRING_CHAIN = 0x100;\n        cadesplugin.XCN_CRYPT_STRING_TEXT = 0x200;\n        cadesplugin.XCN_CRYPT_STRING_PERCENTESCAPE = 0x8000000;\n        cadesplugin.XCN_CRYPT_STRING_HASHDATA = 0x10000000;\n        cadesplugin.XCN_CRYPT_STRING_STRICT = 0x20000000;\n        cadesplugin.XCN_CRYPT_STRING_NOCRLF = 0x40000000;\n        cadesplugin.XCN_CRYPT_STRING_NOCR = 0x80000000;\n\n        cadesplugin.XCN_CERT_NAME_STR_NONE = 0;\n        cadesplugin.XCN_AT_NONE = 0;\n        cadesplugin.XCN_AT_KEYEXCHANGE = 1;\n        cadesplugin.XCN_AT_SIGNATURE = 2;\n\n        cadesplugin.AT_KEYEXCHANGE = 1;\n        cadesplugin.AT_SIGNATURE = 2;\n\n        cadesplugin.CARRIER_FLAG_REMOVABLE = 1;\n        cadesplugin.CARRIER_FLAG_UNIQUE = 2;\n        cadesplugin.CARRIER_FLAG_PROTECTED = 4;\n        cadesplugin.CARRIER_FLAG_FUNCTIONAL_CARRIER = 8;\n        cadesplugin.CARRIER_FLAG_SECURE_MESSAGING = 16;\n        cadesplugin.CARRIER_FLAG_ABLE_SET_KEY = 32;\n        cadesplugin.CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE = 64;\n        cadesplugin.CARRIER_FLAG_VIRTUAL = 128;\n\n        cadesplugin.CRYPT_MODE_CBCSTRICT = 1;\n        cadesplugin.CRYPT_MODE_CNT = 3;\n        cadesplugin.CRYPT_MODE_CBCRFC4357 = 31;\n        cadesplugin.CRYPT_MODE_CTR = 32;\n        cadesplugin.CRYPT_MODE_MGM = 33;\n        cadesplugin.CRYPT_MODE_GCM = 34;\n        cadesplugin.CRYPT_MODE_OMAC_CTR = 35;\n        cadesplugin.CRYPT_MODE_WRAP = 36;\n        cadesplugin.CRYPT_MODE_WRAP_PAD = 37;\n\n        cadesplugin.PKCS5_PADDING = 1;\n        cadesplugin.RANDOM_PADDING = 2;\n        cadesplugin.ZERO_PADDING = 3;\n        cadesplugin.ISO10126_PADDING = 4;\n        cadesplugin.ANSI_X923_PADDING = 5;\n        cadesplugin.TLS_1_0_PADDING = 6;\n        cadesplugin.ISO_IEC_7816_4_PADDING = 7;\n\n        cadesplugin.CAPICOM_STORE_SAVE_AS_SERIALIZED = 0;\n        cadesplugin.CAPICOM_STORE_SAVE_AS_PKCS7 = 1;\n\n        cadesplugin.CERT_TRUST_NO_ERROR = 0x00000000;\n        cadesplugin.CERT_TRUST_IS_NOT_TIME_VALID = 0x00000001;\n        cadesplugin.CERT_TRUST_IS_REVOKED = 0x00000004;\n        cadesplugin.CERT_TRUST_IS_NOT_SIGNATURE_VALID = 0x00000008;\n        cadesplugin.CERT_TRUST_IS_NOT_VALID_FOR_USAGE = 0x00000010;\n        cadesplugin.CERT_TRUST_IS_UNTRUSTED_ROOT = 0x00000020;\n        cadesplugin.CERT_TRUST_REVOCATION_STATUS_UNKNOWN = 0x00000040;\n        cadesplugin.CERT_TRUST_IS_CYCLIC = 0x00000080;\n        cadesplugin.CERT_TRUST_INVALID_EXTENSION = 0x00000100;\n        cadesplugin.CERT_TRUST_INVALID_POLICY_CONSTRAINTS = 0x00000200;\n        cadesplugin.CERT_TRUST_INVALID_BASIC_CONSTRAINTS = 0x00000400;\n        cadesplugin.CERT_TRUST_INVALID_NAME_CONSTRAINTS = 0x00000800;\n        cadesplugin.CERT_TRUST_HAS_NOT_SUPPORTED_NAME_CONSTRAINT = 0x00001000;\n        cadesplugin.CERT_TRUST_HAS_NOT_DEFINED_NAME_CONSTRAINT = 0x00002000;\n        cadesplugin.CERT_TRUST_HAS_NOT_PERMITTED_NAME_CONSTRAINT = 0x00004000;\n        cadesplugin.CERT_TRUST_HAS_EXCLUDED_NAME_CONSTRAINT = 0x00008000;\n        cadesplugin.CERT_TRUST_IS_OFFLINE_REVOCATION = 0x01000000;\n        cadesplugin.CERT_TRUST_NO_ISSUANCE_CHAIN_POLICY = 0x02000000;\n        cadesplugin.CERT_TRUST_IS_EXPLICIT_DISTRUST = 0x04000000;\n        cadesplugin.CERT_TRUST_HAS_NOT_SUPPORTED_CRITICAL_EXT = 0x08000000;\n        cadesplugin.CERT_TRUST_HAS_WEAK_SIGNATURE = 0x00100000;\n\n        cadesplugin.XCN_CERT_NO_KEY_USAGE = 0;\n        cadesplugin.XCN_CERT_DIGITAL_SIGNATURE_KEY_USAGE = 0x80;\n        cadesplugin.XCN_CERT_NON_REPUDIATION_KEY_USAGE = 0x40;\n        cadesplugin.XCN_CERT_KEY_ENCIPHERMENT_KEY_USAGE = 0x20;\n        cadesplugin.XCN_CERT_DATA_ENCIPHERMENT_KEY_USAGE = 0x10;\n        cadesplugin.XCN_CERT_KEY_AGREEMENT_KEY_USAGE = 0x8;\n        cadesplugin.XCN_CERT_KEY_CERT_SIGN_KEY_USAGE = 0x4;\n        cadesplugin.XCN_CERT_OFFLINE_CRL_SIGN_KEY_USAGE = 0x2;\n        cadesplugin.XCN_CERT_CRL_SIGN_KEY_USAGE = 0x2;\n        cadesplugin.XCN_CERT_ENCIPHER_ONLY_KEY_USAGE = 0x1;\n        cadesplugin.XCN_CERT_DECIPHER_ONLY_KEY_USAGE = 0x8000;\n\n        cadesplugin.CADESCOM_XADES_ACCEPT_ANY_ID_ATTR_NAMESPACE = 1;\n        cadesplugin.CADES_USE_OCSP_AUTHORIZED_POLICY = 0x00020000;\n\n        cadesplugin.XCN_NCRYPT_NO_OPERATION = 0;\n        cadesplugin.XCN_NCRYPT_CIPHER_OPERATION = 0x1;\n        cadesplugin.XCN_NCRYPT_HASH_OPERATION = 0x2;\n        cadesplugin.XCN_NCRYPT_ASYMMETRIC_ENCRYPTION_OPERATION = 0x4;\n        cadesplugin.XCN_NCRYPT_SECRET_AGREEMENT_OPERATION = 0x8;\n        cadesplugin.XCN_NCRYPT_SIGNATURE_OPERATION = 0x10;\n        cadesplugin.XCN_NCRYPT_RNG_OPERATION = 0x20;\n\n        cadesplugin.XCN_CRYPT_ANY_GROUP_ID = 0;\n        cadesplugin.XCN_CRYPT_HASH_ALG_OID_GROUP_ID = 1;\n        cadesplugin.XCN_CRYPT_ENCRYPT_ALG_OID_GROUP_ID = 2;\n        cadesplugin.XCN_CRYPT_PUBKEY_ALG_OID_GROUP_ID = 3;\n        cadesplugin.XCN_CRYPT_SIGN_ALG_OID_GROUP_ID = 4;\n        cadesplugin.XCN_CRYPT_RDN_ATTR_OID_GROUP_ID = 5;\n        cadesplugin.XCN_CRYPT_EXT_OR_ATTR_OID_GROUP_ID = 6;\n        cadesplugin.XCN_CRYPT_ENHKEY_USAGE_OID_GROUP_ID = 7;\n        cadesplugin.XCN_CRYPT_POLICY_OID_GROUP_ID = 8;\n        cadesplugin.XCN_CRYPT_TEMPLATE_OID_GROUP_ID = 9;\n\n        cadesplugin.XCN_CRYPT_OID_INFO_PUBKEY_ANY = 0;\n        cadesplugin.XCN_CRYPT_OID_INFO_PUBKEY_SIGN_KEY_FLAG = 0x80000000;\n        cadesplugin.XCN_CRYPT_OID_INFO_PUBKEY_ENCRYPT_KEY_FLAG = 0x40000000;\n\n        cadesplugin.CONTROL_KEY_TIME_VALIDITY_DISABLED = 0;\n        cadesplugin.CONTROL_KEY_TIME_VALIDITY_ENABLED = 1;\n        cadesplugin.CONTROL_KEY_TIME_VALIDITY_STRICT = 2;\n\n        cadesplugin.AlgorithmFlagsNone = 0;\n        cadesplugin.AlgorithmFlagsWrap = 0x1;\n    }\n\n    function async_spawn(generatorFunc) {\n        function continuer(verb, arg) {\n            var result;\n            try {\n                result = generator[verb](arg);\n            } catch (err) {\n                return window.Promise.reject(err);\n            }\n            if (result.done) {\n                return result.value;\n            } else {\n                return window.Promise.resolve(result.value).then(onFulfilled, onRejected);\n            }\n        }\n        var generator = generatorFunc(Array.prototype.slice.call(arguments, 1));\n        var onFulfilled = continuer.bind(continuer, \"next\");\n        var onRejected = continuer.bind(continuer, \"throw\");\n        return onFulfilled();\n    }\n\n    function isIE() {\n        // var retVal = ((\"Microsoft Internet Explorer\" == navigator.appName) || // IE < 11\n        //     navigator.userAgent.match(/Trident\\/./i)); // IE 11\n        return (browserSpecs.name === 'IE' || browserSpecs.name === 'MSIE');\n    }\n\n    function isIOS() {\n        return (window.navigator.userAgent.match(/ipod/i) ||\n            window.navigator.userAgent.match(/ipad/i) ||\n            window.navigator.userAgent.match(/iphone/i));\n    }\n\n    function isNativeMessageSupported() {\n        // В IE работаем через NPAPI\n        if (isIE()) {\n            return false;\n        }\n        // В Edge работаем через NativeMessage\n        if (browserSpecs.name === 'Edg') {\n            return true;\n        }\n        if (browserSpecs.name === 'YaBrowser') {\n            isYandex = true;\n            return true;\n        }\n        // В Chrome, Firefox, Safari и Opera работаем через асинхронную версию в зависимости от версии\n        if (browserSpecs.name === 'Opera') {\n            isOpera = true;\n            return (browserSpecs.version >= 33);\n        }\n        if (browserSpecs.name === 'Firefox') {\n            isFireFox = true;\n            return (browserSpecs.version >= 52);\n        }\n        if (browserSpecs.name === 'Chrome') {\n            return (browserSpecs.version >= 42);\n        }\n        //В Сафари начиная с 12 версии нет NPAPI\n        if (browserSpecs.name === 'Safari') {\n            isSafari = true;\n            return (browserSpecs.version >= 12);\n        }\n    }\n\n    // Функция активации объектов КриптоПро ЭЦП Browser plug-in\n    function CreateObject(name) {\n        if (isIOS()) {\n            // На iOS для создания объектов используется функция\n            // call_ru_cryptopro_npcades_10_native_bridge, определенная в IOS_npcades_supp.js\n            return call_ru_cryptopro_npcades_10_native_bridge(\"CreateObject\", [name]);\n        }\n        var objWebClassFactory;\n        if (isIE()) {\n            // В Internet Explorer создаются COM-объекты\n            if (name.match(/X509Enrollment/i)) {\n                try {\n                    // Объекты CertEnroll пробуем создавать через нашу фабрику,\n                    // если не получилось то через CX509EnrollmentWebClassFactory\n                    objWebClassFactory = document.getElementById(\"webClassFactory\");\n                    return objWebClassFactory.CreateObject(name);\n                }\n                catch (e) {\n                    try {\n                        var objCertEnrollClassFactory = document.getElementById(\"certEnrollClassFactory\");\n                        return objCertEnrollClassFactory.CreateObject(name);\n                    }\n                    catch (err) {\n                        throw (\"Для создания обьектов X509Enrollment следует настроить веб-узел на использование проверки подлинности по протоколу HTTPS\");\n                    }\n                }\n            }\n            // Объекты CAPICOM и CAdESCOM создаются через CAdESCOM.WebClassFactory\n            try {\n                objWebClassFactory = document.getElementById(\"webClassFactory\");\n                return objWebClassFactory.CreateObject(name);\n            } catch (e) {\n                // Для версий плагина ниже 2.0.12538\n                return new window.ActiveXObject(name);\n            }\n        }\n        // создаются объекты NPAPI\n        return pluginObject.CreateObject(name);\n    }\n\n    function decimalToHexString(number) {\n        if (number < 0) {\n            number = 0xFFFFFFFF + number + 1;\n        }\n\n        return number.toString(16).toUpperCase();\n    }\n\n    function GetMessageFromException(e) {\n        var err = e.message;\n        if (!err) {\n            err = e;\n        } else if (e.number) {\n            err += \" (0x\" + decimalToHexString(e.number) + \")\";\n        }\n        return err;\n    }\n\n    function getLastError(exception) {\n        if (isNativeMessageSupported() || isIE() || isIOS()) {\n            return GetMessageFromException(exception);\n        }\n\n        try {\n            return pluginObject.getLastError();\n        } catch (e) {\n            return GetMessageFromException(exception);\n        }\n    }\n\n    // Функция для удаления созданных объектов\n    function ReleasePluginObjects() {\n        // noinspection JSUnresolvedVariable\n        return cpcsp_chrome_nmcades.ReleasePluginObjects();\n    }\n\n    // Функция активации асинхронных объектов КриптоПро ЭЦП Browser plug-in\n    function CreateObjectAsync(name) {\n        return pluginObject.CreateObjectAsync(name);\n    }\n\n    // Функции для IOS\n    // noinspection JSUnusedGlobalSymbols\n    var ru_cryptopro_npcades_10_native_bridge = {\n        callbacksCount: 1,\n        callbacks: {},\n\n        // Automatically called by native layer when a result is available\n        resultForCallback: function resultForCallback(callbackId, resultArray) {\n            var callback = ru_cryptopro_npcades_10_native_bridge.callbacks[callbackId];\n            if (!callback) {\n                return;\n            }\n            callback.apply(null, resultArray);\n        },\n\n        // Use this in javascript to request native objective-c code\n        // functionName : string (I think the name is explicit :p)\n        // args : array of arguments\n        // callback : function with n-arguments that is going to be called when the native code returned\n        call: function call(functionName, args, callback) {\n            var hasCallback = callback && typeof callback === \"function\";\n            var callbackId = hasCallback ? ru_cryptopro_npcades_10_native_bridge.callbacksCount++ : 0;\n\n            if (hasCallback) {\n                ru_cryptopro_npcades_10_native_bridge.callbacks[callbackId] = callback;\n            }\n\n            var iframe = document.createElement(\"IFRAME\");\n            var arrObjs = new Array(\"_CPNP_handle\");\n            try {\n                iframe.setAttribute(\"src\", \"cpnp-js-call:\" + functionName + \":\" + callbackId + \":\" + encodeURIComponent(window.JSON.stringify(args, arrObjs)));\n            } catch (e) {\n                window.alert(e);\n            }\n            document.documentElement.appendChild(iframe);\n            iframe.parentNode.removeChild(iframe);\n            iframe = null;\n        }\n    };\n\n    function call_ru_cryptopro_npcades_10_native_bridge(functionName, array) {\n        var tmpobj;\n        var ex;\n        ru_cryptopro_npcades_10_native_bridge.call(functionName, array, function (e, response) {\n            ex = e;\n            var tmpobj = \"\";\n            try {\n                tmpobj = window.JSON.parse(response);\n            }\n            catch (err) {\n                tmpobj = response;\n            }\n            if (typeof tmpobj === \"string\") {\n                tmpobj = tmpobj.replace(/\\\\\\n/gm, \"\\n\");\n                tmpobj = tmpobj.replace(/\\\\\\r/gm, \"\\r\");\n            }\n        });\n        if (ex) {\n            throw ex;\n        }\n        return tmpobj;\n    }\n\n    function show_firefox_missing_extension_dialog() {\n        if (!window.cadesplugin_skip_extension_install) {\n            var ovr = document.createElement('div');\n            ovr.id = \"cadesplugin_ovr\";\n            ovr.style = \"visibility: hidden; position: fixed; left: 0; top: 0; width:100%; height:100%; background-color: rgba(0,0,0,0.7)\";\n            ovr.innerHTML = \"<div id='cadesplugin_ovr_item' style='position:relative; max-width:400px; margin:100px auto; background-color:#fff; border:2px solid #000; padding:10px; text-align:center; opacity: 1; z-index: 1500'>\" +\n                \"<button id='cadesplugin_close_install' style='float: right; font-size: 10px; background: transparent; border: 1; margin: -5px'>X</button>\" +\n                \"<p>Для работы КриптоПро ЭЦП Browser plugin на данном сайте необходимо расширение для браузера. Убедитесь, что оно у Вас включено или установите его.\" +\n                \"<p><a href='https://www.cryptopro.ru/sites/default/files/products/cades/extensions/firefox_cryptopro_extension_latest.xpi'>Скачать расширение</a></p>\" +\n                \"</div>\";\n            document.getElementsByTagName(\"Body\")[0].appendChild(ovr);\n            document.getElementById(\"cadesplugin_close_install\").addEventListener('click', function () {\n                plugin_loaded_error(\"Плагин недоступен\");\n                document.getElementById(\"cadesplugin_ovr\").style.visibility = 'hidden';\n            });\n\n            ovr.addEventListener('click', function () {\n                plugin_loaded_error(\"Плагин недоступен\");\n                document.getElementById(\"cadesplugin_ovr\").style.visibility = 'hidden';\n            });\n            ovr.style.visibility = \"visible\";\n        }\n    }\n\n    function firefox_or_safari_nmcades_onload() {\n        // noinspection JSUnresolvedVariable\n        if (window.cadesplugin_extension_loaded_callback) {\n            window.cadesplugin_extension_loaded_callback();\n        }\n        isFireFoxExtensionLoaded = true;\n        // noinspection JSUnresolvedVariable,JSUnresolvedFunction\n        cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded, plugin_loaded_error);\n    }\n\n    function load_js_script(url, successFunc, errorFunc) {\n        var script = document.createElement(\"script\");\n        script.setAttribute(\"type\", \"text/javascript\");\n        script.setAttribute(\"src\", url);\n        script.onerror = errorFunc;\n        script.onload = successFunc;\n        document.getElementsByTagName(\"head\")[0].appendChild(script);\n    }\n\n    function nmcades_api_onload() {\n        if (!isIE() && !isFireFox && !isSafari) {\n            // noinspection JSUnresolvedVariable\n            if (window.cadesplugin_extension_loaded_callback) {\n                window.cadesplugin_extension_loaded_callback();\n            }\n        }\n        window.postMessage(\"cadesplugin_echo_request\", \"*\");\n        window.addEventListener(\"message\", function (event) {\n            if (typeof (event.data) !== \"string\" || !event.data.match(\"cadesplugin_loaded\")) {\n                return;\n            }\n            if (cadesplugin_loaded_event_recieved) {\n                return;\n            }\n            if (isFireFox || isSafari) {\n                // Для Firefox, Сафари вместе с сообщением cadesplugin_loaded прилетает url для загрузки nmcades_plugin_api.js\n                var url = event.data.substring(event.data.indexOf(\"url:\") + 4);\n                if (!url.match(\"^(moz|safari)-extension://[a-zA-Z0-9/_-]+/nmcades_plugin_api.js$\")) {\n                    cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR, \"Bad url \\\"\" + url + \"\\\" for load CryptoPro Extension for CAdES Browser plug-in\");\n                    plugin_loaded_error();\n                    return;\n                }\n                load_js_script(url, firefox_or_safari_nmcades_onload, plugin_loaded_error);\n            } else {\n                // noinspection JSUnresolvedVariable,JSUnresolvedFunction\n                cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded, plugin_loaded_error);\n            }\n            cadesplugin_loaded_event_recieved = true;\n        }, false);\n    }\n\n    // Загружаем расширения для Chrome, Opera, YaBrowser, FireFox, Edge, Safari\n    function load_extension() {\n        if (isFireFox || isSafari) {\n            // вызываем callback руками т.к. нам нужно узнать ID расширения. Он уникальный для браузера.\n            nmcades_api_onload();\n            return;\n        }\n        var operaUrl = \"chrome-extension://epebfcehmdedogndhlcacafjaacknbcm/nmcades_plugin_api.js\";\n        var manifestv2Url = \"chrome-extension://iifchhfnnmpdbibifmljnfjhpififfog/nmcades_plugin_api.js\";\n        var manifestv3Url = \"chrome-extension://pfhgbfnnjiafkhfdkmpiflachepdcjod/nmcades_plugin_api.js\";\n        if (isYandex) {\n            // в асинхронном варианте для Yandex пробуем подключить расширения по очереди\n            load_js_script(operaUrl, nmcades_api_onload, function () {\n                load_js_script(manifestv2Url, nmcades_api_onload, function () {\n                    load_js_script(manifestv3Url, nmcades_api_onload, plugin_loaded_error);\n                });\n            });\n            return;\n        }\n        if (isOpera) {\n            // в асинхронном варианте для Opera подключаем расширение из Opera Store.\n            load_js_script(operaUrl, nmcades_api_onload, plugin_loaded_error);\n            return;\n        }\n        // для Chrome, Chromium, Chromium Edge расширение из Chrome store\n        load_js_script(manifestv2Url, nmcades_api_onload, function () {\n            load_js_script(manifestv3Url, nmcades_api_onload, plugin_loaded_error);\n        });\n    }\n\n    //Загружаем плагин для NPAPI\n    function load_npapi_plugin() {\n        var elem = document.createElement('object');\n        elem.setAttribute(\"id\", \"cadesplugin_object\");\n        elem.setAttribute(\"type\", \"application/x-cades\");\n        elem.setAttribute(\"style\", \"visibility: hidden\");\n        document.getElementsByTagName(\"body\")[0].appendChild(elem);\n        pluginObject = document.getElementById(\"cadesplugin_object\");\n        if (isIE()) {\n            var elem1 = document.createElement('object');\n            elem1.setAttribute(\"id\", \"certEnrollClassFactory\");\n            elem1.setAttribute(\"classid\", \"clsid:884e2049-217d-11da-b2a4-000e7bbb2b09\");\n            elem1.setAttribute(\"style\", \"visibility: hidden\");\n            document.getElementsByTagName(\"body\")[0].appendChild(elem1);\n            var elem2 = document.createElement('object');\n            elem2.setAttribute(\"id\", \"webClassFactory\");\n            elem2.setAttribute(\"classid\", \"clsid:B04C8637-10BD-484E-B0DA-B8A039F60024\");\n            elem2.setAttribute(\"style\", \"visibility: hidden\");\n            document.getElementsByTagName(\"body\")[0].appendChild(elem2);\n        }\n    }\n\n    //Отправляем событие что все ок.\n    function plugin_loaded() {\n        plugin_resolved = 1;\n        if (canPromise) {\n            plugin_resolve();\n        } else {\n            window.postMessage(\"cadesplugin_loaded\", \"*\");\n        }\n    }\n\n    //Отправляем событие что сломались.\n    function plugin_loaded_error(msg) {\n        if (typeof (msg) === 'undefined' || typeof (msg) === 'object') {\n            msg = \"Плагин недоступен\";\n        }\n        plugin_resolved = 1;\n        if (canPromise) {\n            plugin_reject(msg);\n        } else {\n            window.postMessage(\"cadesplugin_load_error\", \"*\");\n        }\n    }\n\n    //проверяем что у нас хоть какое то событие ушло, и если не уходило кидаем еще раз ошибку\n    function check_load_timeout() {\n        if (plugin_resolved === 1) {\n            return;\n        }\n        if (isFireFox && !isFireFoxExtensionLoaded) {\n            show_firefox_missing_extension_dialog();\n        }\n        plugin_resolved = 1;\n        if (canPromise) {\n            plugin_reject(\"Истекло время ожидания загрузки плагина\");\n        } else {\n            window.postMessage(\"cadesplugin_load_error\", \"*\");\n        }\n    }\n\n    function check_npapi_plugin() {\n        try {\n            CreateObject(\"CAdESCOM.About\");\n            plugin_loaded();\n        } catch (err) {\n            document.getElementById(\"cadesplugin_object\").style.display = 'none';\n            // Объект создать не удалось, проверим, установлен ли\n            // вообще плагин. Такая возможность есть не во всех браузерах\n            // noinspection JSDeprecatedSymbols\n            var mimetype = window.navigator.mimeTypes[\"application/x-cades\"];\n            if (mimetype) {\n                // noinspection JSDeprecatedSymbols\n                var plugin = mimetype.enabledPlugin;\n                if (plugin) {\n                    plugin_loaded_error(\"Плагин загружен, но не создаются обьекты\");\n                } else {\n                    plugin_loaded_error(\"Ошибка при загрузке плагина\");\n                }\n            } else {\n                plugin_loaded_error(\"Плагин недоступен\");\n            }\n        }\n    }\n\n    // Проверяем работает ли плагин\n    function check_plugin_working() {\n        var div = document.createElement(\"div\");\n        div.innerHTML = \"<!--[if lt IE 9]><i></i><![endif]-->\";\n        var isIeLessThan9 = (div.getElementsByTagName(\"i\").length === 1);\n        if (isIeLessThan9) {\n            plugin_loaded_error(\"Internet Explorer версии 8 и ниже не поддерживается\");\n            return;\n        }\n\n        if (isNativeMessageSupported()) {\n            load_extension();\n        } else if (!canPromise) {\n            window.addEventListener(\"message\", function (event) {\n                if (event.data !== \"cadesplugin_echo_request\") {\n                    return;\n                }\n                load_npapi_plugin();\n                check_npapi_plugin();\n            }, false);\n        } else {\n            if (document.readyState === \"complete\") {\n                load_npapi_plugin();\n                check_npapi_plugin();\n            } else {\n                window.addEventListener(\"load\", function (event) {\n                    load_npapi_plugin();\n                    check_npapi_plugin();\n                }, false);\n            }\n        }\n    }\n\n    function set_pluginObject(obj) {\n        pluginObject = obj;\n    }\n\n    function is_capilite_enabled() {\n        // noinspection JSUnresolvedVariable\n        return ((typeof (cadesplugin.EnableInternalCSP) !== 'undefined') && cadesplugin.EnableInternalCSP);\n    }\n\n    function set_load_timeout() {\n        // noinspection JSUnresolvedVariable\n        if (window.cadesplugin_load_timeout) {\n            window.setTimeout(check_load_timeout, window.cadesplugin_load_timeout);\n        } else {\n            window.setTimeout(check_load_timeout, 20000);\n        }\n    }\n\n    // noinspection JSUnusedLocalSymbols\n    var onVisibilityChange = function (event) {\n        if (document.hidden === false) {\n            document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n            set_load_timeout();\n            check_plugin_working();\n        }\n    };\n\n    //Export\n    cadesplugin.JSModuleVersion = \"2.4.1\";\n    cadesplugin.async_spawn = async_spawn;\n    cadesplugin.set = set_pluginObject;\n    cadesplugin.set_log_level = set_log_level;\n    cadesplugin.get_extension_version = get_extension_version;\n    cadesplugin.get_extension_id = get_extension_id;\n    cadesplugin.getLastError = getLastError;\n    cadesplugin.is_capilite_enabled = is_capilite_enabled;\n\n    if (isNativeMessageSupported()) {\n        cadesplugin.CreateObjectAsync = CreateObjectAsync;\n        cadesplugin.ReleasePluginObjects = ReleasePluginObjects;\n    }\n\n    if (!isNativeMessageSupported()) {\n        cadesplugin.CreateObject = CreateObject;\n    }\n\n    set_constantValues();\n\n    cadesplugin.current_log_level = cadesplugin.LOG_LEVEL_ERROR;\n    window.cadesplugin = cadesplugin;\n    if (isSafari && document.hidden) {\n        document.addEventListener(\"visibilitychange\", onVisibilityChange);\n        return;\n    }\n    set_load_timeout();\n    check_plugin_working();\n}());\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","exports.f = {}.propertyIsEnumerable;\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","'use strict';\nvar at = require('./_string-at')(true);\n\n // `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? at(S, index).length : 1);\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar TO_STRING = 'toString';\nvar $toString = Function[TO_STRING];\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","'use strict';\nrequire('./es6.regexp.exec');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\nvar regexpExec = require('./_regexp-exec');\n\nvar SPECIES = wks('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () {\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length === 2 && result[0] === 'a' && result[1] === 'b';\n})();\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n    re.exec = function () { execCalled = true; return null; };\n    if (KEY === 'split') {\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n    }\n    re[SYMBOL]('');\n    return !execCalled;\n  }) : undefined;\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var fns = exec(\n      defined,\n      SYMBOL,\n      ''[KEY],\n      function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }\n    );\n    var strfn = fns[0];\n    var rxfn = fns[1];\n\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","'use strict';\n\nvar regexpFlags = require('./_flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar LAST_INDEX = 'lastIndex';\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/,\n      re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX];\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      // eslint-disable-next-line no-loop-func\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","/*\n * [js-sha1]{@link https://github.com/emn178/js-sha1}\n *\n * @version 0.6.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function() {\n  'use strict';\n\n  var root = typeof window === 'object' ? window : {};\n  var NODE_JS = !root.JS_SHA1_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  }\n  var COMMON_JS = !root.JS_SHA1_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  var createOutputMethod = function (outputType) {\n    return function (message) {\n      return new Sha1(true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function () {\n    var method = createOutputMethod('hex');\n    if (NODE_JS) {\n      method = nodeWrap(method);\n    }\n    method.create = function () {\n      return new Sha1();\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash('sha1').update(message, 'utf8').digest('hex');\n      } else if (message.constructor === ArrayBuffer) {\n        message = new Uint8Array(message);\n      } else if (message.length === undefined) {\n        return method(message);\n      }\n      return crypto.createHash('sha1').update(new Buffer(message)).digest('hex');\n    };\n    return nodeMethod;\n  };\n\n  function Sha1(sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n      blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n      blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n      blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    this.h0 = 0x67452301;\n    this.h1 = 0xEFCDAB89;\n    this.h2 = 0x98BADCFE;\n    this.h3 = 0x10325476;\n    this.h4 = 0xC3D2E1F0;\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n  }\n\n  Sha1.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString = typeof(message) !== 'string';\n    if (notString && message.constructor === root.ArrayBuffer) {\n      message = new Uint8Array(message);\n    }\n    var code, index = 0, i, length = message.length || 0, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if(notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha1.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n      blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n      blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n      blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha1.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4;\n    var f, j, t, blocks = this.blocks;\n\n    for(j = 16; j < 80; ++j) {\n      t = blocks[j - 3] ^ blocks[j - 8] ^ blocks[j - 14] ^ blocks[j - 16];\n      blocks[j] =  (t << 1) | (t >>> 31);\n    }\n\n    for(j = 0; j < 20; j += 5) {\n      f = (b & c) | ((~b) & d);\n      t = (a << 5) | (a >>> 27);\n      e = t + f + e + 1518500249 + blocks[j] << 0;\n      b = (b << 30) | (b >>> 2);\n\n      f = (a & b) | ((~a) & c);\n      t = (e << 5) | (e >>> 27);\n      d = t + f + d + 1518500249 + blocks[j + 1] << 0;\n      a = (a << 30) | (a >>> 2);\n\n      f = (e & a) | ((~e) & b);\n      t = (d << 5) | (d >>> 27);\n      c = t + f + c + 1518500249 + blocks[j + 2] << 0;\n      e = (e << 30) | (e >>> 2);\n\n      f = (d & e) | ((~d) & a);\n      t = (c << 5) | (c >>> 27);\n      b = t + f + b + 1518500249 + blocks[j + 3] << 0;\n      d = (d << 30) | (d >>> 2);\n\n      f = (c & d) | ((~c) & e);\n      t = (b << 5) | (b >>> 27);\n      a = t + f + a + 1518500249 + blocks[j + 4] << 0;\n      c = (c << 30) | (c >>> 2);\n    }\n\n    for(; j < 40; j += 5) {\n      f = b ^ c ^ d;\n      t = (a << 5) | (a >>> 27);\n      e = t + f + e + 1859775393 + blocks[j] << 0;\n      b = (b << 30) | (b >>> 2);\n\n      f = a ^ b ^ c;\n      t = (e << 5) | (e >>> 27);\n      d = t + f + d + 1859775393 + blocks[j + 1] << 0;\n      a = (a << 30) | (a >>> 2);\n\n      f = e ^ a ^ b;\n      t = (d << 5) | (d >>> 27);\n      c = t + f + c + 1859775393 + blocks[j + 2] << 0;\n      e = (e << 30) | (e >>> 2);\n\n      f = d ^ e ^ a;\n      t = (c << 5) | (c >>> 27);\n      b = t + f + b + 1859775393 + blocks[j + 3] << 0;\n      d = (d << 30) | (d >>> 2);\n\n      f = c ^ d ^ e;\n      t = (b << 5) | (b >>> 27);\n      a = t + f + a + 1859775393 + blocks[j + 4] << 0;\n      c = (c << 30) | (c >>> 2);\n    }\n\n    for(; j < 60; j += 5) {\n      f = (b & c) | (b & d) | (c & d);\n      t = (a << 5) | (a >>> 27);\n      e = t + f + e - 1894007588 + blocks[j] << 0;\n      b = (b << 30) | (b >>> 2);\n\n      f = (a & b) | (a & c) | (b & c);\n      t = (e << 5) | (e >>> 27);\n      d = t + f + d - 1894007588 + blocks[j + 1] << 0;\n      a = (a << 30) | (a >>> 2);\n\n      f = (e & a) | (e & b) | (a & b);\n      t = (d << 5) | (d >>> 27);\n      c = t + f + c - 1894007588 + blocks[j + 2] << 0;\n      e = (e << 30) | (e >>> 2);\n\n      f = (d & e) | (d & a) | (e & a);\n      t = (c << 5) | (c >>> 27);\n      b = t + f + b - 1894007588 + blocks[j + 3] << 0;\n      d = (d << 30) | (d >>> 2);\n\n      f = (c & d) | (c & e) | (d & e);\n      t = (b << 5) | (b >>> 27);\n      a = t + f + a - 1894007588 + blocks[j + 4] << 0;\n      c = (c << 30) | (c >>> 2);\n    }\n\n    for(; j < 80; j += 5) {\n      f = b ^ c ^ d;\n      t = (a << 5) | (a >>> 27);\n      e = t + f + e - 899497514 + blocks[j] << 0;\n      b = (b << 30) | (b >>> 2);\n\n      f = a ^ b ^ c;\n      t = (e << 5) | (e >>> 27);\n      d = t + f + d - 899497514 + blocks[j + 1] << 0;\n      a = (a << 30) | (a >>> 2);\n\n      f = e ^ a ^ b;\n      t = (d << 5) | (d >>> 27);\n      c = t + f + c - 899497514 + blocks[j + 2] << 0;\n      e = (e << 30) | (e >>> 2);\n\n      f = d ^ e ^ a;\n      t = (c << 5) | (c >>> 27);\n      b = t + f + b - 899497514 + blocks[j + 3] << 0;\n      d = (d << 30) | (d >>> 2);\n\n      f = c ^ d ^ e;\n      t = (b << 5) | (b >>> 27);\n      a = t + f + a - 899497514 + blocks[j + 4] << 0;\n      c = (c << 30) | (c >>> 2);\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n  };\n\n  Sha1.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4;\n\n    return HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n           HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n           HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n           HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n           HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n           HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n           HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n           HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n           HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n           HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n           HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n           HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n           HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n           HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n           HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n           HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n           HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n           HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n           HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n           HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F];\n  };\n\n  Sha1.prototype.toString = Sha1.prototype.hex;\n\n  Sha1.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4;\n\n    return [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF\n    ];\n  };\n\n  Sha1.prototype.array = Sha1.prototype.digest;\n\n  Sha1.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(20);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    return buffer;\n  };\n\n  var exports = createMethod();\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha1 = exports;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","function DN(){}\n\nDN.prototype.toString = function () {\n\tlet ret = '';\n\tfor (let i in this) {\n        if (this.hasOwnProperty(i)) {\n            ret += i + '=\"' + this[i].replace(/\"/g, '\\'') + '\", ';\n        }\n    }\n\treturn ret;\n};\n\nexport default DN;\n","export default {\n    CKR_CANCEL: 'пользователь отказался от выполнения операции.',\n    CKR_HOST_MEMORY: 'недостаточно памяти для выполнения функции.',\n    CKR_SLOT_ID_INVALID: 'неправильный идентификатор слота.',\n    CKR_GENERAL_ERROR: 'Критическая ошибка, связанная с аппаратным обеспечением; Неудачная попытка проверки пути сертификации.',\n    CKR_FUNCTION_FAILED: 'при выполнении функции возник сбой.',\n    CKR_ARGUMENTS_BAD: 'недопустимый аргумент.',\n    CKR_ATTRIBUTE_READ_ONLY: 'предпринята попытка присвоения значения атрибуту, который нельзя изменять.',\n    CKR_ATTRIBUTE_TYPE_INVALID: 'некорректный тип атрибута.',\n    CKR_ATTRIBUTE_VALUE_INVALID: 'атрибут нулевой длины.',\n    CKR_DEVICE_ERROR: 'ошибка при обращении к устройству или слоту.',\n    CKR_DEVICE_MEMORY: 'для выполнения функции недостаточно памяти в устройстве.',\n    CKR_FUNCTION_CANCELED: 'время ожидания выполнения функции истекло.',\n    CKR_KEY_HANDLE_INVALID: 'функции передан некорректный дескриптор ключа.',\n    CKR_KEY_SIZE_RANGE: 'недопустимый размер ключа.',\n    CKR_KEY_TYPE_INCONSISTENT: 'данный тип ключа не может использоваться с данным механизмом.',\n    CKR_MECHANISM_INVALID: 'при выполнении криптографической функции был указан неправильный механизм.',\n    CKR_MECHANISM_PARAM_INVALID: 'при выполнении криптографической функции были заданы некорректные параметры механизма.',\n    CKR_OBJECT_HANDLE_INVALID: 'функции передан некорректный дескриптор объекта.',\n    CKR_OPERATION_ACTIVE: 'одна или несколько выполняющихся операций препятствуют выполнению новой операции.',\n    CKR_OPERATION_NOT_INITIALIZED: 'выполнение операции без предварительного указания параметров невозможно.',\n    CKR_PIN_INCORRECT: 'функции передан неверный PIN-код.',\n    CKR_PIN_LEN_RANGE: 'недопустимая длина PIN-кода.',\n    CKR_PIN_LOCKED: 'PIN-код заблокирован.',\n    CKR_SESSION_HANDLE_INVALID: 'функции передан некорректный дескриптор сессии.',\n    CKR_SESSION_PARALLEL_NOT_SUPPORTED: 'невозможно открыть параллельную сессию.',\n    CKR_SESSION_EXISTS: 'уже открыта сессия работы с тем же устройством.',\n    CKR_SESSION_READ_ONLY_EXISTS: 'сессия открыта только для чтения. Смена режима невозможна.',\n    CKR_SESSION_READ_WRITE_SO_EXISTS: 'открыта сессия чтения/записи. Открыть сеанс только для чтения невозможно.',\n    CKR_SIGNATURE_INVALID: 'неправильное значение электронной подписи.',\n    CKR_TEMPLATE_INCOMPLETE: 'для создания объекта недостаточно атрибутов.',\n    CKR_TOKEN_NOT_PRESENT: 'в момент выполнения функции устройство было отключено.',\n    CKR_TOKEN_WRITE_PROTECTED: 'устройство недоступно для записи.',\n    CKR_USER_ALREADY_LOGGED_IN: 'пользователь уже предъявил PIN-код.',\n    CKR_USER_NOT_LOGGED_IN: 'функция не может быть выполнена в гостевом режиме работы устройства.',\n    CKR_USER_PIN_NOT_INITIALIZED: 'начальное значение PIN-кода не установлено.',\n    CKR_USER_TYPE_INVALID: 'функция не может быть выполнена в текущем режиме работы устройства.',\n    CKR_USER_ANOTHER_ALREADY_LOGGED_IN: 'невозможно переключение из режима администратора в режим пользователя или обратно.',\n    CKR_BUFFER_TOO_SMALL: 'размер заданного буфера является недостаточным для сохранения результатов функции.',\n    CKR_INFORMATION_SENSITIVE: 'запрашиваемый объект недоступен для чтения.',\n    CKR_CRYPTOKI_NOT_INITIALIZED: 'выполнение функции без инициализации Единой библиотеки PKCS#11 (библиотеки Cryptoki) невозможно.',\n    CKR_CRYPTOKI_ALREADY_INITIALIZED: 'попытка повторно инициализировать библиотеку Cryptoki.',\n    CKR_FUNCTION_REJECTED: 'пользователь отменил операцию.',\n    NOT_STATE_TOKEN_BINDED: 'значение параметра state отличается от STATE_TOKEN_BINDED (1).',\n    NOT_STATE_NOT_BINDED: 'значение параметра state отличается от STATE_TOKEN_BINDED (0).',\n    IS_STATE_NOT_BINDED: 'параметр state принимает значение STATE_TOKEN_BINDED (0).',\n    NOT_STATE_UNILATERAL_AUTHENTICATION_IN_PROGRESS: 'значение параметра state отличается от STATE_TOKEN_BINDED (4).',\n    NOT_STATE_SECURE_CHANNEL_CONNECTION_IN_PROGRESS: 'значение параметра state отличается от STATE_TOKEN_BINDED (2).',\n    NOT_STATE_SECURE_CHANNEL_ESTABLISHED: 'значение параметра state отличается от STATE_TOKEN_BINDED (3).',\n    CERTIFICATE_NOT_FOUND: 'сертификат не обнаружен.',\n    PUBLIC_KEY_NOT_FOUND: 'открытый ключ не обнаружен в памяти поддерживаемого устройства.',\n    SERVER_PUBLIC_KEY_NOT_FOUND: 'не найден открытый ключ сервера.',\n    INVALID_SERVER_PUBLIC_KEY: 'неверный открытый ключ сервера.',\n    DATA_TO_SIGN_ZERO_LENGTH: 'на подпись были представлены данные, имеющие нулевую длину.',\n    DATA_TO_VERIFY_ZERO_LENGTH: 'на проверку подписи были представлены данные, имеющие нулевую длину.',\n    SIGNATURE_TO_VERIFY_ZERO_LENGTH: 'на проверку была представлена подпись, имеющая нулевую длину.',\n    INVALID_EC_PARAMS: 'неверно заданы параметры криптографических преобразований по ГОСТ Р 34.10-2001.',\n    TOKEN_MEMORY_TOO_SMALL: 'для выполнения операции в поддерживаемом устройстве недостаточно свободной памяти.',\n    KEY_SIZE_NOT_64: 'длина ключа не равна 64 битам.',\n    CERT_NOT_MATCH_PUBLIC_KEY: 'сертификат не соответствует открытому ключу.',\n    FAILED_CHECK_BROWSER_VERS: 'ошибка проверки версии используемого браузера.',\n    BROWSER_VERS_NOT_SUPPORTED: 'используемая версия браузера не поддерживается.',\n    INVALID_USER_TYPE: 'неверно указан тип PIN-кода.',\n    PINS_NOT_MATCH: 'введённые значения нового PIN-кода неодинаковы.',\n    USER_CHANGE_ADMIN_PIN_NOT_STATE_NOT_BINDED: 'cмена PIN-кода администратора невозможна, поскольку значение параметра state отличается от STATE_TOKEN_BINDED (0).',\n    SSL_ERR_GEN_SESSION_KEY: 'ошибка при генерации ключа защиты данных, передаваемых между клиентом и сервером.',\n    SSL_ERR_GOST_ENGINE: 'ошибка средства защиты, программно выполняющего криптографические преобразования на стороне клиента.',\n    SSL_ERR_SSL_NEW: 'ошибка в начале выполнения протокола Handshake.',\n    SSL_ERR_CONNECT: 'ошибка при выполнении протокола Handshake.',\n    SSL_ERR_SSL_WRITE: 'ошибка при подготовке данных к защищённой передаче.',\n    SSL_ERR_SSL_READ: 'ошибка при чтении защищённых для передачи данных.',\n    SSL_ERR_LOAD_CERT_AND_KEY_FROM_TOKEN: 'ошибка при попытке считать сертификат и открытый ключ из памяти поддерживаемого устройства.',\n    SSL_ERR_GET_PEER_PUBLIC_KEY: 'ошибка при получении открытого ключа сервера.',\n    CERT_PARS_ERR_GET_PUBLIC_KEY: 'не удалось считать открытый ключ из сертификата.',\n    CERT_PARS_ERR_GET_ISSUER_AND_SER_NUMBER: 'не удалось считать имя удостоверяющего центра и серийный номер из сертификата.',\n    UNKNOWN_ERROR: 'неизвестная ошибка.'\n};","import DN from './DN';\n\nconst oids = [\n  { oid: '1.2.643.3.131.1.1',    short: 'INN',    full: 'ИНН' },\n  { oid: '1.2.643.100.4',        short: 'INNLE',  full: 'ИНН ЮЛ' },\n  { oid: '1.2.643.100.1',        short: 'OGRN',   full: 'ОГРН' },\n  { oid: '1.2.643.100.5',        short: 'OGRNIP', full: 'ОГРНИП' },\n  { oid: '1.2.643.100.3',        short: 'SNILS',  full: 'СНИЛС' },\n  { oid: '1.2.840.113549.1.9.1', short: 'E',      full: 'emailAddress' },\n  { oid: '2.5.4.3',              short: 'CN',     full: 'commonName' },\n  { oid: '2.5.4.4',              short: 'SN',     full: 'surname' },\n  { oid: '2.5.4.42',             short: 'G',      full: 'givenName' },\n  { oid: '2.5.4.6',              short: 'C',      full: 'countryName' },\n  { oid: '2.5.4.7',              short: 'L',      full: 'localityName' },\n  { oid: '2.5.4.8',              short: 'S',      full: 'stateOrProvinceName' },\n  { oid: '2.5.4.9',              short: 'STREET', full: 'streetAddress' },\n  { oid: '2.5.4.10',             short: 'O',      full: 'organizationName' },\n  { oid: '2.5.4.11',             short: 'OU',     full: 'organizationalUnitName' },\n  { oid: '2.5.4.12',             short: 'T',      full: 'title' },\n//  { oid: '2.5.4.16',             short: '?',      full: 'postalAddress' },\n];\n\n/**\n * Перевод кирилицы в латиницу в ключах объекта с информацией о сертификате\n * @param {DN} dn \n * @returns {DN}\n */\nexport function convertDN(dn) {\n  const result = new DN;  \n  for (const field of Object.keys(dn)) {\n    const oid = oids.find(item => item.oid == field || item.full == field);\n    if (oid) {\n      result[oid.short] = dn[field];\n    }\n    else {\n      result[field] = dn[field];\n    }\n  }\n  return result;\n}\n\n/**\n * Убирает кавычки из строки DN\n * @param {string} str \n */\nexport function stripDnQuotes(str) \n{\n  return str.replace(/=\"/g, '=').replace(/\",/g, ',');\n}\n\n/**\n * compare function takes version numbers of any length and any number size per segment.\n * @see https://stackoverflow.com/a/16187766\n * @param {string} a\n * @param {string} b\n * @returns {number} < 0 if a < b; > 0 if a > b; 0 if a = b\n */\nexport function versionCompare(a, b) {\n  let i, diff;\n  const regExStrip0 = /(\\.0+)+$/;\n  const segmentsA = a.replace(regExStrip0, '').split('.');\n  const segmentsB = b.replace(regExStrip0, '').split('.');\n  const l = Math.min(segmentsA.length, segmentsB.length);\n\n  for (i = 0; i < l; i++) {\n    diff = parseInt(segmentsA[i], 10) - parseInt(segmentsB[i], 10);\n    if (diff) {\n      return diff;\n    }\n  }\n  return segmentsA.length - segmentsB.length;\n}\n","/**\n * JaCarta GOST simplified library\n * @author Aleksandr.ru\n * @link http://aleksandr.ru\n */\n\nimport DN from '../DN';\nimport errors from './errors';\nimport { convertDN } from '../helpers';\n\nfunction JaCarta() {\n\tvar client, tokenId;\n\n\t/**\n\t * Инициализация и проверка наличия требуемых возможностей\n\t * @returns {Promise<Object>} версия, информация о токене\n\t */\n\tthis.init = function(){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (typeof(JCWebClient) !== 'undefined') {\n\t\t\t\tresolve();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgetScript('https://localhost:24738/JCWebClient.js', resolve, reject);\n\t\t\t}\n\t\t}).then(() => {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\ttry {\n\t\t\t\t\tif(typeof JCWebClient != 'undefined') {\n\t\t\t\t\t\t// Установлен клиент одной из версий JC-WebClient (2.x или новой) либо оба клиента\n\t\t\t\t\t\tif(typeof JCWebClient.id == 'undefined') {\n\t\t\t\t\t\t\t// Установлен клиент новой версии, работающей через локальный веб-сервер\n\t\t\t\t\t\t\tclient = JCWebClient();\n\t\t\t\t\t\t\tclient.initialize();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// Установлен клиент версии 2.x, работающей через NPAPI и ActiveX\n\t\t\t\t\t\t\tthrow new Error('JaCarta WebClient 2.x не поддерживается');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t//Не установлен клиент ни старой, ни новой версии JC-WebClient\n\t\t\t\t\t\tthrow new Error('Не установлен клиент ни старой, ни новой версии JC-WebClient');\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!client.checkWebBrowserVersion()) {\n\t\t\t\t\t\tthrow new Error('Браузер не поддерживается');\n\t\t\t\t\t}\n\n\t\t\t\t\tvar aTokens = client.getAllTokens();\n\t\t\t\t\tif(aTokens && aTokens.length == 1) {\n\t\t\t\t\t\t// OK 1 токен\n\t\t\t\t\t\ttokenId = aTokens.shift();\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse if(aTokens && aTokens.length > 1) {\n\t\t\t\t\t\tthrow new Error('Подключено ' + aTokens.length + ' токена(ов)');\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthrow new Error('Нет подключенных токенов');\n\t\t\t\t\t}\n\t\t\t\t\tvar version = client.getPluginVersion();\n\t\t\t\t\tvar tokenInfo = client.getTokenInfo(tokenId);\n\t\t\t\t\tresolve({\n\t\t\t\t\t\tversion,\n\t\t\t\t\t\tserial: tokenInfo[0], // серийный номер электронного ключа.\n\t\t\t\t\t\tflags: tokenInfo[1],  // флаги электронного ключа.\n\t\t\t\t\t\tlabel: tokenInfo[2],  // метка электронного ключа.\n\t\t\t\t\t\ttype: tokenInfo[3]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tcatch(e) {\n\t\t\t\t\tvar err = getError();\n\t\t\t\t\tthrow new Error(e.message || err);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\t/**\n\t * Авторизация на токене с пин-кодом юзера\n\t * @param {string} userPin если нет, то предлгает ввести пин через UI плагина\n\t * @returns {Promise}\n\t */\n\tthis.bind = function(userPin) {\n\t\treturn new Promise(resolve => {\n\t\t\ttry {\n\t\t\t\tvar state = client.getLoggedInState().shift();\n\t\t\t\tif(state === 1) {\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t\telse if(!userPin) {\n\t\t\t\t\tif(client.bindTokenUI(tokenId)) {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthrow new Error('Пользователь отменил ввод PIN-кода');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tclient.bindTokenAsync(tokenId, userPin, function(a){\n\t\t\t\t\t\tif(a && a[0] == 'Error') {\n\t\t\t\t\t\t\tvar code = a[1];\n\t\t\t\t\t\t\tvar err = getError(code);\n\t\t\t\t\t\t\tthrow new Error(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\t\tvar err = getError();\n\t\t\t\tthrow new Error(err || e.message);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Отменить предъявление PIN-кода. Необходимо вызывать при завершении сеанса работы\n\t * @returns {Promise}\n\t */\n\tthis.unbind = function() {\n\t\treturn new Promise(resolve => {\n\t\t\ttry {\n\t\t\t\tvar state = client.getLoggedInState().shift();\n\t\t\t\tif(state === 1) {\n\t\t\t\t\tclient.unbindToken();\n\t\t\t\t}\n\t\t\t\tresolve();\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\t\tvar err = getError();\n\t\t\t\tthrow new Error(err || e.message);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Очистка токена (удаление всех контейнеров)\n\t * @returns {Promise<number>} количество удаленных контейнеров\n\t */\n\tthis.clean = function(){\n\t\treturn new Promise(resolve => {\n\t\t\ttry {\n\t\t\t\tvar aContainers = client.getCertificateList(tokenId);\n\t\t\t\tfor(var i in aContainers) {\n\t\t\t\t\tvar containerId = aContainers[i].shift();\n\t\t\t\t\tclient.deleteContainerOrCertificate(containerId);\n\t\t\t\t}\n\t\t\t\tresolve(i);\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\t\tvar err = getError();\n\t\t\t\tthrow new Error(err || e.message);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Создать запрос на сертификат\n\t * @param {DN} dn\n\t * @param {string} description описание контейнера\n\t * @param {array} ekuOids массив OID Extended Key Usage, по-умолчанию Аутентификация клиента '1.3.6.1.5.5.7.3.2' + Защищенная электронная почта '1.3.6.1.5.5.7.3.4'\n\t * @param {string} ecParams параметры эллиптической кривой ключевой пары. Может принимать значения A, B, C, XA, XB.\n\t * @returns {Promise<Object>} объект с полями { csr: 'base64 запрос на сертификат', containerId }\n\t * @see DN\n\t */\n\tthis.generateCSR = function(dn, description, ekuOids, ecParams){\n\t\tif(!ekuOids || !ekuOids.length) {\n\t\t\tekuOids = [\n\t\t\t\t'1.3.6.1.5.5.7.3.2', // Аутентификация клиента\n\t\t\t\t'1.3.6.1.5.5.7.3.4' // Защищенная электронная почта\n\t\t\t];\n\t\t}\n\t\tif(!ecParams) ecParams = 'XA';\n\t\treturn new Promise(resolve => {\n\t\t\ttry {\n\t\t\t\tclient.createContainerAsync(ecParams, description, function(a){\n\t\t\t\t\tif(a && a[0] == 'Error') {\n\t\t\t\t\t\tvar code = a[1];\n\t\t\t\t\t\tvar err = getError(code);\n\t\t\t\t\t\tthrow new Error(err);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar containerId = a;\n\t\t\t\t\t\tvar aDn = [];\n\t\t\t\t\t\tfor(var i in dn) if(dn.hasOwnProperty(i)) {\n\t\t\t\t\t\t\taDn.push(i, dn[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar exts = [\n\t\t\t\t\t\t\t'certificatePolicies',\t'1.2.643.100.113.1',\n\t\t\t\t\t\t\t'keyUsage',\t\t\t\t'digitalSignature,keyEncipherment,nonRepudiation,dataEncipherment',\n\t\t\t\t\t\t\t'extendedKeyUsage',\t\tekuOids.toString(),\n\t\t\t\t\t\t\t'1.2.643.100.111',\t\t'ASN1:FORMAT:UTF8,UTF8:\"Криптотокен\" (АЛАДДИН Р.Д.)'\n\t\t\t\t\t\t];\n\t\t\t\t\t\tclient.genCSRAsync(containerId, aDn, exts, function(a){\n\t\t\t\t\t\t\tif(a && a[0] == 'Error') {\n\t\t\t\t\t\t\t\tvar code = a[1];\n\t\t\t\t\t\t\t\tvar err = getError(code);\n\t\t\t\t\t\t\t\tthrow new Error(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t// base64(запрос на сертификат в формате PKCS#10)\n\t\t\t\t\t\t\t\tvar csr = btoa(String.fromCharCode.apply(null, new Uint8Array(a)));\n\t\t\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\t\t\tcsr: pemSplit(csr), \n\t\t\t\t\t\t\t\t\tcontainerId\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\t\t\t\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\t\tvar err = getError();\n\t\t\t\tthrow new Error(err || e.message);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Записать сертификат в контейнер\n\t * @param {string} certificate base64(массив байт со значением сертификата в формате DER)\n\t * @param {int} идентификатор контейнера куда записывать\n\t * @returns {Promise}\n\t */\n\tthis.writeCertificate = function(certificate, containerId){\n\t\treturn new Promise(resolve => {\n\t\t\ttry {\n\t\t\t\tvar aCertificate = [];\n\t\t\t\tvar der = atob(certificate);\n\t\t\t\tfor(var i=0; i<der.length; i++) {\n\t\t\t\t\taCertificate[i] = der.charCodeAt(i);\n\t\t\t\t}\n\t\t\t\tclient.writeCertificateAsync(containerId, aCertificate, function(){\n\t\t\t\t\tresolve();\n\t\t\t\t});\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\t\tvar err = getError();\n\t\t\t\tthrow new Error(err || e.message);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Получение информации о сертификате.\n\t * @param {int} containerId идентификатор контейнера (сертификата)\n\t * @returns {Promise<Object>}\n\t */\n\tthis.certificateInfo = function(containerId){\n\t\treturn new Promise(resolve => {\n\t\t\ttry {\n\t\t\t\tvar o = client.parseX509CertificateEx(tokenId, containerId);\n\t\t\t\tvar dn = new DN;\n\t\t\t\tfor(var i in o.Data.Subject) {\n\t\t\t\t\tvar rdn = o.Data.Subject[i].rdn;\n\t\t\t\t\tvar val = o.Data.Subject[i].value;\n\t\t\t\t\tdn[rdn] = val;\n\t\t\t\t}\n\t\t\t\tdn = convertDN(dn);\n\t\t\t\tvar dnI = new DN;\n\t\t\t\tfor(var i in o.Data.Issuer) {\n\t\t\t\t\tvar rdn = o.Data.Issuer[i].rdn;\n\t\t\t\t\tvar val = o.Data.Issuer[i].value;\n\t\t\t\t\tdnI[rdn] = val;\n\t\t\t\t}\n\t\t\t\tvar dt = new Date();\n\t\t\t\tvar info = {\n\t\t\t\t\tName: dn.CN,\n\t\t\t\t\tIssuer: dnI,\n\t\t\t\t\tIssuerName: dnI.CN,\n\t\t\t\t\tSubject: dn,\n\t\t\t\t\tSubjectName: dn.toString(),\n\t\t\t\t\tVersion: o.Data.Version,\n\t\t\t\t\tSerialNumber: o.Data['Serial Number'].map(byte2hex).join(''),\n\t\t\t\t\tThumbprint: o.Signature.map(byte2hex).join(''),\n\t\t\t\t\tValidFromDate: o.Data.Validity['Not Before'],\n\t\t\t\t\tValidToDate: o.Data.Validity['Not After'],\n\t\t\t\t\tHasPrivateKey: true,\n\t\t\t\t\tIsValid: dt >= o.Data.Validity['Not Before'] && dt <= o.Data.Validity['Not After'],\n\t\t\t\t\ttoString: function(){\n\t\t\t\t\t\treturn 'Название:              ' + this.Name +\n\t\t\t\t\t\t\t'\\nИздатель:              ' + this.IssuerName +\n\t\t\t\t\t\t\t'\\nСубъект:               ' + this.SubjectName +\n\t\t\t\t\t\t\t'\\nВерсия:                ' + this.Version +\n\t\t\t\t\t\t\t'\\nСерийный №:            ' + this.SerialNumber +\n\t\t\t\t\t\t\t'\\nОтпечаток SHA1:        ' + this.Thumbprint +\n\t\t\t\t\t\t\t'\\nНе действителен до:    ' + this.ValidFromDate +\n\t\t\t\t\t\t\t'\\nНе действителен после: ' + this.ValidToDate +\n\t\t\t\t\t\t\t'\\nПриватный ключ:        ' + (this.HasPrivateKey ? 'Есть' : 'Нет') +\n\t\t\t\t\t\t\t'\\nВалидный:              ' + (this.IsValid ? 'Да' : 'Нет');\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tresolve(info);\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\t\tvar err = getError();\n\t\t\t\tthrow new Error(err || e.message);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Получение массива доступных сертификатов\n\t * @returns {Promise<Array>} [{id, subject}, ...]\n\t */\n\tthis.listCertificates = function(){\n\t\treturn new Promise(resolve => {\n\t\t\ttry {\n\t\t\t\tclient.getCertificateListAsync(tokenId, function(a){\n\t\t\t\t\tif(a && a[0] == 'Error') {\n\t\t\t\t\t\tvar code = a[1];\n\t\t\t\t\t\tvar err = getError(code);\n\t\t\t\t\t\tthrow new Error(err);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar certs = [];\n\t\t\t\t\t\tfor(var i=0; i<a.length; i++) {\n\t\t\t\t\t\t\tvar id = a[i][0];\n\t\t\t\t\t\t\tvar contName = a[i][1];\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tvar o = client.parseX509CertificateEx(tokenId, contId);\n\t\t\t\t\t\t\t\tvar name = formatCertificateName(o, contName);\n\t\t\t\t\t\t\t\tcerts.push({ id, name });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcatch(e) {\n\t\t\t\t\t\t\t\tconsole.log('Certificate (%s) info error: %s',  contId, e.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(certs);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\t\tvar err = getError();\n\t\t\t\tthrow new Error(err || e.message);\n\t\t\t}\n\t\t});\n\t};\n\t\n\t/**\n\t * Получить сертификат из контейнера\n\t * @param {int} containerId \n\t * @returns {Promise<string>} base64(массив байт со значением сертификата в формате DER)\n\t */\n\tthis.readCertificate = function(containerId){\n\t\treturn new Promise(resolve => {\n\t\t\ttry {\n\t\t\t\tvar state = client.getLoggedInState().shift();\n\t\t\t\tif(state === 0) {\n\t\t\t\t\tvar a = client.readCertificateEx(tokenId, containerId);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar a = client.readCertificate(containerId);\n\t\t\t\t}\n\t\t\t\tif(a && a.length) {\n\t\t\t\t\t// base64(массив байт со значением сертификата в формате DER)\n\t\t\t\t\tvar cert = btoa(String.fromCharCode.apply(null, new Uint8Array(a)));\n\t\t\t\t\tresolve(pemSplit(cert));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow new Error('Нет сертификата в контейнере');\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\t\tvar err = getError();\n\t\t\t\tthrow new Error(err || e.message);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Подписать данные. Выдает подпись в формате PKCS#7, опционально закодированную в Base64\n\t * @param {string} data данные (и подпись) закодированы в base64\n\t * @param {int} containerId идентификатор контейнера (сертификата)\n\t * @returns {Promise<string>} строка-подпись в формате PKCS#7, закодированная в Base64.\n\t */\n\tthis.signData = function(dataBase64, containerId){\n\t\tvar attachedSignature = false;\n\t\treturn new Promise(resolve => {\n\t\t\ttry {\n\t\t\t\tclient.signBase64EncodedDataAsync(containerId, dataBase64, attachedSignature, false, function(a){\n\t\t\t\t\tif(a && a[0] == 'Error') {\n\t\t\t\t\t\tvar code = a[1];\n\t\t\t\t\t\tvar err = getError(code);\n\t\t\t\t\t\tthrow new Error(err);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar sign = pemSplit(a);\n\t\t\t\t\t\tresolve(sign);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\t\tvar err = getError();\n\t\t\t\tthrow new Error(err || e.message);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Шифрование данных не поддерживается\n\t * @returns {Promise}\n\t */\n\tthis.encryptData = function() {\n\t\treturn new Promise(function () {\n\t\t\tthrow new Error('Encrypt feature is not supported, please upgrade to JaCarta-2 GOST');\n\t\t});\n\t}\n\n\t/**\n\t * Дешифрование данных не поддерживается\n\t * @returns {Promise<>}\n\t */\n\tthis.decryptData = function() {\n\t\treturn new Promise(function () {\n\t\t\tthrow new Error('Decrypt feature is not supported, please upgrade to JaCarta-2 GOST');\n\t\t});\n\t}\n\n\t/**\n\t * Получить ошибку по коду\n\t * @param {string} mnemo мнемонический код ошибки CKR_*\n\t * @returns {string|Boolean} false если нет ошибки (CKR_OK)\n\t */\n\tfunction getError(mnemo) {\n\t\ttry {\n\t\t\tif(!mnemo) {\n\t\t\t\tvar code = client.getLastError();\n\t\t\t\tmnemo = client.getErrorMessage(code);\n\t\t\t}\n\t\t\tif(mnemo == 'CKR_OK') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn errors[mnemo] || mnemo;\n\t\t}\n\t\tcatch(e) {\n\t\t\treturn e.message;\n\t\t}\n\t}\n\n\t/**\n\t * Получить название сертификата\n\t * @param {type} o объект, включающий в себя значения всех полей сертификата.\n\t * @param {type} containerName\n\t * @returns {string} \n\t */\n\tfunction formatCertificateName(o, containerName)\n\t{\n\t\tvar dn = new DN;\n\t\tfor(var i in o.Data.Subject) {\n\t\t\tvar rdn = o.Data.Subject[i].rdn;\n\t\t\tvar val = o.Data.Subject[i].value;\n\t\t\tdn[rdn] = val;\n\t\t}\n\t\tdn.toString = function(){\n\t\t\tvar cn = this['CN'] || this['2.5.4.3'];\n\t\t\tvar snils = this['СНИЛС'] || this['SNILS'] || this['1.2.643.100.3'];\n\t\t\tvar inn = this['ИНН'] || this['INN'] || this['1.2.643.3.131.1.1'];\n\t\t\treturn '' + cn + (inn ?  '; ИНН ' + inn : '') + (snils ?  '; СНИЛС ' + snils : '') + (containerName ? ' (' + containerName + ')' : '');\n\t\t};\n\t\treturn dn.toString();\n\t}\n\n\tfunction byte2hex(byte) {\n\t\t//console.log('byte %d -> %s', byte, byte.toString(16));\n\t\treturn ('0' + byte.toString(16)).slice(-2);\n\t}\n\n\t// https://gist.github.com/hendriklammers/5231994\n\tfunction pemSplit(str) {\n\t\tvar re = new RegExp('.{1,64}', 'g');\n\t\treturn str.match(re).join('\\n');\n\t}\n\n\t/** \n\t * Функция загрузки скрипта.\n\t * @param src - адрес расположения скрипта;\n\t * @param done - callback-функция, срабатывающая при успешной загрузки скрипта;\n\t * @param fail - callback-функция, срабатывающая при неудачной загрузки скрипта.\n\t*/\n\tfunction getScript(src, done, fail) {\n\t\tvar parent = document.getElementsByTagName('body')[0];\n\n\t\tvar script = document.createElement('script');\n\t\tscript.type = 'text/javascript';\n\t\tscript.src = src;\n\n\t\tif (script.readyState) {  // IE\n\t\t\tscript.onreadystatechange = function () {\n\t\t\t\tif (script.readyState === \"loaded\" || script.readyState === \"complete\") {\n\t\t\t\t\tscript.onreadystatechange = null;\n\t\t\t\t\t// На некоторых браузерах мы попадаем сюда и в тех случаях когда скрипт не загружен,\n\t\t\t\t\t// поэтому дополнительно проверяем валидность JCWebClient\n\t\t\t\t\tif (typeof (JCWebClient) === 'undefined') {\n\t\t\t\t\t\tonFail(\"JCWebClient is invalid\");\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tdone();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (script.readyState !== \"loading\") {\n\t\t\t\t\tonFail(\"JCWebClient hasn't been loaded\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {  // Others\n\t\t\tscript.onload = done;\n\t\t\tscript.onerror = function() {\n\t\t\t\tonFail(\"JCWebClient hasn't been loaded\");\n\t\t\t};\n\t\t}\n\n\t\tparent.appendChild(script);\n\n\t\tfunction onFail(errorMsg) {\n\t\t\tparent.removeChild(script);\n\t\t\tfail(errorMsg);\n\t\t}\n\t}\n}\n\nexport default JaCarta;\n","export default {\n    UNKNOWN_ERROR: 'неизвестная ошибка',\n    CKR_CANCEL: 'пользователь отказался от выполнения операции',\n    CKR_HOST_MEMORY: 'недостаточно памяти для выполнения функции',\n    CKR_SLOT_ID_INVALID: 'неправильный идентификатор слота',\n    CKR_GENERAL_ERROR: 'такой код ошибки может означать: критическую ошибку, связанную с аппаратным обеспечением; неудачную попытку проверки пути сертификации.',\n    CKR_FUNCTION_NOT_SUPPORTED: 'функция не поддерживается',\n    CKR_FUNCTION_FAILED: 'при выполнении функции возник сбой',\n    CKR_ARGUMENTS_BAD: 'недопустимый аргумент',\n    CKR_ATTRIBUTE_READ_ONLY: 'предпринята попытка присвоения значения атрибуту, который нельзя изменять',\n    CKR_ATTRIBUTE_TYPE_INVALID: 'некорректный тип атрибута',\n    CKR_ATTRIBUTE_VALUE_INVALID: 'атрибут нулевой длины',\n    CKR_DEVICE_ERROR: 'ошибка при обращении к устройству или слоту',\n    CKR_DEVICE_MEMORY: 'для выполнения функции недостаточно памяти в устройстве',\n    CKR_FUNCTION_CANCELED: 'время ожидания выполнения функции истекло',\n    CKR_KEY_HANDLE_INVALID: 'функции передан некорректный дескриптор ключа',\n    CKR_KEY_SIZE_RANGE: 'недопустимый размер ключа',\n    CKR_KEY_TYPE_INCONSISTENT: 'данный тип ключа не может использоваться с данным механизмом',\n    CKR_MECHANISM_INVALID: 'при выполнении криптографической функции был указан неправильный механизм',\n    CKR_MECHANISM_PARAM_INVALID: 'при выполнении криптографической функции были заданы некорректные параметры механизма',\n    CKR_OBJECT_HANDLE_INVALID: 'функции передан некорректный дескриптор объекта',\n    CKR_OPERATION_ACTIVE: 'одна или несколько выполняющихся операций препятствуют выполнению новой операции',\n    CKR_OPERATION_NOT_INITIALIZED: 'выполнение операции без предварительного указания параметров невозможно',\n    CKR_PIN_INCORRECT: 'функции передан неверный PIN-код',\n    CKR_PIN_LEN_RANGE: 'недопустимая длина PIN-кода',\n    CKR_PIN_LOCKED: 'PIN-код заблокирован',\n    CKR_SESSION_HANDLE_INVALID: 'функции передан некорректный дескриптор сессии',\n    CKR_SESSION_PARALLEL_NOT_SUPPORTED: 'невозможно открыть параллельную сессию',\n    CKR_SESSION_EXISTS: 'уже открыта сессия работы с тем же устройством',\n    CKR_SESSION_READ_ONLY_EXISTS: 'сессия открыта только для чтения. Смена режима невозможна',\n    CKR_SESSION_READ_WRITE_SO_EXISTS: 'открыта сессия чтения/записи. Открыть сеанс только для чтения невозможно',\n    CKR_SIGNATURE_INVALID: 'неправильное значение электронной подписи',\n    CKR_TEMPLATE_INCOMPLETE: 'для создания объекта недостаточно атрибутов',\n    CKR_TOKEN_NOT_PRESENT: 'в момент выполнения функции устройство было отключено',\n    CKR_TOKEN_WRITE_PROTECTED: 'устройство недоступно для записи',\n    CKR_USER_ALREADY_LOGGED_IN: 'пользователь уже предъявил PIN-код',\n    CKR_USER_NOT_LOGGED_IN: 'функция не может быть выполнена в гостевом режиме работы устройства',\n    CKR_USER_PIN_NOT_INITIALIZED: 'начальное значение PIN-кода не установлено',\n    CKR_USER_TYPE_INVALID: 'функция не может быть выполнена в текущем режиме работы устройства',\n    CKR_USER_ANOTHER_ALREADY_LOGGED_IN: 'невозможно переключение из режима администратора в режим пользователя или обратно',\n    CKR_BUFFER_TOO_SMALL: 'размер заданного буфера является недостаточным для сохранения результатов функции',\n    CKR_INFORMATION_SENSITIVE: 'запрашиваемый объект недоступен для чтения',\n    CKR_CRYPTOKI_NOT_INITIALIZED: 'выполнение функции без инициализации Единой библиотеки PKCS#11 (библиотеки Cryptoki) невозможно',\n    CKR_CRYPTOKI_ALREADY_INITIALIZED: 'попытка повторно инициализировать библиотеку Cryptoki',\n    CKR_FUNCTION_REJECTED: 'пользователь отменил операцию',\n    NOT_STATE_TOKEN_BINDED: 'значение параметра state отличается от STATE_TOKEN_BINDED (1)',\n    NOT_STATE_NOT_BINDED: 'значение параметра state отличается от STATE_TOKEN_BINDED (0)',\n    IS_STATE_NOT_BINDED: 'параметр state принимает значение STATE_TOKEN_BINDED (0)',\n    NOT_STATE_UNILATERAL_AUTHENTICATION_IN_PROGRESS: 'значение параметра state отличается от STATE_TOKEN_BINDED (4)',\n    NOT_STATE_SECURE_CHANNEL_CONNECTION_IN_PROGRESS: 'значение параметра state отличается от STATE_TOKEN_BINDED (2)',\n    NOT_STATE_SECURE_CHANNEL_ESTABLISHED: 'значение параметра state отличается от STATE_TOKEN_BINDED (3)',\n    CERTIFICATE_NOT_FOUND: 'сертификат не обнаружен',\n    PUBLIC_KEY_NOT_FOUND: 'открытый ключ не обнаружен в памяти поддерживаемого устройства',\n    SERVER_PUBLIC_KEY_NOT_FOUND: 'не найден открытый ключ сервера',\n    INVALID_SERVER_PUBLIC_KEY: 'неверный открытый ключ сервера',\n    DATA_TO_SIGN_ZERO_LENGTH: 'на подпись были представлены данные, имеющие нулевую длину',\n    DATA_TO_VERIFY_ZERO_LENGTH: 'на проверку подписи были представлены данные, имеющие нулевую длину',\n    SIGNATURE_TO_VERIFY_ZERO_LENGTH: 'на проверку была представлена подпись, имеющая нулевую длину',\n    INVALID_EC_PARAMS: 'неверно заданы параметры криптографических преобразований по ГОСТ Р 34.10-2001',\n    TOKEN_MEMORY_TOO_SMALL: 'для выполнения операции в поддерживаемом устройстве недостаточно свободной памяти',\n    KEY_SIZE_NOT_64: 'длина ключа не равна 64 битам',\n    CERT_NOT_MATCH_PUBLIC_KEY: 'сертификат не соответствует открытому ключу',\n    FAILED_CHECK_BROWSER_VERS: 'ошибка проверки версии используемого браузера',\n    BROWSER_VERS_NOT_SUPPORTED: 'используемая версия браузера не поддерживается',\n    INVALID_USER_TYPE: 'неверно указан тип PIN-кода',\n    PINS_NOT_MATCH: 'введённые значения нового PIN-кода неодинаковы',\n    USER_CHANGE_ADMIN_PIN_NOT_STATE_NOT_BINDED: 'cмена PIN-кода администратора невозможна, поскольку значение параметра state отличается от STATE_TOKEN_BINDED (0)',\n    SSL_ERR_GEN_SESSION_KEY: 'ошибка при генерации ключа защиты данных, передаваемых между клиентом и сервером',\n    SSL_ERR_GOST_ENGINE: 'ошибка средства защиты, программно выполняющего криптографические преобразования на стороне клиента',\n    SSL_ERR_SSL_NEW: 'ошибка в начале выполнения протокола Handshake',\n    SSL_ERR_CONNECT: 'ошибка при выполнении протокола Handshake',\n    SSL_ERR_SSL_WRITE: 'ошибка при подготовке данных к защищённой передаче',\n    SSL_ERR_SSL_READ: 'ошибка при чтении защищённых для передачи данных',\n    SSL_ERR_LOAD_CERT_AND_KEY_FROM_TOKEN: 'ошибка при попытке считать сертификат и открытый ключ из памяти поддерживаемого устройства',\n    SSL_ERR_GET_PEER_PUBLIC_KEY: 'ошибка при получении открытого ключа сервера',\n    CERT_PARS_ERR_GET_PUBLIC_KEY: 'не удалось считать открытый ключ из сертификата',\n    CERT_PARS_ERR_GET_ISSUER_AND_SER_NUMBER: 'не удалось считать имя удостоверяющего центра и серийный номер из сертификата',\n    CKR_KT2_PIN_ALREADY_SET: 'PIN-код уже установлен',\n    CKR_PUK_INCORRECT: 'неправильный PUK-код',\n    CKR_CANNOT_UNLOCK: 'невозможно разблокировать PIN-код',\n    CKR_PUK_INVALID: 'недопустимые символы в значении PUK-кода',\n    CKR_SM_REQUIRED: 'для выполнения команды необходимо установить защищённое соединение',\n    CKR_PKCS7_PUBLIC_KEY_NOT_FOUND: 'при проверке подписи под PKCS #7 на JaCarta-2 ГОСТ не был найден открытый ключ',\n    CKR_ICL_LIBRARY_NOT_FOUND: 'ИКБ не найдена',\n    CKR_ICL_JCVERIFY_NOT_FOUND: 'утилита jcverify не найдена',\n    CKR_ICL_JCVERIFY_CHECKSUM_NOT_FOUND: 'файл контрольных сумм jcverify не найден',\n    CKR_ICL_CHECKSUM_NOT_FOUND: 'файл контрольных сумм ИКБ не найден',\n    CKR_ICL_JCVERIFY_CHECKSUM: 'неверные контрольная сумма утилиты jcverify',\n    CKR_ICL_CHECKSUM: 'неверная контрольная сумма ИКБ',\n    CKR_ICL_NOT_ICL: 'при загрузке ИКБ произошла ошибка. Требуемые функции найдены'\n};","/**\n * JaCarta-2 GOST simplified library\n * @author Aleksandr.ru\n * @link http://aleksandr.ru\n */\nimport sha1 from 'js-sha1';\nimport DN from '../DN';\nimport errors from './errors';\nimport { convertDN, stripDnQuotes } from '../helpers';\n\nfunction JaCarta2() {\n\n\tlet client, tokenId;\n\t// const debug = process.env.NODE_ENV === 'development';\n\n\t// костылёк из-за отсутствия isAsyncOperationInProgress в версии 4.3\n\tlet asyncOperationInProgress = false;\n\n\t/**\n\t * Инициализация и проверка наличия требуемых возможностей\n\t * @returns {Promise<{version: string, serialNumber: string, label: string, type: string, flags: Object}>} версия, информация о токене\n\t */\n\tthis.init = function () {\n\t\tconst final = {};\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (typeof (JCWebClient2) !== 'undefined') {\n\t\t\t\tresolve();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgetScript('https://localhost:24738/JCWebClient.js', resolve, reject);\n\t\t\t}\n\t\t}).then(() => {\n\t\t\tclient = JCWebClient2;\n\t\t\tclient.initialize();\n\t\t\tif (!client.isAsyncOperationInProgress) {\n\t\t\t\tclient.isAsyncOperationInProgress = () => asyncOperationInProgress;\n\t\t\t}\n\t\t\treturn sync(client.Cmds.getJCWebClientVersion);\n\t\t}).then(version => {\n\t\t\t// console.log('JCWebClient2 v.%s', version);\n\t\t\tfinal['version'] = version;\n\t\t\treturn sync(client.Cmds.getAllSlots);\n\t\t}).then(slots => {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\t// console.log('Got %d slots', slots.length, slots);\n\t\t\t\tconst aTokens = slots.filter(a => {\n\t\t\t\t\treturn a.tokenExists;\n\t\t\t\t});\n\t\t\t\tif (aTokens && aTokens.length === 1) {\n\t\t\t\t\t// OK 1 токен\n\t\t\t\t\tconst token = aTokens.shift();\n\t\t\t\t\tresolve(token.id);\n\t\t\t\t}\n\t\t\t\telse if (aTokens && aTokens.length > 1) {\n\t\t\t\t\tthrow new Error('Подключено ' + aTokens.length + ' токена(ов)');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow new Error('Нет подключенных токенов');\n\t\t\t\t}\n\t\t\t});\n\t\t}).then(tokenID => {\n\t\t\ttokenId = tokenID;\n\t\t\treturn sync(client.Cmds.getTokenInfo, {\n\t\t\t\ttokenID\n\t\t\t});\n\t\t}).then(info => {\n\t\t\tconst allowedTypes = [ client.Vars.TokenType.gost, client.Vars.TokenType.gost2 ];\n\t\t\tif (allowedTypes.indexOf(info.type) === -1) {\n\t\t\t\tthrow new Error('Подключен токен недопустимого типа: ' + info.type);\n\t\t\t}\n\t\t\treturn Object.assign(final, info);\n\t\t});\n\t};\n\n\t/**\n\t * Авторизация на токене с пин-кодом юзера\n\t * @param {string} userPin если нет, то предлагает ввести пин через UI плагина\n\t * @returns {Promise<void>}\n\t */\n\tthis.bind = function (userPin) {\n\t\treturn sync(client.Cmds.getLoggedInState).then(result => {\n\t\t\tif (result.state === client.Vars.AuthState.binded && result.tokenID === tokenId) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconst args = {\n\t\t\t\t\ttokenID: tokenId\n\t\t\t\t};\n\t\t\t\tif (!userPin) {\n\t\t\t\t\targs.useUI = true;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\targs.pin = userPin;\n\t\t\t\t}\n\t\t\t\treturn sync(client.Cmds.bindToken, args);\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Отменить предъявление PIN-кода. Необходимо вызывать при завершении сеанса работы\n\t * @returns {Promise<void>}\n\t */\n\tthis.unbind = function () {\n\t\treturn sync(client.Cmds.getLoggedInState).then(result => {\n\t\t\tif (result.state !== client.Vars.AuthState.notBinded) {\n\t\t\t\treturn sync(client.Cmds.unbindToken);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Очистка токена (удаление всех контейнеров)\n\t * @returns {Promise<void>}\n\t */\n\tthis.clean = function () {\n\t\treturn sync(client.Cmds.getContainerList, {\n\t\t\ttokenID: tokenId\n\t\t}).then(containers => {\n\t\t\tlet p = Promise.resolve();\n\t\t\tfor (let i in containers) {\n\t\t\t\tp = p.then(() => sync(client.Cmds.deletePKIObject, {\n\t\t\t\t\tid: containers[i].id\n\t\t\t\t}));\n\t\t\t}\n\t\t\treturn p;\n\t\t});\n\t};\n\n\t/**\n\t * Создать запрос на сертификат\n\t * @param {DN} dn\n\t * @param {Array<string>} ekuOids массив OID Extended Key Usage, по-умолчанию Аутентификация клиента '1.3.6.1.5.5.7.3.2' + Защищенная электронная почта '1.3.6.1.5.5.7.3.4'\n\t * @param {object} [options]\n\t * @param {string} [options.description] описание контейнера\n\t * @param {string} [options.algorithm] Алгоритм \"GOST-2012-256\" (по-умолчанию) или \"GOST-2001\".\n\t * @returns {Promise<{ csr: string; keyPairId: number; }>} объект с полями {csr: 'base64 запрос на сертификат', keyPairId}\n\t * @see DN\n\t */\n\tthis.generateCSR = function (dn, ekuOids, options) {\n\t\tif (!ekuOids || !ekuOids.length) ekuOids = [\n\t\t\t'1.3.6.1.5.5.7.3.2', // Аутентификация клиента\n\t\t\t'1.3.6.1.5.5.7.3.4' // Защищенная электронная почта\n\t\t];\n\t\tif (!options) options = {};\n\t\tconst description = options.description || dn.CN; //TODO: subj to change\n\t\tconst algorithm = options.algorithm || client.Vars.KeyAlgorithm.GOST_2012_256; // \"GOST-2012-256\"\n\t\tconst exts = {\n\t\t\t'certificatePolicies': '1.2.643.100.113.1',\n\t\t\t'keyUsage': 'digitalSignature,keyEncipherment,nonRepudiation,dataEncipherment',\n\t\t\t'extendedKeyUsage': ekuOids.toString(),\n\t\t\t'1.2.643.100.111': 'ASN1:FORMAT:UTF8,UTF8:\"Криптотокен\" (АЛАДДИН Р.Д.)'\n\t\t};\n\t\tconst paramSet = 'XA';\n\t\tlet id;\n\n\t\treturn sync(client.Cmds.createKeyPair, {\n\t\t\tparamSet: paramSet,\n\t\t\tdescription: description,\n\t\t\talgorithm: algorithm\n\t\t}).then(keyPairId => {\n\t\t\tid = keyPairId;\n\t\t\treturn sync(client.Cmds.genCSR, {\n\t\t\t\tid,\n\t\t\t\tdn,\n\t\t\t\texts\n\t\t\t});\n\t\t}).then(a => {\n\t\t\t// base64(запрос на сертификат в формате PKCS#10)\n\t\t\tconst csr = btoa(String.fromCharCode.apply(null, new Uint8Array(a)));\n\t\t\treturn {\n\t\t\t\tcsr: pemSplit(csr),\n\t\t\t\tkeyPairId: id\n\t\t\t};\n\t\t});\n\t};\n\n\t/**\n\t * Записать сертификат в контейнер\n\t * @param {string} certificate base64(массив байт со значением сертификата в формате DER)\n\t * @param {int} keyPairId идентификатор контейнера куда записывать\n\t * @returns {Promise<number>} идентификатор образованного контейнера.\n\t */\n\tthis.writeCertificate = function (certificate, keyPairId) {\n\t\treturn sync(client.Cmds.writeUserCertificate, {\n\t\t\tkeyPairID: keyPairId,\n\t\t\tcert: certificate\n\t\t});\n\t};\n\n\t/**\n\t * Получение информации о сертификате.\n\t * @param {int} containerId идентификатор контейнера (сертификата)\n\t * @param {object} [options] не используется\n\t * @returns {Promise<Object>}\n\t */\n\tthis.certificateInfo = function (containerId, options) {\n\t\tif (!options) options = {};\n\t\treturn sync(client.Cmds.parseX509Certificate, {\n\t\t\ttokenID: tokenId,\n\t\t\tid: containerId\n\t\t}).then(o => {\n\t\t\tconst dn = makeDN(o.Data.Subject);\n\t\t\tconst dnI = makeDN(o.Data.Issuer);\n\t\t\tconst dt = new Date();\n\t\t\treturn {\n\t\t\t\tName: dn.CN,\n\t\t\t\tIssuer: dnI,\n\t\t\t\tIssuerName: stripDnQuotes(dnI.toString()),\n\t\t\t\tSubject: dn,\n\t\t\t\tSubjectName: stripDnQuotes(dn.toString()),\n\t\t\t\tVersion: o.Data.Version,\n\t\t\t\tSerialNumber: o.Data['Serial Number'].map(byte2hex).join(''),\n\t\t\t\tThumbprint: undefined, // sha1(body)\n\t\t\t\tValidFromDate: o.Data.Validity['Not Before'],\n\t\t\t\tValidToDate: o.Data.Validity['Not After'],\n\t\t\t\tHasPrivateKey: true,\n\t\t\t\tIsValid: dt >= o.Data.Validity['Not Before'] && dt <= o.Data.Validity['Not After'],\n\t\t\t\tAlgorithm: o.Data['Subject Public Key Info']['Public Key Algorithm'],\n\t\t\t\t//ProviderName: '', //TODO\n\t\t\t\t//ProviderType: undefined, //TODO\n\t\t\t\ttoString: function () {\n\t\t\t\t\treturn 'Название:              ' + this.Name +\n\t\t\t\t\t\t'\\nИздатель:              ' + this.IssuerName +\n\t\t\t\t\t\t'\\nСубъект:               ' + this.SubjectName +\n\t\t\t\t\t\t'\\nВерсия:                ' + this.Version +\n\t\t\t\t\t\t'\\nАлгоритм:              ' + this.Algorithm + // PublicKey Algorithm\n\t\t\t\t\t\t'\\nСерийный №:            ' + this.SerialNumber +\n\t\t\t\t\t\t'\\nОтпечаток SHA1:        ' + this.Thumbprint +\n\t\t\t\t\t\t'\\nНе действителен до:    ' + this.ValidFromDate +\n\t\t\t\t\t\t'\\nНе действителен после: ' + this.ValidToDate +\n\t\t\t\t\t\t'\\nПриватный ключ:        ' + (this.HasPrivateKey ? 'Есть' : 'Нет') +\n\t\t\t\t\t\t'\\nВалидный:              ' + (this.IsValid ? 'Да' : 'Нет');\n\t\t\t\t}\n\t\t\t};\n\t\t}).then(info => sync(client.Cmds.getCertificateBody, {\n\t\t\tid: containerId,\n\t\t\ttokenID: tokenId\n\t\t}).then(a => {\n\t\t\tinfo.Thumbprint = sha1(a); // supports byte `Array`\n\t\t\treturn info;\n\t\t}));\n\t};\n\n\t/**\n\t * Получение массива доступных сертификатов\n\t * @returns {Promise<{id: string; name: string; subject: DN; validFrom: Date; validTo: Date;}[]>} [{id, name, subject, validFrom, validTo}, ...]\n\t */\n\tthis.listCertificates = function () {\n\t\treturn sync(client.Cmds.getContainerList, {\n\t\t\ttokenID: tokenId\n\t\t}).then(a => {\n\t\t\tconst certs = [];\n\t\t\tlet p = Promise.resolve();\n\t\t\tfor (let i = 0; i < a.length; i++) {\n\t\t\t\tconst contId = a[i].id;\n\t\t\t\tconst contName = a[i].description;\n\n\t\t\t\t(function (contId, contName) {\n\t\t\t\t\tp = p.then(() => sync(client.Cmds.parseX509Certificate, {\n\t\t\t\t\t\ttokenID: tokenId,\n\t\t\t\t\t\tid: contId\n\t\t\t\t\t}).then(o => {\n\t\t\t\t\t\tconst dn = o.Data && makeDN(o.Data.Subject);\n\t\t\t\t\t\tif (o.Data) certs.push({\n\t\t\t\t\t\t\tid: contId,\n\t\t\t\t\t\t\tname: formatCertificateName(dn, contName),\n\t\t\t\t\t\t\tsubject: dn,\n\t\t\t\t\t\t\tvalidFrom: o.Data.Validity['Not Before'],\n\t\t\t\t\t\t\tvalidTo: o.Data.Validity['Not After']\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn certs.length;\n\t\t\t\t\t}));\n\t\t\t\t})(contId, contName);\n\t\t\t}\n\t\t\treturn p.then(function () {\n\t\t\t\treturn certs;\n\t\t\t});\n\t\t});\n\t};\n\n\t/**\n\t * Получить сертификат из контейнера\n\t * @param {int} containerId\n\t * @returns {Promise<string>} base64(массив байт со значением сертификата в формате DER)\n\t */\n\tthis.readCertificate = function (containerId) {\n\t\treturn sync(client.Cmds.getCertificateBody, {\n\t\t\tid: containerId,\n\t\t\ttokenID: tokenId\n\t\t}).then(a => {\n\t\t\tif (a && a.length) {\n\t\t\t\t// base64(массив байт со значением сертификата в формате DER)\n\t\t\t\tconst cert = btoa(String.fromCharCode.apply(null, new Uint8Array(a)));\n\t\t\t\treturn pemSplit(cert);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthrow new Error('Нет сертификата в контейнере');\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Подписать данные. Выдает подпись в формате PKCS#7, закодированную в Base64\n\t * @param {string} dataBase64 Данные для подписи в виде строки, закодированной в Base64\n\t * @param {int} containerId идентификатор контейнера (сертификата)\n\t * @param {object} [options]\n\t * @param {boolean} [options.attached] присоединенная подпись\n\t * @returns {Promise<string>} строка-подпись в формате PKCS#7, закодированная в Base64.\n\t */\n\tthis.signData = function (dataBase64, containerId, options) {\n\t\tif (!options) options = {};\n\t\tconst {attached} = options;\n\t\treturn sync(client.Cmds.signBase64EncodedData, {\n\t\t\tcontID: containerId,\n\t\t\tdata: dataBase64,\n\t\t\tattachedSignature: !!attached\n\t\t}).then(sign => pemSplit(sign));\n\t};\n\n\t/**\n\t * Проверить подпись.\n\t * @param {string} dataBase64 игнорируется если прикрепленная подпись\n\t * @param {string} signBase64 существующая подпись\n\t * @param {object} [options]\n\t * @param {boolean} [options.attached] присоединенная подпись\n\t * @returns {Promise<boolean>} true или reject\n\t */\n\tthis.verifySign = function (dataBase64, signBase64, options) {\n\t\tif (!options) options = {};\n\t\tconst {attached} = options;\n\t\tconst args = {\n\t\t\tsignature: Array.from(atob(signBase64), c => c.charCodeAt(0)),\n\t\t\toptions: {\n\t\t\t\ttokenID: tokenId,\n\t\t\t\tuseToken: true\n\t\t\t}\n\t\t};\n\t\tif (!attached) {\n\t\t\targs.data = Array.from(atob(dataBase64), c => c.charCodeAt(0));\n\t\t}\n\t\treturn sync(client.Cmds.verifyData, args);\n\t};\n\n\t/**\n\t * Шифрование данных\n\t * @param {string} dataBase64 данные в base64\n\t * @param {int} containerId идентификатор контейнера (сертификата)\n\t * @returns {Promise<string>} base64 enveloped data\n\t */\n\tthis.encryptData = function (dataBase64, containerId) {\n\t\t// https://stackoverflow.com/questions/21797299/convert-base64-string-to-arraybuffer/21797381\n\t\tconst dataByte = Array.from(atob(dataBase64), c => c.charCodeAt(0));\n\t\treturn this.readCertificate(containerId).then(cert => sync(client.Cmds.encryptData, {\n\t\t\tcontID: containerId,\n\t\t\treceiverCertificate: cert, // для 4.2 и ниже\n\t\t\treceiverCertificates: [cert], // для 4.3 и выше\n\t\t\tdata: dataByte // Данные для шифрования в виде массива байт.\n\t\t})).then(data => {\n\t\t\tconst base64 = btoa(String.fromCharCode.apply(null, new Uint8Array(data)));\n\t\t\treturn pemSplit(base64);\n\t\t});\n\t};\n\n\t/**\n\t * Дешифрование данных\n\t * @param {string} dataBase64 данные в base64\n\t * @param {int} containerId идентификатор контейнера (ключа)\n\t * @returns {Promise<string>} base64\n\t */\n\tthis.decryptData = function (dataBase64, containerId) {\n\t\tconst dataByte = Array.from(atob(dataBase64), c => c.charCodeAt(0));\n\t\treturn this.readCertificate(containerId).then(cert => {\n\t\t\tconst certByte = Array.from(atob(cert), c => c.charCodeAt(0));\n\t\t\treturn sync(client.Cmds.decryptData, {\n\t\t\t\tcontID: containerId,\n\t\t\t\tsenderCertificate: certByte, // Сертификат отправителя в виде массива байт.\n\t\t\t\tdata: dataByte // Массив байт с зашифрованными данными в формате CMS.\n\t\t\t})\n\t\t}).then(data => btoa(String.fromCharCode.apply(null, new Uint8Array(data))));\n\t};\n\n\t/**\n\t * Выполнить асинхронную команду не перебивая другие\n\t * @param {string} cmd Тип выполняемый команды из JCWebClient2.Cmds...\n\t * @param {Object} args Аргументы команды\n\t * @returns {Promise<any>}\n\t */\n\tfunction sync(cmd, args)\n\t{\n\t\treturn new Promise(resolve => {\n\t\t\tconst timeout = 100;\n\t\t\tlet delay = 0;\n\t\t\tconst checkFn = function () {\n\t\t\t\tif (delay > 60000) {\n\t\t\t\t\tthrow new Error('Не удалось дождаться завершения асинхронной операции');\n\t\t\t\t}\n\t\t\t\telse if (client.isAsyncOperationInProgress()) {\n\t\t\t\t\tsetTimeout(checkFn, timeout);\n\t\t\t\t\tdelay += timeout;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(checkFn, 0); // первый же запуск в следующем тике\n\t\t}).then(() => new Promise((resolve, reject) => {\n\t\t\tasyncOperationInProgress = true;\n\t\t\tclient.exec({\n\t\t\t\tasync: true,\n\t\t\t\tcmd,\n\t\t\t\targs,\n\t\t\t\tonSuccess: successHandler(resolve),\n\t\t\t\tonError: errorHandler(reject)\n\t\t\t});\n\t\t}));\n\t}\n\n\t/**\n\t * Обработчик успешного выполнения\n\t * @param {function(any)} resolve\n\t * @returns {function(any): void}\n\t */\n\tfunction successHandler(resolve)\n\t{\n\t\treturn result => {\n\t\t\tasyncOperationInProgress = false;\n\t\t\tresolve(result);\n\t\t}\n\t}\n\n\t/**\n\t * Обработчик ошибок\n\t * @param {function(any)} reject\n\t * @returns {function(error: any): void}\n\t */\n\tfunction errorHandler(reject)\n\t{\n\t\treturn error => {\n\t\t\tasyncOperationInProgress = false;\n\t\t\tif(client && error.name === 'JCWebClientError' && errors[error.message]) {\n\t\t\t\t// подменяем сообщение на более понятное\n\t\t\t\terror.message = errors[error.message];\n\t\t\t}\n\t\t\treject(error);\n\t\t}\n\t}\n\n\t/**\n\t * Создать DN из массива [{rdn: ..., value: ...}, ...]\n\t * @param {Array<{ rdn: string, value: string }>} obj\n\t * @returns {DN}\n\t */\n\tfunction makeDN(obj)\n\t{\n\t\tconst dn = new DN;\n\t\tfor(let i in obj) {\n\t\t\tconst rdn = obj[i].rdn;\n\t\t\tconst val = obj[i].value;\n\t\t\tif (rdn && val) {\n\t\t\t\tdn[rdn] = val;\n\t\t\t}\n\t\t}\n\t\treturn convertDN(dn);\n\t}\n\n\t/**\n\t * Получить название сертификата\n\t * @param {DN} o объект, включающий в себя значения субъекта сертификата.\n\t * @param {string} containerName\n\t * @returns {string} \n\t */\n\tfunction formatCertificateName(o, containerName)\n\t{\n\t\treturn '' + o['CN']\n\t\t\t+ (o['INNLE'] ? '; ИНН ЮЛ ' + o['INNLE'] : '')\n\t\t\t+ (o['INN'] ? '; ИНН ' + o['INN'] : '')\n\t\t\t+ (o['SNILS'] ? '; СНИЛС ' + o['SNILS'] : '')\n\t\t\t+ (containerName ? ' (' + containerName + ')' : '');\n\t}\n\n\t/**\n\t * Переводит байт из десятичного в шестнадцатеричное представление\n\t * @param {number} byte\n\t * @returns {string}\n\t */\n\tfunction byte2hex(byte) {\n\t\t//console.log('byte %d -> %s', byte, byte.toString(16));\n\t\treturn ('0' + byte.toString(16)).slice(-2);\n\t}\n\n\t// https://gist.github.com/hendriklammers/5231994\n\tfunction pemSplit(str) {\n\t\tconst re = new RegExp('.{1,64}', 'g');\n\t\treturn str.match(re).join('\\n');\n\t}\n\n\t/** \n\t * Функция загрузки скрипта.\n\t * @param src - адрес расположения скрипта;\n\t * @param done - callback-функция, срабатывающая при успешной загрузки скрипта;\n\t * @param fail - callback-функция, срабатывающая при неудачной загрузки скрипта.\n\t*/\n\tfunction getScript(src, done, fail) {\n\t\tvar parent = document.getElementsByTagName('body')[0];\n\n\t\tvar script = document.createElement('script');\n\t\tscript.type = 'text/javascript';\n\t\tscript.src = src;\n\n\t\tif (script.readyState) {  // IE\n\t\t\tscript.onreadystatechange = function () {\n\t\t\t\tif (script.readyState === \"loaded\" || script.readyState === \"complete\") {\n\t\t\t\t\tscript.onreadystatechange = null;\n\t\t\t\t\t// На некоторых браузерах мы попадаем сюда и в тех случаях когда скрипт не загружен,\n\t\t\t\t\t// поэтому дополнительно проверяем валидность JCWebClient2\n\t\t\t\t\tif (typeof (JCWebClient2) === 'undefined') {\n\t\t\t\t\t\tonFail(\"JCWebClient is invalid\");\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tdone();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (script.readyState !== \"loading\") {\n\t\t\t\t\tonFail(\"JCWebClient hasn't been loaded\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {  // Others\n\t\t\tscript.onload = done;\n\t\t\tscript.onerror = function() {\n\t\t\t\tonFail(\"JCWebClient hasn't been loaded\");\n\t\t\t};\n\t\t}\n\n\t\tparent.appendChild(script);\n\n\t\tfunction onFail(errorMsg) {\n\t\t\tparent.removeChild(script);\n\t\t\tfail(errorMsg);\n\t\t}\n\t}\n}\n\nexport default JaCarta2;\n","export const X509KeySpec = {\n    XCN_AT_NONE        : 0x0,\n    XCN_AT_KEYEXCHANGE : 0x1,\n    XCN_AT_SIGNATURE   : 0x2\n};\nexport const X509PrivateKeyExportFlags =  {\n    XCN_NCRYPT_ALLOW_EXPORT_NONE               : 0,\n    XCN_NCRYPT_ALLOW_EXPORT_FLAG               : 0x1,\n    XCN_NCRYPT_ALLOW_PLAINTEXT_EXPORT_FLAG     : 0x2,\n    XCN_NCRYPT_ALLOW_ARCHIVING_FLAG            : 0x4,\n    XCN_NCRYPT_ALLOW_PLAINTEXT_ARCHIVING_FLAG  : 0x8\n};\nexport const X509CertificateEnrollmentContext = {\n    ContextUser                      : 0x1,\n    ContextMachine                   : 0x2,\n    ContextAdministratorForceMachine : 0x3\n};\nexport const X509KeyUsageFlags = {\n    XCN_CERT_NO_KEY_USAGE                 : 0,\n    XCN_CERT_DIGITAL_SIGNATURE_KEY_USAGE  : 0x80,\n    XCN_CERT_NON_REPUDIATION_KEY_USAGE    : 0x40,\n    XCN_CERT_KEY_ENCIPHERMENT_KEY_USAGE   : 0x20,\n    XCN_CERT_DATA_ENCIPHERMENT_KEY_USAGE  : 0x10,\n    XCN_CERT_KEY_AGREEMENT_KEY_USAGE      : 0x8,\n    XCN_CERT_KEY_CERT_SIGN_KEY_USAGE      : 0x4,\n    XCN_CERT_OFFLINE_CRL_SIGN_KEY_USAGE   : 0x2,\n    XCN_CERT_CRL_SIGN_KEY_USAGE           : 0x2,\n    XCN_CERT_ENCIPHER_ONLY_KEY_USAGE      : 0x1,\n    XCN_CERT_DECIPHER_ONLY_KEY_USAGE      : ( 0x80 << 8 )\n};\nexport const X500NameFlags = {\n    XCN_CERT_NAME_STR_NONE                       : 0,\n    XCN_CERT_SIMPLE_NAME_STR                     : 1,\n    XCN_CERT_OID_NAME_STR                        : 2,\n    XCN_CERT_X500_NAME_STR                       : 3,\n    XCN_CERT_XML_NAME_STR                        : 4,\n    XCN_CERT_NAME_STR_SEMICOLON_FLAG             : 0x40000000,\n    XCN_CERT_NAME_STR_NO_PLUS_FLAG               : 0x20000000,\n    XCN_CERT_NAME_STR_NO_QUOTING_FLAG            : 0x10000000,\n    XCN_CERT_NAME_STR_CRLF_FLAG                  : 0x8000000,\n    XCN_CERT_NAME_STR_COMMA_FLAG                 : 0x4000000,\n    XCN_CERT_NAME_STR_REVERSE_FLAG               : 0x2000000,\n    XCN_CERT_NAME_STR_FORWARD_FLAG               : 0x1000000,\n    XCN_CERT_NAME_STR_DISABLE_IE4_UTF8_FLAG      : 0x10000,\n    XCN_CERT_NAME_STR_ENABLE_T61_UNICODE_FLAG    : 0x20000,\n    XCN_CERT_NAME_STR_ENABLE_UTF8_UNICODE_FLAG   : 0x40000,\n    XCN_CERT_NAME_STR_FORCE_UTF8_DIR_STR_FLAG    : 0x80000,\n    XCN_CERT_NAME_STR_DISABLE_UTF8_DIR_STR_FLAG  : 0x100000,\n    XCN_CERT_NAME_STR_ENABLE_PUNYCODE_FLAG       : 0x200000,\n    XCN_CERT_NAME_STR_DS_ESCAPED                 : 0x800000\n};\nexport const EncodingType = {\n    XCN_CRYPT_STRING_BASE64HEADER         : 0,\n    XCN_CRYPT_STRING_BASE64               : 0x1,\n    XCN_CRYPT_STRING_BINARY               : 0x2,\n    XCN_CRYPT_STRING_BASE64REQUESTHEADER  : 0x3,\n    XCN_CRYPT_STRING_HEX                  : 0x4,\n    XCN_CRYPT_STRING_HEXASCII             : 0x5,\n    XCN_CRYPT_STRING_BASE64_ANY           : 0x6,\n    XCN_CRYPT_STRING_ANY                  : 0x7,\n    XCN_CRYPT_STRING_HEX_ANY              : 0x8,\n    XCN_CRYPT_STRING_BASE64X509CRLHEADER  : 0x9,\n    XCN_CRYPT_STRING_HEXADDR              : 0xa,\n    XCN_CRYPT_STRING_HEXASCIIADDR         : 0xb,\n    XCN_CRYPT_STRING_HEXRAW               : 0xc,\n    XCN_CRYPT_STRING_NOCRLF               : 0x40000000,\n    XCN_CRYPT_STRING_NOCR                 : 0x80000000\n};\nexport const InstallResponseRestrictionFlags = {\n    AllowNone                  : 0x00000000,\n    AllowNoOutstandingRequest  : 0x00000001,\n    AllowUntrustedCertificate  : 0x00000002,\n    AllowUntrustedRoot         : 0x00000004\n};\n\nexport const ProviderTypes = {\n    GOST_R_34_10_2001: 75, // Crypto-Pro GOST R 34.10-2001 KC1 CSP\n    GOST_R_34_10_2012: 80  // Crypto-Pro GOST R 34.10-2012 KC1 CSP\n};\n\nexport const cadesErrorMesages = {\n    '0x800B010A': 'Не удается построить цепочку сертификатов до доверенного корневого центра, убедитесь что установлены все корневые и промежуточные сертификаты [0x800B010A]',\n    '0x80090020': 'Внутренняя ошибка [0x80090020]. Если используется внешний токен, убедитесь, что ввели корректный PIN-код', // 2148073504\n    '0x8007065B': 'Истекла лицензия на КриптоПро CSP [0x8007065B]',\n    '0x800B0109': 'Отсутствует сертификат УЦ в хранилище корневых сертификатов [0x800B0109]', // A certificate chain processed, but terminated in a root certificate which is not trusted by the trust provider.\n    '0x8009200C': 'Не удается найти сертификат и закрытый ключ для расшифровки [0x8009200C]',\n    '0x80090008': 'Указан неверный алгоритм (используется устаревшая версия КриптоПро CSP или КриптоПро ЭЦП Browser plug-in) [0x80090008]', // 2148073480\n    '0x000004C7': 'Операция отменена пользователем [0x000004C7]', // Не удается получить доступ к сертификатам\n    '0x8009000D': 'Нет доступа к закрытому ключу. Ввод пароля отменен или произошел сбой в запомненных паролях [0x8009000D]',\n    '0x800B0101': 'Истек/не наступил срок действия требуемого сертификата [0x800B0101]',\n    // untested:\n    '0x80070026': 'Недопустимый формат данных записываемого сертификата [0x80070026]', // @see issue #20\n    '0x8009200B': 'Не удается найти закрытый ключ для подписи, убедитесь что сертификат установлен правильно [0x8009200B]',\n    '0x8010006E': 'Действие отменено пользователем [0x8010006E]', // 2148532334\n    'NPObject'  : 'Не удается подписать, убедитесь что выбранный сертификат подходит для подписи', // Error calling method on NPObject!\n    'Automation server': 'Библиотека CAPICOM не была автоматически зарегистрирована или заблокирована на Вашем компьютере (2146827859)',\n    'сервером программирования': 'Библиотека CAPICOM не была автоматически зарегистрирована или заблокирована на Вашем компьютере (2146827859)'\n};\n","/**\n * CryptoPRO simplified library\n * @author Aleksandr.ru\n * @link http://aleksandr.ru\n */\n\nimport DN from '../DN';\nimport { \n\tX509KeySpec, \n\tX509PrivateKeyExportFlags, \n\tX509CertificateEnrollmentContext, \n\tX509KeyUsageFlags, \n\tX500NameFlags, \n\tEncodingType, \n\tInstallResponseRestrictionFlags, \n\tProviderTypes, \n\tcadesErrorMesages \n} from './constants';\nimport { convertDN, versionCompare } from '../helpers';\n\nfunction CryptoPro() {\n\t//If the string contains fewer than 128 bytes, the Length field of the TLV triplet requires only one byte to specify the content length.\n\t//If the string is more than 127 bytes, bit 7 of the Length field is set to 1 and bits 6 through 0 specify the number of additional bytes used to identify the content length.\n\tconst maxLengthCSPName = 127;\n\t\n\t// https://www.cryptopro.ru/forum2/default.aspx?g=posts&m=38467#post38467\n\tconst asn1UTF8StringTag = 0x0c; // 12, UTF8String\n\n\tlet canAsync;\n\tlet pluginVersion = '';\n\tlet binded = false;\n\tlet signerOptions = 0;\n\n\t/**\n\t * Инициализация и проверка наличия требуемых возможностей\n\t * @returns {Promise<Object>} версия\n\t */\n\tthis.init = function(){\n\t\twindow.cadesplugin_skip_extension_install = true; // считаем что уже все установлено\n\t\twindow.allow_firefox_cadesplugin_async = true; // FF 52+\n\n\t\trequire('./cadesplugin_api');\n\t\tcanAsync = !!cadesplugin.CreateObjectAsync;\n\t\t// signerOptions = cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN;\n\t\tsignerOptions = cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY;\n\n\t\treturn new Promise(resolve => {\n\t\t\tif(!window.cadesplugin) {\n\t\t\t\tthrow new Error('КриптоПро ЭЦП Browser plug-in не обнаружен');\n\t\t\t}\n\t\t\tresolve();\n\t\t}).then(() => {\n\t\t\tif(canAsync) {\n\t\t\t\treturn cadesplugin.then(function(){\n\t\t\t\t\treturn cadesplugin.CreateObjectAsync(\"CAdESCOM.About\");\n\t\t\t\t}).then(function(oAbout){\n\t\t\t\t\treturn oAbout.Version;\n\t\t\t\t}).then(function(version) {\n\t\t\t\t\tpluginVersion = version;\n\t\t\t\t\treturn { version };\n\t\t\t\t}).catch(function(e) {\n\t\t\t\t\t// 'Плагин не загружен'\n\t\t\t\t\tconst err = getError(e);\n\t\t\t\t\tthrow new Error(err);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn new Promise(resolve => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst oAbout = cadesplugin.CreateObject(\"CAdESCOM.About\");\n\t\t\t\t\t\tif(!oAbout || !oAbout.Version) {\n\t\t\t\t\t\t\tthrow new Error('КриптоПро ЭЦП Browser plug-in не загружен');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpluginVersion = oAbout.Version;\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tversion: pluginVersion\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e) {\n\t\t\t\t\t\t// 'Плагин не загружен'\n\t\t\t\t\t\tconst err = getError(e);\n\t\t\t\t\t\tthrow new Error(err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Включает кеширование ПИНов от контейнеров чтоб не тробовать повторного ввода\n\t * возможно не поддерживается в ИЕ\n\t * @see https://www.cryptopro.ru/forum2/default.aspx?g=posts&t=10170\n\t * @param {string} userPin не используется\n\t * @returns {Promise<boolean>} new binded state\n\t */\n\tthis.bind = function(userPin) {\n\t\tbinded = true;\n\t\treturn Promise.resolve(binded);\n\t};\n\n\t/**\n\t * Заглушка для совместимости\n\t * @returns {Promise<boolean>} new binded state\n\t */\n\tthis.unbind = function() {\n\t\tbinded = false;\n\t\treturn Promise.resolve(binded);\n\t};\n\n\t/**\n\t * Создание CSR.\n\t * @param {DN} dn\n\t * @param {string[]} ekuOids массив OID Extended Key Usage, по-умолчанию Аутентификация клиента '1.3.6.1.5.5.7.3.2' + Защищенная электронная почта '1.3.6.1.5.5.7.3.4'\n\t * @param {object} [options]\n\t * @param {string} [options.pin]\n\t * @param {int} [options.providerType] по умолчанию 80 (ГОСТ Р 34.10-2012) или 75 (ГОСТ Р 34.10-2001)\n\t * @returns {Promise<{ csr: string }>} объект с полями {csr: 'base64 запрос на сертификат'}\n\t * @see DN\n\t */\n\tthis.generateCSR = function(dn, ekuOids, options){\n\t\tif(!ekuOids || !ekuOids.length) ekuOids = [\n\t\t\t'1.3.6.1.5.5.7.3.2', // Аутентификация клиента\n\t\t\t'1.3.6.1.5.5.7.3.4' // Защищенная электронная почта\n\t\t];\n\t\tif (!options) options = {};\n\t\tconst pin = options.pin;\n\t\tconst providerType = options.providerType || ProviderTypes.GOST_R_34_10_2012;\n\n\t\tif(canAsync) {\n\t\t\tlet oEnroll, oRequest, oPrivateKey, oExtensions, oKeyUsage, oEnhancedKeyUsage, oEnhancedKeyUsageOIDs, aOIDs, oSstOID, oDn, oCspInformations, sCSPName, oSubjectSignTool;\n\t\t\treturn cadesplugin.then(function(){\n\t\t\t\treturn Promise.all([\n\t\t\t\t\tcadesplugin.CreateObjectAsync('X509Enrollment.CX509Enrollment'), // 0\n\t\t\t\t\tcadesplugin.CreateObjectAsync('X509Enrollment.CX509CertificateRequestPkcs10'), // 1\n\t\t\t\t\tcadesplugin.CreateObjectAsync('X509Enrollment.CX509PrivateKey'), // 2\n\t\t\t\t\tcadesplugin.CreateObjectAsync('X509Enrollment.CX509ExtensionKeyUsage'), // 3\n\t\t\t\t\tcadesplugin.CreateObjectAsync('X509Enrollment.CX509ExtensionEnhancedKeyUsage'), // 4\n\t\t\t\t\tcadesplugin.CreateObjectAsync('X509Enrollment.CObjectIds'), // 5\n\t\t\t\t\tcadesplugin.CreateObjectAsync('X509Enrollment.CX500DistinguishedName'), // 6\n\t\t\t\t\tcadesplugin.CreateObjectAsync('X509Enrollment.CX509Extensions'), // 7\n\t\t\t\t\tcadesplugin.CreateObjectAsync('X509Enrollment.CCspInformations'), // 8\n\t\t\t\t\tcadesplugin.CreateObjectAsync('X509Enrollment.CX509Extension') //9\n\t\t\t\t]);\n\t\t\t}).then(function(objects){\n\t\t\t\toEnroll = objects[0];\n\t\t\t\toRequest = objects[1];\n\t\t\t\toPrivateKey = objects[2];\n\t\t\t\toKeyUsage = objects[3];\n\t\t\t\toEnhancedKeyUsage = objects[4];\n\t\t\t\toEnhancedKeyUsageOIDs = objects[5];\n\t\t\t\toDn = objects[6];\n\t\t\t\toExtensions = objects[7];\n\t\t\t\toCspInformations = objects[8];\n\t\t\t\toSubjectSignTool = objects[9];\n\n\t\t\t\treturn oCspInformations.AddAvailableCsps();\n\t\t\t}).then(function(){\n\t\t\t\treturn oCspInformations.Count;\n\t\t\t}).then(function(cnt){\n\t\t\t\tif(!cnt) throw new Error('No CSP informations!');\n\t\t\t\tconst aPromises = [];\n\t\t\t\tfor(let i=0; i<cnt; i++) aPromises.push(oCspInformations.ItemByIndex(i));\n\t\t\t\treturn Promise.all(aPromises);\n\t\t\t}).then(function(aCspInformation){\n\t\t\t\tconst aPromises = [];\n\t\t\t\tfor(let i in aCspInformation) {\n\t\t\t\t\tconst a = aCspInformation[i];\n\t\t\t\t\taPromises.push(a.LegacyCsp);\n\t\t\t\t\taPromises.push(a.Type);\n\t\t\t\t\taPromises.push(a.Name);\n\t\t\t\t}\n\t\t\t\treturn Promise.all(aPromises);\n\t\t\t}).then(function(aCspInfo){\n\t\t\t\tlet cspType, cspName;\n\t\t\t\tfor(let i=0; i<aCspInfo.length; i+=3) {\n\t\t\t\t\tconst bLegacyCsp = aCspInfo[i];\n\t\t\t\t\tconst nType = aCspInfo[i+1];\n\t\t\t\t\tconst sName = aCspInfo[i+2];\n\n\t\t\t\t\tif(bLegacyCsp && nType == providerType) {\n\t\t\t\t\t\tcspType = nType;\n\t\t\t\t\t\tcspName = sCSPName = sName;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!cspName || !cspType) {\n\t\t\t\t\tthrow new Error('No suitable CSP!');\n\t\t\t\t}\n\n\t\t\t\tconst aPromises = [\n\t\t\t\t\toPrivateKey.propset_KeySpec(X509KeySpec.XCN_AT_SIGNATURE),\n\t\t\t\t\toPrivateKey.propset_Existing(false),\n\t\t\t\t\toPrivateKey.propset_ExportPolicy(X509PrivateKeyExportFlags.XCN_NCRYPT_ALLOW_EXPORT_FLAG),\n\t\t\t\t\toPrivateKey.propset_ProviderType(cspType),\n\t\t\t\t\toPrivateKey.propset_ProviderName(cspName)\n\t\t\t\t];\n\t\t\t\tif(pin) aPromises.push(oPrivateKey.propset_Pin(pin));\n\t\t\t\treturn Promise.all(aPromises);\n\t\t\t}).then(function(){\n\t\t\t\treturn oRequest.InitializeFromPrivateKey(X509CertificateEnrollmentContext.ContextUser, oPrivateKey, '');\n\t\t\t}).then(function(){\n\t\t\t\treturn oKeyUsage.InitializeEncode(\n\t\t\t\t\tX509KeyUsageFlags.XCN_CERT_DIGITAL_SIGNATURE_KEY_USAGE |\n\t\t\t\t\tX509KeyUsageFlags.XCN_CERT_KEY_ENCIPHERMENT_KEY_USAGE |\n\t\t\t\t\tX509KeyUsageFlags.XCN_CERT_NON_REPUDIATION_KEY_USAGE |\n\t\t\t\t\tX509KeyUsageFlags.XCN_CERT_DATA_ENCIPHERMENT_KEY_USAGE\n\t\t\t\t);\n\t\t\t}).then(function(){\n\t\t\t\tconst promises = [];\n\t\t\t\tfor(let i=0; i<ekuOids.length; i++) {\n\t\t\t\t\tpromises.push(cadesplugin.CreateObjectAsync('X509Enrollment.CObjectId'));\n\t\t\t\t}\n\t\t\t\treturn Promise.all(promises);\n\t\t\t}).then(function(objects){\n\t\t\t\taOIDs = objects;\n\t\t\t\tconst promises = [];\n\t\t\t\tfor(let i=0; i<ekuOids.length; i++) {\n\t\t\t\t\tpromises.push(aOIDs[i].InitializeFromValue(ekuOids[i]));\n\t\t\t\t}\n\t\t\t\treturn Promise.all(promises);\n\t\t\t}).then(function(){\n\t\t\t\tconst promises = [];\n\t\t\t\tfor(let i=0; i<ekuOids.length; i++) {\n\t\t\t\t\tpromises.push(oEnhancedKeyUsageOIDs.Add(aOIDs[i]));\n\t\t\t\t}\n\t\t\t\treturn Promise.all(promises);\n\t\t\t}).then(function(){\n\t\t\t\treturn cadesplugin.CreateObjectAsync('X509Enrollment.CObjectId');\n\t\t\t}).then(function(oid){\n\t\t\t\toSstOID = oid;\n\t\t\t\treturn oSstOID.InitializeFromValue('1.2.643.100.111'); // Subject Sign Tool\n\t\t\t}).then(function(){\n\t\t\t\tconst shortName = sCSPName.slice(0, maxLengthCSPName);\n\t\t\t\tconst utf8arr = stringToUtf8ByteArray(shortName);\n\t\t\t\tutf8arr.unshift(asn1UTF8StringTag, utf8arr.length);\n\t\t\t\tconst base64String = btoa(String.fromCharCode.apply(null, new Uint8Array(utf8arr)));\n\t\t\t\t//return oSubjectSignTool.Initialize(oSstOID, EncodingType.XCN_CRYPT_STRING_BINARY, utf8string); // не работает на винде\n\t\t\t\treturn oSubjectSignTool.Initialize(oSstOID, EncodingType.XCN_CRYPT_STRING_BASE64, base64String);\n\t\t\t}).then(function(){\n\t\t\t\treturn oEnhancedKeyUsage.InitializeEncode(oEnhancedKeyUsageOIDs);\n\t\t\t}).then(function(){\n\t\t\t\treturn oRequest.X509Extensions;\n\t\t\t}).then(function(ext){\n\t\t\t\toExtensions = ext;\n\t\t\t\treturn Promise.all([\n\t\t\t\t\toExtensions.Add(oKeyUsage),\n\t\t\t\t\toExtensions.Add(oEnhancedKeyUsage),\n\t\t\t\t\toExtensions.Add(oSubjectSignTool)\n\t\t\t\t]);\n\t\t\t}).then(function(){\n\t\t\t\tconst strName = dnToX500DistinguishedName(dn);\n\t\t\t\treturn oDn.Encode(strName, X500NameFlags.XCN_CERT_NAME_STR_ENABLE_PUNYCODE_FLAG);\n\t\t\t}).then(function(){\n\t\t\t\treturn oRequest.propset_Subject(oDn);\n\t\t\t}).then(function(){\n\t\t\t\treturn oEnroll.InitializeFromRequest(oRequest);\n\t\t\t}).then(function(){\n\t\t\t\treturn oEnroll.CreateRequest(EncodingType.XCN_CRYPT_STRING_BASE64);\n\t\t\t}).then(function(csr){\n\t\t\t\treturn { csr };\n\t\t\t}).catch(function(e){\n\t\t\t\tconst err = getError(e);\n\t\t\t\tthrow new Error(err);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\ttry {\n\t\t\t\t\tconst oCspInformations = cadesplugin.CreateObject('X509Enrollment.CCspInformations');\n\t\t\t\t\tconst oEnroll = cadesplugin.CreateObject('X509Enrollment.CX509Enrollment');\n\t\t\t\t\tconst oRequest = cadesplugin.CreateObject('X509Enrollment.CX509CertificateRequestPkcs10');\n\t\t\t\t\tconst oPrivateKey = cadesplugin.CreateObject('X509Enrollment.CX509PrivateKey');\n\t\t\t\t\tconst oKeyUsage = cadesplugin.CreateObject('X509Enrollment.CX509ExtensionKeyUsage');\n\t\t\t\t\tconst oEnhancedKeyUsage = cadesplugin.CreateObject('X509Enrollment.CX509ExtensionEnhancedKeyUsage');\n\t\t\t\t\tconst oEnhancedKeyUsageOIDs = cadesplugin.CreateObject('X509Enrollment.CObjectIds');\n\t\t\t\t\tconst oDn = cadesplugin.CreateObject('X509Enrollment.CX500DistinguishedName');\n\n\t\t\t\t\tlet cspType, cspName;\n\t\t\t\t\toCspInformations.AddAvailableCsps();\n\t\t\t\t\tfor(let i=0; i<oCspInformations.Count; i++) {\n\t\t\t\t\t\tconst oCspInfo = oCspInformations.ItemByIndex(i);\n\t\t\t\t\t\tif(oCspInfo.LegacyCsp && oCspInfo.Type == providerType) {\n\t\t\t\t\t\t\tcspType = oCspInfo.Type;\n\t\t\t\t\t\t\tcspName = oCspInfo.Name;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!cspName || !cspType) {\n\t\t\t\t\t\tthrow new Error('No suitable CSP!');\n\t\t\t\t\t}\n\n\t\t\t\t\toPrivateKey.KeySpec = X509KeySpec.XCN_AT_SIGNATURE;\n\t\t\t\t\toPrivateKey.Existing = false;\n\t\t\t\t\toPrivateKey.ExportPolicy = X509PrivateKeyExportFlags.XCN_NCRYPT_ALLOW_EXPORT_FLAG;\n\t\t\t\t\toPrivateKey.ProviderName = cspName;\n\t\t\t\t\toPrivateKey.ProviderType = cspType;\n\t\t\t\t\t// под виндой нельзя задать ПИН тк не дает доступа\n\t\t\t\t\t//oPrivateKey.Pin = pin; //CX509PrivateKey::put_Pin: Access is denied. 0x80070005 (WIN32: 5)\n\n\t\t\t\t\toRequest.InitializeFromPrivateKey(X509CertificateEnrollmentContext.ContextUser, oPrivateKey, '');\n\n\t\t\t\t\toKeyUsage.InitializeEncode(\n\t\t\t\t\t\tX509KeyUsageFlags.XCN_CERT_DIGITAL_SIGNATURE_KEY_USAGE |\n\t\t\t\t\t\tX509KeyUsageFlags.XCN_CERT_KEY_ENCIPHERMENT_KEY_USAGE |\n\t\t\t\t\t\tX509KeyUsageFlags.XCN_CERT_NON_REPUDIATION_KEY_USAGE |\n\t\t\t\t\t\tX509KeyUsageFlags.XCN_CERT_DATA_ENCIPHERMENT_KEY_USAGE\n\t\t\t\t\t);\n\n\t\t\t\t\tconst aEnhancedKeyUsageOIDs = [];\n\t\t\t\t\tfor(let i=0; i<ekuOids.length; i++) {\n\t\t\t\t\t\taEnhancedKeyUsageOIDs.push(cadesplugin.CreateObject('X509Enrollment.CObjectId'));\n\t\t\t\t\t\taEnhancedKeyUsageOIDs[i].InitializeFromValue(ekuOids[i]);\n\t\t\t\t\t\toEnhancedKeyUsageOIDs.Add(aEnhancedKeyUsageOIDs[i]);\n\t\t\t\t\t}\n\n\t\t\t\t\toEnhancedKeyUsage.InitializeEncode(oEnhancedKeyUsageOIDs);\n\n\t\t\t\t\toRequest.X509Extensions.Add(oKeyUsage);\n\t\t\t\t\toRequest.X509Extensions.Add(oEnhancedKeyUsage);\n\n\t\t\t\t\t//subject sign tool\n\t\t\t\t\tconst ssOID = cadesplugin.CreateObject('X509Enrollment.CObjectId');\n\t\t\t\t\tssOID.InitializeFromValue('1.2.643.100.111');\n\t\t\t\t\tconst shortName = cspName.slice(0, maxLengthCSPName);\n\t\t\t\t\tconst utf8arr = stringToUtf8ByteArray(shortName);\n\t\t\t\t\tutf8arr.unshift(asn1UTF8StringTag, shortName.length);\n\t\t\t\t\tconst base64String = btoa(String.fromCharCode.apply(null, new Uint8Array(utf8arr)));\n\t\t\t\t\tconst oSubjectSignTool = cadesplugin.CreateObject('X509Enrollment.CX509Extension');\n\t\t\t\t\toSubjectSignTool.Initialize(ssOID, EncodingType.XCN_CRYPT_STRING_BASE64, base64String);\n\t\t\t\t\toRequest.X509Extensions.Add(oSubjectSignTool);\n\n\t\t\t\t\tconst strName = dnToX500DistinguishedName(dn);\n\t\t\t\t\toDn.Encode(strName, X500NameFlags.XCN_CERT_NAME_STR_ENABLE_PUNYCODE_FLAG);\n\n\t\t\t\t\toRequest.Subject = oDn;\n\n\t\t\t\t\toEnroll.InitializeFromRequest(oRequest);\n\n\t\t\t\t\tconst csr = oEnroll.CreateRequest(EncodingType.XCN_CRYPT_STRING_BASE64);\n\t\t\t\t\tresolve({ csr });\n\t\t\t\t}\n\t\t\t\tcatch(e) {\n\t\t\t\t\tconst err = getError(e);\n\t\t\t\t\tthrow new Error(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Запись сертификата.\n\t * @param {string} certBase64\n\t * @returns {Promise<string>} thumbprint\n\t */\n\tthis.writeCertificate = function(certBase64){\n\t\tif(canAsync) {\n\t\t\tlet oEnroll, existingSha = [];\n\t\t\treturn this.listCertificates().then(function(certs){\n\t\t\t\tfor(let i in certs) {\n\t\t\t\t\texistingSha.push(certs[i].id);\n\t\t\t\t}\n\t\t\t\treturn cadesplugin.CreateObjectAsync('X509Enrollment.CX509Enrollment');\n\t\t\t}).then(function(enroll){\n\t\t\t\toEnroll = enroll;\n\t\t\t\treturn oEnroll.Initialize(X509CertificateEnrollmentContext.ContextUser);\n\t\t\t}).then(function(){\n\t\t\t\treturn oEnroll.InstallResponse(InstallResponseRestrictionFlags.AllowNone, certBase64, EncodingType.XCN_CRYPT_STRING_BASE64, '');\n\t\t\t}).then(this.listCertificates).then(function(certs){\n\t\t\t\tfor(let i in certs) {\n\t\t\t\t\tconst sha = certs[i].id;\n\t\t\t\t\tif(existingSha.indexOf(sha) < 0) {\n\t\t\t\t\t\treturn sha;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthrow new Error('Не удалось найти установленный сертификат по отпечатку');\n\t\t\t}).catch(function(e){\n\t\t\t\tconst err = getError(e);\n\t\t\t\tthrow new Error(err);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\ttry {\n\t\t\t\t\tconst existingSha = [];\n\t\t\t\t\tlet oStore = cadesplugin.CreateObject(\"CAPICOM.Store\");\n\t\t\t\t\toStore.Open(cadesplugin.CAPICOM_CURRENT_USER_STORE, cadesplugin.CAPICOM_MY_STORE, cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED);\n\t\t\t\t\tlet oCertificates = oStore.Certificates;\n\t\t\t\t\tfor(let i=1; i<=oCertificates.Count; i++) {\n\t\t\t\t\t\texistingSha.push(oCertificates.Item(i).Thumbprint);\n\t\t\t\t\t}\n\t\t\t\t\toStore.Close();\n\n\t\t\t\t\tconst oEnroll = cadesplugin.CreateObject('X509Enrollment.CX509Enrollment');\n\t\t\t\t\toEnroll.Initialize(X509CertificateEnrollmentContext.ContextUser);\n\t\t\t\t\toEnroll.InstallResponse(InstallResponseRestrictionFlags.AllowNone, certBase64, EncodingType.XCN_CRYPT_STRING_BASE64, '');\n\n\t\t\t\t\toStore = cadesplugin.CreateObject(\"CAPICOM.Store\");\n\t\t\t\t\toStore.Open(cadesplugin.CAPICOM_CURRENT_USER_STORE, cadesplugin.CAPICOM_MY_STORE, cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED);\n\t\t\t\t\toCertificates = oStore.Certificates;\n\t\t\t\t\tlet found = false;\n\t\t\t\t\tlet sha = '';\n\t\t\t\t\tfor(let i=1; i<=oCertificates.Count; i++) {\n\t\t\t\t\t\tsha = oCertificates.Item(i).Thumbprint;\n\t\t\t\t\t\tif(existingSha.indexOf(sha) < 0) {\n\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\toStore.Close();\n\t\t\t\t\tif(found) {\n\t\t\t\t\t\tresolve(sha);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthrow new Error('Не удалось найти установленный сертификат по отпечатку');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatch(e) {\n\t\t\t\t\tconst err = getError(e);\n\t\t\t\t\tthrow new Error(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Получение информации о сертификате.\n\t * @param {string} certThumbprint\n\t * @param {object} [options]\n\t * @param {boolean} [options.checkValid] проверять валидность сертификата через СКЗИ, а не сроку действия\n\t * @returns {Promise<Object>}\n\t */\n\tthis.certificateInfo = function(certThumbprint, options){\n\t\tif (!options) options = {\n\t\t\tcheckValid: false\n\t\t};\n\t\tconst infoToString = function () {\n\t\t\treturn    'Название:              ' + this.Name +\n\t\t\t\t\t'\\nИздатель:              ' + this.IssuerName +\n\t\t\t\t\t'\\nСубъект:               ' + this.SubjectName +\n\t\t\t\t\t'\\nВерсия:                ' + this.Version +\n\t\t\t\t\t'\\nАлгоритм:              ' + this.Algorithm + // PublicKey Algorithm\n\t\t\t\t\t'\\nСерийный №:            ' + this.SerialNumber +\n\t\t\t\t\t'\\nОтпечаток SHA1:        ' + this.Thumbprint +\n\t\t\t\t\t'\\nНе действителен до:    ' + this.ValidFromDate +\n\t\t\t\t\t'\\nНе действителен после: ' + this.ValidToDate +\n\t\t\t\t\t'\\nПриватный ключ:        ' + (this.HasPrivateKey ? 'Есть' : 'Нет') +\n\t\t\t\t\t'\\nКриптопровайдер:       ' + this.ProviderName + // PrivateKey ProviderName\n\t\t\t\t\t'\\nВалидный:              ' + (this.IsValid ? 'Да' : 'Нет');\n\t\t};\n\n\t\tif(canAsync) {\n\t\t\tlet oInfo = {};\n\t\t\treturn getCertificateObject(certThumbprint)\n\t\t\t.then(oCertificate => Promise.all([\n\t\t\t\toCertificate.HasPrivateKey(),\n\t\t\t\toptions.checkValid ? oCertificate.IsValid().then(v => v.Result) : undefined,\n\t\t\t\toCertificate.IssuerName,\n\t\t\t\toCertificate.SerialNumber,\n\t\t\t\toCertificate.SubjectName,\n\t\t\t\toCertificate.Thumbprint,\n\t\t\t\toCertificate.ValidFromDate,\n\t\t\t\toCertificate.ValidToDate,\n\t\t\t\toCertificate.Version,\n\t\t\t\toCertificate.PublicKey().then(k => k.Algorithm).then(a => a.FriendlyName),\n\t\t\t\toCertificate.HasPrivateKey().then(key => !key && ['', undefined] || oCertificate.PrivateKey.then(k => Promise.all([\n\t\t\t\t\tk.ProviderName, k.ProviderType\n\t\t\t\t])))\n\t\t\t]))\n\t\t\t.then(a => {\n\t\t\t\toInfo = {\n\t\t\t\t\tHasPrivateKey: a[0],\n\t\t\t\t\tIsValid: a[1],\n\t\t\t\t\tIssuerName: a[2],\n\t\t\t\t\tIssuer: undefined,\n\t\t\t\t\tSerialNumber: a[3],\n\t\t\t\t\tSubjectName: a[4],\n\t\t\t\t\tSubject: undefined,\n\t\t\t\t\tName: undefined,\n\t\t\t\t\tThumbprint: a[5],\n\t\t\t\t\tValidFromDate: new Date(a[6]),\n\t\t\t\t\tValidToDate: new Date(a[7]),\n\t\t\t\t\tVersion: a[8],\n\t\t\t\t\tAlgorithm: a[9],\n\t\t\t\t\tProviderName: a[10][0],\n\t\t\t\t\tProviderType: a[10][1]\n\t\t\t\t};\n\t\t\t\toInfo.Subject = string2dn(oInfo.SubjectName);\n\t\t\t\toInfo.Issuer  = string2dn(oInfo.IssuerName);\n\t\t\t\toInfo.Name = oInfo.Subject['CN'];\n\t\t\t\tif (!options.checkValid) {\n\t\t\t\t\tconst dt = new Date();\n\t\t\t\t\toInfo.IsValid = dt >= oInfo.ValidFromDate && dt <= oInfo.ValidToDate;\n\t\t\t\t}\n\t\t\t\toInfo.toString = infoToString;\n\t\t\t\treturn oInfo;\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\tconst err = getError(e);\n\t\t\t\tthrow new Error(err);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\ttry {\n\t\t\t\t\tconst oCertificate = getCertificateObject(certThumbprint);\n\t\t\t\t\tconst hasKey = oCertificate.HasPrivateKey();\n\t\t\t\t\tconst oParesedSubj = string2dn(oCertificate.SubjectName);\n\t\t\t\t\tconst oInfo = {\n\t\t\t\t\t\tHasPrivateKey: hasKey,\n\t\t\t\t\t\tIsValid: options.checkValid ? oCertificate.IsValid().Result : undefined,\n\t\t\t\t\t\tIssuerName: oCertificate.IssuerName,\n\t\t\t\t\t\tIssuer: string2dn(oCertificate.IssuerName),\n\t\t\t\t\t\tSerialNumber: oCertificate.SerialNumber,\n\t\t\t\t\t\tSubjectName: oCertificate.SubjectName,\n\t\t\t\t\t\tSubject: oParesedSubj,\n\t\t\t\t\t\tName: oParesedSubj['CN'],\n\t\t\t\t\t\tThumbprint: oCertificate.Thumbprint,\n\t\t\t\t\t\tValidFromDate: new Date(oCertificate.ValidFromDate),\n\t\t\t\t\t\tValidToDate: new Date(oCertificate.ValidToDate),\n\t\t\t\t\t\tVersion: oCertificate.Version,\n\t\t\t\t\t\tAlgorithm: oCertificate.PublicKey().Algorithm.FriendlyName,\n\t\t\t\t\t\tProviderName: hasKey && oCertificate.PrivateKey.ProviderName || '',\n\t\t\t\t\t\tProviderType: hasKey && oCertificate.PrivateKey.ProviderType || undefined,\n\t\t\t\t\t};\n\t\t\t\t\tif (!options.checkValid) {\n\t\t\t\t\t\tconst dt = new Date();\n\t\t\t\t\t\toInfo.IsValid = dt >= oInfo.ValidFromDate && dt <= oInfo.ValidToDate;\n\t\t\t\t\t}\n\t\t\t\t\toInfo.toString = infoToString;\n\t\t\t\t\tresolve(oInfo);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tconst err = getError(e);\n\t\t\t\t\tthrow new Error(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Получение массива доступных сертификатов\n\t * @returns {Promise<{id: string; name: string; subject: DN; validFrom: Date; validTo: Date;}[]>} [{id, name, subject, validFrom, validTo}, ...]\n\t */\n\tthis.listCertificates = function(){\n\t\tconst tryContainerStore = hasContainerStore();\n\n\t\tif(canAsync) {\n\t\t\tlet oStore, ret;\n\t\t\treturn cadesplugin.then(function(){\n\t\t\t\treturn cadesplugin.CreateObjectAsync(\"CAPICOM.Store\");\n\t\t\t}).then(store => {\n\t\t\t\toStore = store;\n\t\t\t\treturn oStore.Open(cadesplugin.CAPICOM_CURRENT_USER_STORE,\n\t\t\t\t\tcadesplugin.CAPICOM_MY_STORE,\n\t\t\t\t\tcadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED);\n\t\t\t}).then(() => {\n\t\t\t\treturn fetchCertsFromStore(oStore);\n\t\t\t}).then(certs => {\n\t\t\t\tret = certs;\n\t\t\t\treturn oStore.Close();\n\t\t\t}).then(() => {\n\t\t\t\tif (tryContainerStore) {\n\t\t\t\t\tlet certificates;\n\t\t\t\t\treturn oStore.Open(cadesplugin.CADESCOM_CONTAINER_STORE).then(() => {\n\t\t\t\t\t\tconst skipIds = ret.map(a => a.id);\n\t\t\t\t\t\treturn fetchCertsFromStore(oStore, skipIds);\n\t\t\t\t\t}).then(certs => {\n\t\t\t\t\t\tcertificates = certs;\n\t\t\t\t\t\treturn oStore.Close();\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\treturn certificates;\n\t\t\t\t\t}).catch(e => {\n\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t}).then(certs => {\n\t\t\t\tret.push(...certs);\n\t\t\t\treturn ret;\n\t\t\t}).catch(e => {\n\t\t\t\tconst err = getError(e);\n\t\t\t\tthrow new Error(err);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\ttry {\n\t\t\t\t\tconst oStore = cadesplugin.CreateObject(\"CAPICOM.Store\");\n\t\t\t\t\toStore.Open(cadesplugin.CAPICOM_CURRENT_USER_STORE,\n\t\t\t\t\t\tcadesplugin.CAPICOM_MY_STORE,\n\t\t\t\t\t\tcadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED);\n\t\t\t\t\tconst ret = fetchCertsFromStore(oStore);\n\t\t\t\t\toStore.Close();\n\n\t\t\t\t\tif (tryContainerStore) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\toStore.Open(cadesplugin.CADESCOM_CONTAINER_STORE);\n\t\t\t\t\t\t\tconst skipIds = ret.map(a => a.id);\n\t\t\t\t\t\t\tconst certs = fetchCertsFromStore(oStore, skipIds);\n\t\t\t\t\t\t\toStore.Close();\n\t\t\t\t\t\t\tret.push(...certs);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresolve(ret);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tconst err = getError(e);\n\t\t\t\t\tthrow new Error(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Чтение сертификата\n\t * @param {string} certThumbprint\n\t * @returns {Promise<string>} base64\n\t */\n\tthis.readCertificate = function(certThumbprint){\n\t\tif(canAsync) {\n\t\t\treturn getCertificateObject(certThumbprint)\n\t\t\t.then(cert => cert.Export(cadesplugin.CADESCOM_ENCODE_BASE64))\n\t\t\t.catch(e => {\n\t\t\t\tconst err = getError(e);\n\t\t\t\tthrow new Error(err);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\ttry {\n\t\t\t\t\tconst oCertificate = getCertificateObject(certThumbprint);\n\t\t\t\t\tconst data = oCertificate.Export(cadesplugin.CADESCOM_ENCODE_BASE64);\n\t\t\t\t\tresolve(data);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tconst err = getError(e);\n\t\t\t\t\tthrow new Error(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Подпись данных отсоединенная или присоединенная\n\t * @param {string} dataBase64\n\t * @param {string} certThumbprint\n\t * @param {object} [options]\n\t * @param {string} [options.pin] будет запрошен, если отсутствует\n\t * @param {boolean} [options.attached] присоединенная подпись\n\t * @returns {Promise<string>} base64\n\t */\n\tthis.signData = function(dataBase64, certThumbprint, options){\n\t\tif (typeof options === 'string') {\n\t\t\t// обратная совместимость с версией 2.3\n\t\t\toptions = { pin: options };\n\t\t}\n\t\tif (!options) options = {};\n\t\tconst { pin, attached } = options;\n\t\tif(canAsync) {\n\t\t\tlet oCertificate, oSigner, oSignedData;\n\t\t\treturn getCertificateObject(certThumbprint, pin)\n\t\t\t.then(certificate => {\n\t\t\t\toCertificate = certificate;\n\t\t\t\treturn Promise.all([\n\t\t\t\t\tcadesplugin.CreateObjectAsync(\"CAdESCOM.CPSigner\"),\n\t\t\t\t\tcadesplugin.CreateObjectAsync(\"CAdESCOM.CadesSignedData\")\n\t\t\t\t]);\n\t\t\t})\n\t\t\t.then(objects => {\n\t\t\t\toSigner = objects[0];\n\t\t\t\toSignedData = objects[1];\n\t\t\t\treturn Promise.all([\n\t\t\t\t\toSigner.propset_Certificate(oCertificate),\n\t\t\t\t\toSigner.propset_Options(signerOptions),\n\t\t\t\t\t// Значение свойства ContentEncoding должно быть задано до заполнения свойства Content\n\t\t\t\t\toSignedData.propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY)\n\t\t\t\t]);\n\t\t\t})\n\t\t\t.then(() => oSignedData.propset_Content(dataBase64))\n\t\t\t.then(() => oSignedData.SignCades(oSigner, cadesplugin.CADESCOM_CADES_BES, !attached))\n\t\t\t.catch(e => {\n\t\t\t\tconst err = getError(e);\n\t\t\t\tthrow new Error(err);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\ttry {\n\t\t\t\t\tconst oCertificate = getCertificateObject(certThumbprint, pin);\n\t\t\t\t\tconst oSigner = cadesplugin.CreateObject(\"CAdESCOM.CPSigner\");\n\t\t\t\t\toSigner.Certificate = oCertificate;\n\t\t\t\t\toSigner.Options = signerOptions;\n\n\t\t\t\t\tconst oSignedData = cadesplugin.CreateObject(\"CAdESCOM.CadesSignedData\");\n\t\t\t\t\t// Значение свойства ContentEncoding должно быть задано до заполнения свойства Content\n\t\t\t\t\toSignedData.ContentEncoding = cadesplugin.CADESCOM_BASE64_TO_BINARY;\n\t\t\t\t\toSignedData.Content = dataBase64;\n\n\t\t\t\t\tconst sSignedMessage = oSignedData.SignCades(oSigner, cadesplugin.CADESCOM_CADES_BES, !attached);\n\t\t\t\t\tresolve(sSignedMessage);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tconst err = getError(e);\n\t\t\t\t\tthrow new Error(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Совместная подпись данных (двумя сертификатами).\n\t * @param {string} dataBase64\n\t * @param {string} certThumbprint SHA1 отпечаток первого сертификата\n\t * @param {string} certThumbprint2 SHA1 отпечаток второго сертификата\n\t * @param {object} [options]\n\t * @param {string} [options.pin] будет запрошен, если отсутствует\n\t * @param {string} [options.pin2] будет запрошен, если отсутствует\n\t * @param {boolean} [options.attached] присоединенная подпись\n\t * @returns {Promise<string>} base64\n\t */\n\tthis.signData2 = function(dataBase64, certThumbprint, certThumbprint2, options){\n\t\tif (!options) options = {};\n\t\tconst { pin, pin2, attached } = options;\n\t\tif(canAsync) {\n\t\t\tlet oCertificate, oCertificate2, oSigner, oSignedData;\n\t\t\treturn Promise.all([\n\t\t\t\tgetCertificateObject(certThumbprint, pin),\n\t\t\t\tgetCertificateObject(certThumbprint2, pin2)\n\t\t\t])\n\t\t\t.then(certs => {\n\t\t\t\toCertificate = certs[0];\n\t\t\t\toCertificate2 = certs[1];\n\t\t\t\treturn Promise.all([\n\t\t\t\t\tcadesplugin.CreateObjectAsync(\"CAdESCOM.CPSigner\"),\n\t\t\t\t\tcadesplugin.CreateObjectAsync(\"CAdESCOM.CadesSignedData\")\n\t\t\t\t]);\n\t\t\t})\n\t\t\t.then(objects => {\n\t\t\t\toSigner = objects[0];\n\t\t\t\toSignedData = objects[1];\n\t\t\t\t// Значение свойства ContentEncoding должно быть задано до заполнения свойства Content\n\t\t\t\treturn oSignedData.propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY);\n\t\t\t})\n\t\t\t.then(() => oSignedData.propset_Content(dataBase64))\n\t\t\t.then(() => Promise.all([\n\t\t\t\toSigner.propset_Certificate(oCertificate),\n\t\t\t\toSigner.propset_Options(signerOptions)\n\t\t\t]))\n\t\t\t.then(() => oSignedData.SignCades(oSigner, cadesplugin.CADESCOM_CADES_BES, !attached))\n\t\t\t.then(() => Promise.all([\n\t\t\t\toSigner.propset_Certificate(oCertificate2),\n\t\t\t\toSigner.propset_Options(signerOptions)\n\t\t\t]))\n\t\t\t.then(() => oSignedData.CoSignCades(oSigner, cadesplugin.CADESCOM_CADES_BES))\n\t\t\t.catch(e => {\n\t\t\t\tconsole.log(arguments);\n\t\t\t\tconst err = getError(e);\n\t\t\t\tthrow new Error(err);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\ttry {\n\t\t\t\t\tconst oCertificate = getCertificateObject(certThumbprint, pin);\n\t\t\t\t\tconst oCertificate2 = getCertificateObject(certThumbprint2, pin2);\n\n\t\t\t\t\tconst oSignedData = cadesplugin.CreateObject(\"CAdESCOM.CadesSignedData\");\n\t\t\t\t\t// Значение свойства ContentEncoding должно быть задано до заполнения свойства Content\n\t\t\t\t\toSignedData.ContentEncoding = cadesplugin.CADESCOM_BASE64_TO_BINARY;\n\t\t\t\t\toSignedData.Content = dataBase64;\n\n\t\t\t\t\tconst oSigner = cadesplugin.CreateObject(\"CAdESCOM.CPSigner\");\n\t\t\t\t\toSigner.Certificate = oCertificate;\n\t\t\t\t\toSigner.Options = signerOptions;\n\t\t\t\t\tconst sSignedMessage = oSignedData.SignCades(oSigner, cadesplugin.CADESCOM_CADES_BES, !attached);\n\n\t\t\t\t\toSigner.Certificate = oCertificate2;\n\t\t\t\t\toSigner.Options = signerOptions;\n\t\t\t\t\tconst sSignedMessage2 = oSignedData.CoSignCades(oSigner, cadesplugin.CADESCOM_CADES_BES);\n\n\t\t\t\t\tresolve(sSignedMessage2);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tconst err = getError(e);\n\t\t\t\t\tthrow new Error(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Добавить подпись к существующей.\n\t * @param {string} dataBase64 игнорируется если прикрепленная подпись\n\t * @param {string} signBase64 существующая подпись\n\t * @param {string} certThumbprint SHA1 отпечаток первого сертификата\n\t * @param {object} [options]\n\t * @param {string} [options.pin] будет запрошен, если отсутствует\n\t * @param {boolean} [options.attached] присоединенная подпись\n\t * @returns {Promise<string>} base64\n\t */\n\tthis.addSign = function(dataBase64, signBase64, certThumbprint, options){\n\t\tif (!options) options = {};\n\t\tconst { pin, attached } = options;\n\t\tif(canAsync) {\n\t\t\tlet oCertificate, oSigner, oSignedData;\n\t\t\treturn getCertificateObject(certThumbprint, pin)\n\t\t\t.then(certificate => {\n\t\t\t\toCertificate = certificate;\n\t\t\t\treturn Promise.all([\n\t\t\t\t\tcadesplugin.CreateObjectAsync(\"CAdESCOM.CPSigner\"),\n\t\t\t\t\tcadesplugin.CreateObjectAsync(\"CAdESCOM.CadesSignedData\")\n\t\t\t\t]);\n\t\t\t})\n\t\t\t.then(objects => {\n\t\t\t\toSigner = objects[0];\n\t\t\t\toSignedData = objects[1];\n\t\t\t\tif (attached) {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Значение свойства ContentEncoding должно быть задано до заполнения свойства Content\n\t\t\t\t\treturn oSignedData.propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY)\n\t\t\t\t\t\t.then(() => oSignedData.propset_Content(dataBase64));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\treturn oSignedData.VerifyCades(signBase64, cadesplugin.CADESCOM_CADES_BES, !attached).catch(function(e){\n\t\t\t\t\tconsole.log('Existing sign not verified: %o', e);\n\t\t\t\t\t// Для создания второй подписи успешная проверка не требуется.\n\t\t\t\t\t// Вы можете перехватить исключение при проверке, и добавить подпись вторую.\n\t\t\t\t\t// Проверка нужна только для того что бы подпись попала внутрь SignedData.\n\t\t\t\t});\n\t\t\t})\n\t\t\t.then(() => Promise.all([\n\t\t\t\toSigner.propset_Certificate(oCertificate),\n\t\t\t\toSigner.propset_Options(signerOptions)\n\t\t\t]))\n\t\t\t.then(() => oSignedData.CoSignCades(oSigner, cadesplugin.CADESCOM_CADES_BES))\n\t\t\t.catch(e => {\n\t\t\t\tconst err = getError(e);\n\t\t\t\tthrow new Error(err);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\ttry {\n\t\t\t\t\tconst oCertificate = getCertificateObject(certThumbprint, pin);\n\t\t\t\t\tconst oSignedData = cadesplugin.CreateObject(\"CAdESCOM.CadesSignedData\");\n\t\t\t\t\tif (!attached) {\n\t\t\t\t\t\t// Значение свойства ContentEncoding должно быть задано до заполнения свойства Content\n\t\t\t\t\t\toSignedData.ContentEncoding = cadesplugin.CADESCOM_BASE64_TO_BINARY;\n\t\t\t\t\t\toSignedData.Content = dataBase64;\n\t\t\t\t\t}\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\toSignedData.VerifyCades(signBase64, cadesplugin.CADESCOM_CADES_BES, !attached);\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e) {\n\t\t\t\t\t\tconsole.log('Existing sign not verified: %o', e);\n\t\t\t\t\t\t// Для создания второй подписи успешная проверка не требуется.\n\t\t\t\t\t\t// Вы можете перехватить исключение при проверке, и добавить подпись вторую.\n\t\t\t\t\t\t// Проверка нужна только для того что бы подпись попала внутрь SignedData.\n\t\t\t\t\t}\n\n\t\t\t\t\tconst oSigner = cadesplugin.CreateObject(\"CAdESCOM.CPSigner\");\n\t\t\t\t\toSigner.Certificate = oCertificate;\n\t\t\t\t\toSigner.Options = signerOptions;\n\t\t\t\t\tconst sSignedMessage = oSignedData.CoSignCades(oSigner, cadesplugin.CADESCOM_CADES_BES);\n\n\t\t\t\t\tresolve(sSignedMessage);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tconst err = getError(e);\n\t\t\t\t\tthrow new Error(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Проверить подпись.\n\t * @param {string} dataBase64 игнорируется если прикрепленная подпись\n\t * @param {string} signBase64 существующая подпись\n\t * @param {object} [options]\n\t * @param {boolean} [options.attached] присоединенная подпись\n\t * @returns {Promise<boolean>} true или reject\n\t */\n\tthis.verifySign = function(dataBase64, signBase64, options){\n\t\tif (!options) options = {};\n\t\tconst { attached } = options;\n\t\tif(canAsync) {\n\t\t\tlet oSignedData;\n\t\t\treturn cadesplugin.then(function(){\n\t\t\t\treturn cadesplugin.CreateObjectAsync(\"CAdESCOM.CadesSignedData\");\n\t\t\t}).then(function(object){\n\t\t\t\toSignedData = object;\n\t\t\t\tif (attached) {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Значение свойства ContentEncoding должно быть задано до заполнения свойства Content\n\t\t\t\t\treturn oSignedData.propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY)\n\t\t\t\t\t\t.then(() => oSignedData.propset_Content(dataBase64));\n\t\t\t\t}\n\t\t\t}).then(function(){\n\t\t\t\treturn oSignedData.VerifyCades(signBase64, cadesplugin.CADESCOM_CADES_BES, !attached);\n\t\t\t}).then(function(){\n\t\t\t\t//console.log('sign2: %s', sign2);\n\t\t\t\treturn true;\n\t\t\t}).catch(function(e){\n\t\t\t\tconst err = getError(e);\n\t\t\t\tthrow new Error(err);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\ttry {\n\t\t\t\t\tconst oSignedData = cadesplugin.CreateObject(\"CAdESCOM.CadesSignedData\");\n\t\t\t\t\tif (!attached) {\n\t\t\t\t\t\t// Значение свойства ContentEncoding должно быть задано до заполнения свойства Content\n\t\t\t\t\t\toSignedData.ContentEncoding = cadesplugin.CADESCOM_BASE64_TO_BINARY;\n\t\t\t\t\t\toSignedData.Content = dataBase64;\n\t\t\t\t\t}\n\t\t\t\t\toSignedData.VerifyCades(signBase64, cadesplugin.CADESCOM_CADES_BES, !attached);\n\t\t\t\t\tresolve(true);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tconst err = getError(e);\n\t\t\t\t\tthrow new Error(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Шифрование данных\n\t * @param {string} dataBase64 данные в base64\n\t * @param {string} certThumbprint SHA1 отпечаток сертификата\n\t * @returns {Promise<string>} base64 enveloped data\n\t */\n\tthis.encryptData = function(dataBase64, certThumbprint) {\n\t\tif(canAsync) {\n\t\t\tlet oCertificate, oEnvelop, oRecipients;\n\t\t\treturn getCertificateObject(certThumbprint)\n\t\t\t.then(certificate => {\n\t\t\t\toCertificate = certificate;\n\t\t\t\treturn cadesplugin.CreateObjectAsync(\"CAdESCOM.CPEnvelopedData\");\n\t\t\t})\n\t\t\t.then(envelop => {\n\t\t\t\toEnvelop = envelop;\n\t\t\t\t// Значение свойства ContentEncoding должно быть задано до заполнения свойства Content\n\t\t\t\treturn oEnvelop.propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY);\n\t\t\t})\n\t\t\t.then(() => oEnvelop.propset_Content(dataBase64))\n\t\t\t.then(() => oEnvelop.Recipients)\n\t\t\t.then(recipients => {\n\t\t\t\toRecipients = recipients;\n\t\t\t\treturn oRecipients.Clear();\n\t\t\t})\n\t\t\t.then(() => oRecipients.Add(oCertificate))\n\t\t\t.then(() => oEnvelop.Encrypt())\n\t\t\t.catch(e => {\n\t\t\t\tconst err = getError(e);\n\t\t\t\tthrow new Error(err);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\ttry {\n\t\t\t\t\tconst oCertificate = getCertificateObject(certThumbprint);\n\t\t\t\t\tconst oEnvelop = cadesplugin.CreateObject(\"CAdESCOM.CPEnvelopedData\");\n\t\t\t\t\toEnvelop.ContentEncoding = cadesplugin.CADESCOM_BASE64_TO_BINARY;\n\t\t\t\t\toEnvelop.Content = dataBase64;\n\t\t\t\t\toEnvelop.Recipients.Clear();\n\t\t\t\t\toEnvelop.Recipients.Add(oCertificate);\n\t\t\t\t\tconst encryptedData = oEnvelop.Encrypt();\n\t\t\t\t\tresolve(encryptedData);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tconst err = getError(e);\n\t\t\t\t\tthrow new Error(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Дешифрование данных\n\t * @param {string} dataBase64 данные в base64\n\t * @param {string} certThumbprint SHA1 отпечаток сертификата\n\t * @param {string} pin будет запрошен, если отсутствует\n\t * @returns {Promise<string>} base64\n\t */\n\tthis.decryptData = function(dataBase64, certThumbprint, pin) {\n\t\tif(canAsync) {\n\t\t\tlet oCertificate, oEnvelop, oRecipients;\n\t\t\treturn getCertificateObject(certThumbprint, pin)\n\t\t\t.then(certificate => {\n\t\t\t\toCertificate = certificate;\n\t\t\t\treturn cadesplugin.CreateObjectAsync(\"CAdESCOM.CPEnvelopedData\");\n\t\t\t})\n\t\t\t.then(envelop => {\n\t\t\t\toEnvelop = envelop;\n\t\t\t\t// Значение свойства ContentEncoding должно быть задано до заполнения свойства Content\n\t\t\t\treturn oEnvelop.propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY);\n\t\t\t})\n\t\t\t// .then(() => oEnvelop.propset_Content(dataBase64))\n\t\t\t.then(() => oEnvelop.Recipients)\n\t\t\t.then(recipients => {\n\t\t\t\toRecipients = recipients;\n\t\t\t\treturn oRecipients.Clear();\n\t\t\t})\n\t\t\t.then(() => oRecipients.Add(oCertificate))\n\t\t\t.then(() => oEnvelop.Decrypt(dataBase64))\n\t\t\t.then(() => oEnvelop.Content)\n\t\t\t.catch(e => {\n\t\t\t\tconst err = getError(e);\n\t\t\t\tthrow new Error(err);\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\ttry {\n\t\t\t\t\tconst oCertificate = getCertificateObject(certThumbprint, pin);\n\t\t\t\t\tconst oEnvelop = cadesplugin.CreateObject(\"CAdESCOM.CPEnvelopedData\");\n\t\t\t\t\toEnvelop.ContentEncoding = cadesplugin.CADESCOM_BASE64_TO_BINARY;\n\t\t\t\t\t// oEnvelop.Content = dataBase64;\n\t\t\t\t\toEnvelop.Recipients.Clear();\n\t\t\t\t\toEnvelop.Recipients.Add(oCertificate);\n\t\t\t\t\toEnvelop.Decrypt(dataBase64);\n\t\t\t\t\tresolve(oEnvelop.Content);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tconst err = getError(e);\n\t\t\t\t\tthrow new Error(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tfunction hasContainerStore() {\n\t\t//В версии плагина 2.0.13292+ есть возможность получить сертификаты из\n\t\t//закрытых ключей и не установленных в хранилище\n\t\t// но не смотря на это, все равно приходится собирать список сертификатов\n\t\t// старым и новым способом тк в новом будет отсутствовать часть старого\n\t\t// предположительно ГОСТ-2001 с какими-то определенными Extended Key Usage OID\n\n\t\treturn versionCompare(pluginVersion, '2.0.13292') >= 0;\n\t}\n\n\tfunction fetchCertsFromStore(oStore, skipIds = []) {\n\t\tif (canAsync) {\n\t\t\tlet oCertificates;\n\t\t\treturn oStore.Certificates.then(certificates => {\n\t\t\t\toCertificates = certificates;\n\t\t\t\treturn certificates.Count;\n\t\t\t}).then(count => {\n\t\t\t\tconst certs = [];\n\t\t\t\tfor (let i = 1; i <= count; i++) certs.push(oCertificates.Item(i));\n\t\t\t\treturn Promise.all(certs);\n\t\t\t}).then(certificates => {\n\t\t\t\tconst certs = [];\n\t\t\t\tfor (let i in certificates) certs.push(\n\t\t\t\t\tcertificates[i].SubjectName,\n\t\t\t\t\tcertificates[i].Thumbprint,\n\t\t\t\t\tcertificates[i].ValidFromDate,\n\t\t\t\t\tcertificates[i].ValidToDate\n\t\t\t\t);\n\t\t\t\treturn Promise.all(certs);\n\t\t\t}).then(data => {\n\t\t\t\tconst certs = [];\n\t\t\t\tfor (let i = 0; i < data.length; i += 4) {\n\t\t\t\t\tconst id = data[i + 1];\n\t\t\t\t\tif (skipIds.indexOf(id) + 1) break;\n\t\t\t\t\tconst oDN = string2dn(data[i]);\n\t\t\t\t\tcerts.push({\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tname: formatCertificateName(oDN),\n\t\t\t\t\t\tsubject: oDN,\n\t\t\t\t\t\tvalidFrom: new Date(data[i + 2]),\n\t\t\t\t\t\tvalidTo: new Date(data[i + 3])\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn certs;\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tconst oCertificates = oStore.Certificates;\n\t\t\tconst certs = [];\n\t\t\tfor (let i = 1; i <= oCertificates.Count; i++) {\n\t\t\t\tconst oCertificate = oCertificates.Item(i);\n\t\t\t\tconst id = oCertificate.Thumbprint;\n\t\t\t\tif (skipIds.indexOf(id) + 1) break;\n\t\t\t\tconst oDN = string2dn(oCertificate.SubjectName);\n\t\t\t\tcerts.push({\n\t\t\t\t\tid,\n\t\t\t\t\tname: formatCertificateName(oDN),\n\t\t\t\t\tsubject: oDN,\n\t\t\t\t\tvalidFrom: new Date(oCertificate.ValidFromDate),\n\t\t\t\t\tvalidTo: new Date(oCertificate.ValidToDate)\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn certs;\n\t\t}\n\t}\n\n\tfunction findCertInStore(oStore, certThumbprint) {\n\t\tif(canAsync) {\n\t\t\treturn oStore.Certificates\n\t\t\t\t.then(certificates => certificates.Find(cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH, certThumbprint))\n\t\t\t\t.then(certificates => certificates.Count.then(count => {\n\t\t\t\t\tif (count === 1) {\n\t\t\t\t\t\treturn certificates.Item(1);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t}\n\t\telse {\n\t\t\tconst oCertificates = oStore.Certificates.Find(cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH, certThumbprint);\n\t\t\tif (oCertificates.Count === 1) {\n\t\t\t\treturn oCertificates.Item(1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getCertificateObject(certThumbprint, pin) {\n\t\tif(canAsync) {\n\t\t\tlet oStore, oCertificate;\n\t\t\treturn cadesplugin\n\t\t\t.then(() => cadesplugin.CreateObjectAsync(\"CAPICOM.Store\")) //TODO: CADESCOM.Store ?\n\t\t\t.then(o => {\n\t\t\t\toStore = o;\n\t\t\t\treturn oStore.Open(cadesplugin.CAPICOM_CURRENT_USER_STORE,\n\t\t\t\t\t\t\t\t   cadesplugin.CAPICOM_MY_STORE,\n\t\t\t\t\t\t\t\t   cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED);\n\t\t\t})\n\t\t\t.then(() => findCertInStore(oStore, certThumbprint))\n\t\t\t.then(cert => oStore.Close().then(() => {\n\t\t\t\tif (!cert && hasContainerStore()) return oStore.Open(cadesplugin.CADESCOM_CONTAINER_STORE)\n\t\t\t\t\t.then(() => findCertInStore(oStore, certThumbprint))\n\t\t\t\t\t.then(c => oStore.Close().then(() => c));\n\t\t\t\telse return cert;\n\t\t\t}))\n\t\t\t.then(certificate => {\n\t\t\t\tif(!certificate) {\n\t\t\t\t\tthrow new Error(\"Не обнаружен сертификат c отпечатком \" + certThumbprint);\n\t\t\t\t}\n\t\t\t\treturn oCertificate = certificate;\n\t\t\t})\n\t\t\t.then(() => oCertificate.HasPrivateKey())\n\t\t\t.then(hasKey => {\n\t\t\t\tlet p = Promise.resolve();\n\t\t\t\tif (hasKey && pin) {\n\t\t\t\t\tp = p.then(() => oCertificate.PrivateKey).then(privateKey => Promise.all([\n\t\t\t\t\t\tprivateKey.propset_KeyPin(pin ? pin : ''),\n\t\t\t\t\t\tprivateKey.propset_CachePin(binded)\n\t\t\t\t\t]));\n\t\t\t\t}\n\t\t\t\treturn p;\n\t\t\t})\n\t\t\t.then(() => oCertificate);\n\t\t}\n\t\telse {\n\t\t\tlet oCertificate;\n\t\t\tconst oStore = cadesplugin.CreateObject(\"CAPICOM.Store\");\n\t\t\toStore.Open(cadesplugin.CAPICOM_CURRENT_USER_STORE,\n\t\t\t\t\t\tcadesplugin.CAPICOM_MY_STORE,\n\t\t\t\t\t\tcadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED);\n\t\t\toCertificate = findCertInStore(oStore, certThumbprint);\n\t\t\toStore.Close();\n\n\t\t\tif (!oCertificate && hasContainerStore()) {\n\t\t\t\toStore.Open(cadesplugin.CADESCOM_CONTAINER_STORE);\n\t\t\t\toCertificate = findCertInStore(oStore, certThumbprint);\n\t\t\t\toStore.Close();\n\t\t\t}\n\n\t\t\tif(!oCertificate) {\n\t\t\t\tthrow new Error(\"Не обнаружен сертификат c отпечатком \" + certThumbprint);\n\t\t\t}\n\n\t\t\tif (oCertificate.HasPrivateKey && pin) {\n\t\t\t\toCertificate.PrivateKey.KeyPin = pin ? pin : '';\n\t\t\t\tif(oCertificate.PrivateKey.CachePin !== undefined) {\n\t\t\t\t\t// возможно не поддерживается в ИЕ\n\t\t\t\t\t// https://www.cryptopro.ru/forum2/default.aspx?g=posts&t=10170\n\t\t\t\t\toCertificate.PrivateKey.CachePin = binded;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn oCertificate;\n\t\t}\n\t}\n\n\t/**\n\t * Получить текст ошибки\n\t * @param {Error} e\n\t * @returns {string}\n\t */\n\tfunction getError(e) {\n\t\tconsole.log('Crypto-Pro error', e.message || e);\n\t\tif(e.message) {\n\t\t\tfor(var i in cadesErrorMesages) {\n\t\t\t\tif(cadesErrorMesages.hasOwnProperty(i)) {\n\t\t\t\t\tif(e.message.indexOf(i) + 1) {\n\t\t\t\t\t\te.message = cadesErrorMesages[i];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn e.message || e;\n\t}\n\n\t/**\n\t * Разобрать субъект в объект DN\n\t * @param {string} subjectName\n\t * @returns {DN}\n\t */\n\tfunction string2dn(subjectName) {\n\t\tconst dn = new DN;\n\t\tlet pairs = subjectName.match(/([а-яёА-ЯЁa-zA-Z0-9\\.\\s]+)=(?:(\"[^\"]+?\")|(.+?))(?:,|$)/g);\n\t\tif (pairs) pairs = pairs.map(el => el.replace(/,$/, ''));\n\t\telse pairs = []; //todo: return null?\n\t\tpairs.forEach(pair => {\n\t\t\tconst d = pair.match(/([^=]+)=(.*)/);\n\t\t\tif (d && d.length === 3) {\n\t\t\t\tconst rdn = d[1].trim().replace(/^OID\\./, '');\n\t\t\t\tdn[rdn] = d[2].trim()\n\t\t\t\t\t.replace(/^\"(.*)\"$/, '$1')\n\t\t\t\t\t.replace(/\"\"/g, '\"');\n\t\t\t}\n\t\t});\n\t\treturn convertDN(dn);\n\t}\n\n\t/**\n\t * Собрать DN в строку пригодную для CX500DistinguishedName.Encode\n\t * @see https://docs.microsoft.com/en-us/windows/win32/api/certenroll/nf-certenroll-ix500distinguishedname-encode\n\t * @see https://www.cryptopro.ru/sites/default/files/products/cades/demopage/async_code.js\n\t * @see https://testgost2012.cryptopro.ru/certsrv/async_code.js\n\t * @param {DN} dn\n\t * @returns {string}\n\t */\n\tfunction dnToX500DistinguishedName(dn) {\n\t\tlet ret = '';\n\t\tfor (let i in dn) {\n\t\t\tif (dn.hasOwnProperty(i)) {\n\t\t\t\tret += i + '=\"' + dn[i].replace(/\"/g, '\"\"') + '\", ';\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\t}\n\n\t/**\n\t * Получить название сертификата\n\t * @param {DN} o объект, включающий в себя значения субъекта сертификата\n\t * @see convertDN\n\t * @returns {String}\n\t */\n\tfunction formatCertificateName(o) {\n\t\treturn '' + o['CN']\n\t\t\t+ (o['INNLE'] ? '; ИНН ЮЛ ' + o['INNLE'] : '')\n\t\t\t+ (o['INN'] ? '; ИНН ' + o['INN'] : '')\n\t\t\t+ (o['SNILS'] ? '; СНИЛС ' + o['SNILS'] : '');\n\t}\n\n\t/**\n\t * https://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array/28227607#28227607\n\t * @param {string} str\n\t * @returns {Array}\n\t */\n\tfunction stringToUtf8ByteArray(str) {\n\t\t// TODO(user): Use native implementations if/when available\n\t\tvar out = [], p = 0;\n\t\tfor (var i = 0; i < str.length; i++) {\n\t\t\tvar c = str.charCodeAt(i);\n\t\t\tif (c < 128) {\n\t\t\t\tout[p++] = c;\n\t\t\t}\n\t\t\telse if (c < 2048) {\n\t\t\t\tout[p++] = (c >> 6) | 192;\n\t\t\t\tout[p++] = (c & 63) | 128;\n\t\t\t}\n\t\t\telse if (\n\t\t\t\t\t((c & 0xFC00) == 0xD800) && (i + 1) < str.length &&\n\t\t\t\t\t((str.charCodeAt(i + 1) & 0xFC00) == 0xDC00)) {\n\t\t\t\t// Surrogate Pair\n\t\t\t\tc = 0x10000 + ((c & 0x03FF) << 10) + (str.charCodeAt(++i) & 0x03FF);\n\t\t\t\tout[p++] = (c >> 18) | 240;\n\t\t\t\tout[p++] = ((c >> 12) & 63) | 128;\n\t\t\t\tout[p++] = ((c >> 6) & 63) | 128;\n\t\t\t\tout[p++] = (c & 63) | 128;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tout[p++] = (c >> 12) | 224;\n\t\t\t\tout[p++] = ((c >> 6) & 63) | 128;\n\t\t\t\tout[p++] = (c & 63) | 128;\n\t\t\t}\n\t\t}\n\t\treturn out;\n\t}\n}\n\nexport default CryptoPro;\n","export default {\n    ALREADY_LOGGED_IN: 'Пользователь уже авторизован',\n    ASN1_ERROR: 'Ошибка разбора структуры ASN1',\n    BAD_PARAMS: 'Неправильные параметры',\n    BASE64_DECODE_FAILED: 'Ошибка декодирования из base64',\n    CA_CERTIFICATES_NOT_FOUND: 'Корневые сертификаты отсутствуют',\n    CANNOT_SAVE_PIN_IN_CACHE: 'Невозможно сохранить PIN-код',\n    CANT_HARDWARE_VERIFY_CMS: 'Проверка множественной подписи с вычислением хеша на устройстве не поддерживается',\n    CEK_NOT_AUTHENTIC: 'Контейнер в формате CMS поврежден или переданный ключ не является ключом получателя',\n    CERTIFICATE_CATEGORY_BAD: 'Некорректная категория сертификата',\n    CERTIFICATE_EXISTS: 'Сертификат с таким телом уже существует на устройстве',\n    CERTIFICATE_HASH_NOT_UNIQUE: 'Идентификатор сертификата не уникален',\n    CERTIFICATE_NOT_FOUND: 'Сертификат не найден на устройстве',\n    CERTIFICATE_VERIFICATION_ERROR: 'Ошибка проверки сертификата',\n    DATA_INVALID: 'Неверные данные',\n    DEVICE_ERROR: 'Ошибка устройства.',\n    DEVICE_NOT_FOUND: 'Устройство не найдено',\n    FUNCTION_FAILED: 'Невозможно выполнить операцию',\n    FUNCTION_REJECTED: 'Операция отклонена пользователем',\n    KEY_FUNCTION_NOT_PERMITTED: 'Операция запрещена для данного типа ключа',\n    KEY_ID_NOT_UNIQUE: 'Идентификатор ключевой пары не уникален',\n    KEY_LABEL_NOT_UNIQUE: 'Метка ключевой пары не уникальна',\n    KEY_NOT_FOUND: 'Не найдена соответствующая ключевая пара.',\n    LICENCE_READ_ONLY: 'Лицензия доступна только для чтения',\n    NOT_ENOUGH_MEMORY: 'Недостаточно памяти',\n    PEM_ERROR: 'Ошибка декодирования PEM',\n    PIN_CHANGED: 'PIN-код был изменен извне',\n    PIN_INCORRECT: 'Введен неправильный PIN-код',\n    PIN_INVALID: 'PIN-код содержит недопустимые символы',\n    PIN_LENGTH_INVALID: 'Введен слишком короткий PIN-код',\n    PIN_LOCKED: 'PIN-код заблокирован',\n    PKCS11_LOAD_FAILED: 'Не удалось загрузить модуль PKCS#11',\n    SESSION_INVALID: 'Текущая сессия устарела',\n    TOKEN_INVALID: 'Ошибка чтения/записи устройства.',\n    UNSUPPORTED_BY_TOKEN: 'Операция не поддерживается токеном',\n    USER_NOT_LOGGED_IN: 'Пользователь не авторизован',\n    USER_PIN_NOT_INITIALIZED: 'PIN-код пользователя не инициализирован',\n    WRONG_KEY_TYPE: 'Неправильный тип ключа',\n    X509_AKID_ISSUER_SERIAL_MISMATCH: 'Несовпадение серийного номера субьекта и доверенного центра',\n    X509_AKID_SKID_MISMATCH: 'Несовпадение идентификатора ключа у субьекта и доверенного центра',\n    X509_APPLICATION_VERIFICATION: 'Ошибка проверки приложения',\n    X509_CERT_CHAIN_TOO_LONG: 'Слишком длинная цепочка сертификатов',\n    X509_CERT_HAS_EXPIRED: 'Срок действия сертификата истек',\n    X509_CERT_NOT_YET_VALID: 'Срок действия сертификата еще не начался',\n    X509_CERT_REJECTED: 'Сертифкат отклонен',\n    X509_CERT_REVOKED: 'Сертификат отозван',\n    X509_CERT_SIGNATURE_FAILURE: 'Неверная подпись сертификата',\n    X509_CERT_UNTRUSTED: 'Недоверенный сертификат',\n    X509_CRL_HAS_EXPIRED: 'Срок действия CRL истек',\n    X509_CRL_NOT_YET_VALID: 'Срок действия CRL еще не начался',\n    X509_CRL_PATH_VALIDATION_ERROR: 'Неправильный путь CRL',\n    X509_CRL_SIGNATURE_FAILURE: 'Неверная подпись CRL',\n    X509_DEPTH_ZERO_SELF_SIGNED_CERT: 'Недоверенный самоподписанный сертификат',\n    X509_DIFFERENT_CRL_SCOPE: 'Другая область CRL',\n    X509_ERROR_IN_CERT_NOT_AFTER_FIELD: 'Некорректные данные в поле \"notAfter\" у сертификата',\n    X509_ERROR_IN_CERT_NOT_BEFORE_FIELD: 'Некорректные данные в поле \"notBefore\" у сертификата',\n    X509_ERROR_IN_CRL_LAST_UPDATE_FIELD: 'Некорректные данные в поле \"lastUpdate\" у CRL',\n    X509_ERROR_IN_CRL_NEXT_UPDATE_FIELD: 'Некорректные данные в поле \"nextUpdate\" у CRL',\n    X509_EXCLUDED_VIOLATION: 'Неправильная структура сертфиката',\n    X509_INVALID_CA: 'Неверный корневой сертификат',\n    X509_INVALID_EXTENSION: 'Неверное или некорректное расширение сертификата',\n    X509_INVALID_NON_CA: 'Неверный некорневой сертфикат, помеченный как корневой',\n    X509_INVALID_POLICY_EXTENSION: 'Неверное или некорректное расширение политик сертификата',\n    X509_INVALID_PURPOSE: 'Неподдерживаемое назначение сертификата',\n    X509_KEYUSAGE_NO_CERTSIGN: 'Ключ не может быть использован для подписи сертификатов',\n    X509_KEYUSAGE_NO_CRL_SIGN: 'Ключ не может быть использован для подписи CRL',\n    X509_KEYUSAGE_NO_DIGITAL_SIGNATURE: 'Ключ не может быть использован для цифровой подписи',\n    X509_NO_EXPLICIT_POLICY: 'Явные политики отсутствуют',\n    X509_OUT_OF_MEM: 'Нехватает памяти',\n    X509_PATH_LENGTH_EXCEEDED: 'Превышена длина пути',\n    X509_PERMITTED_VIOLATION: 'Неправильная структура сертифката',\n    X509_PROXY_CERTIFICATES_NOT_ALLOWED: 'Проксирующие сертификаты недопустимы',\n    X509_PROXY_PATH_LENGTH_EXCEEDED: 'Превышина длина пути прокси',\n    X509_SELF_SIGNED_CERT_IN_CHAIN: 'В цепочке обнаружен недоверенный самоподписанный сертификат',\n    X509_SUBJECT_ISSUER_MISMATCH: 'Несовпадения субьекта и эмитента',\n    X509_SUBTREE_MINMAX: 'Неправильная структура сертифката',\n    X509_UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY: 'Невозможно раскодировать открытый ключ эмитента',\n    X509_UNABLE_TO_DECRYPT_CERT_SIGNATURE: 'Невозможно расшифровать подпись сертификата',\n    X509_UNABLE_TO_DECRYPT_CRL_SIGNATURE: 'Невозможно расшифровать подпись CRL',\n    X509_UNABLE_TO_GET_CRL: 'Невозможно получить CRL',\n    X509_UNABLE_TO_GET_CRL_ISSUER: 'Невозможно получить CRL подписанта',\n    X509_UNABLE_TO_GET_ISSUER_CERT: 'Невозможно получить сертификат подписанта',\n    X509_UNABLE_TO_GET_ISSUER_CERT_LOCALLY: 'Невозможно получить локальный сертификат подписанта',\n    X509_UNABLE_TO_VERIFY_LEAF_SIGNATURE: 'Невозможно проверить первый сертификат',\n    X509_UNHANDLED_CRITICAL_CRL_EXTENSION: 'Неподдерживаемое расширение CRL',\n    X509_UNHANDLED_CRITICAL_EXTENSION: 'Неподдерживаемое расширение',\n    X509_UNNESTED_RESOURCE: 'RFC 3779 неправильное наследование ресурсов',\n    X509_UNSUPPORTED_CONSTRAINT_SYNTAX: 'Неправильная структура сертифката',\n    X509_UNSUPPORTED_CONSTRAINT_TYPE: 'Неправильная структура сертфиката',\n    X509_UNSUPPORTED_EXTENSION_FEATURE: 'Неподдерживаемое расширение возможностей',\n    X509_UNSUPPORTED_NAME_SYNTAX: 'Неправильная структура сертфиката'\n};","/**\n * RuToken simplified library\n * @author Aleksandr.ru\n * @link http://aleksandr.ru\n */\n\nimport rutoken from 'rutoken';\nimport DN from '../DN';\nimport errors from './errors';\nimport { convertDN, stripDnQuotes } from '../helpers';\n\nconst requiredFunctions = [\n\t'cmsDecrypt',\n\t'cmsEncrypt',\n\t'createPkcs10',\n\t'deleteCertificate',\n\t'deleteKeyPair',\n\t'enumerateCertificates',\n\t'enumerateDevices',\n\t'enumerateKeys',\n\t'generateKeyPair',\n\t'getCertificate',\n\t'getCertificateInfo',\n\t'getDeviceInfo',\n\t'getDeviceModel',\n\t'getDeviceType',\n\t'getKeyByCertificate',\n\t'importCertificate',\n\t'login',\n\t'logout',\n\t'parseCertificate',\n\t'sign',\n\t'verify'\n];\n\nfunction RuToken() {\n\tvar plugin, deviceId;\n\n\t/**\n\t * Инициализация и проверка наличия требуемых возможностей\n\t * @returns {Promise<{version: string; serial: string; reader: string; label: string; type: string; model: string;}>} версия, информация о токене\n\t */\n\tthis.init = function(){\n\t\treturn rutoken.ready.then( _ => {\n\t\t\tif (window.chrome) {\n\t\t\t\treturn rutoken.isExtensionInstalled();\n\t\t\t} else {\n\t\t\t\treturn Promise.resolve(true);\n\t\t\t}\n\t\t}).then(result => {\n\t\t\tif (result) {\n\t\t\t\treturn rutoken.isPluginInstalled();\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Rutoken Extension wasn't found\");\n\t\t\t}\n\t\t}).then(result => {\n\t\t\tif (result) {\n\t\t\t\treturn rutoken.loadPlugin();\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Rutoken Plugin wasn't found\");\n\t\t\t}\n\t\t}).then(result => {\n\t\t\tconst absentFn = requiredFunctions.filter(fn => !result[fn]);\n\t\t\tif (absentFn.length) {\n\t\t\t\tconsole.log('Missing plugin functions: ', absentFn);\n\t\t\t\tthrow new Error(\"Отсутствует функционал, убедитесь, что у вас установлен Рутокен Плагин и вы используете Рутокен ЭЦП 2.0\");\n\t\t\t}\n\t\t\t//Можно начинать работать с плагином\n\t\t\tplugin = result;\n\t\t\treturn plugin.enumerateDevices();\n\t\t}).then(devices => {\n\t\t\tconst len = devices.length;\n\t\t\tif (len === 1) {\n\t\t\t\tdeviceId = devices.shift();\n\t\t\t}\n\t\t\telse if(len === 0) {\n\t\t\t\tthrow new Error(\"Не обнаружено подключенных устройств\");\n\t\t\t}\n\t\t\telse if(len > 1) {\n\t\t\t\tthrow new Error('Подключено ' + len + ' устройств');\n\t\t\t}\n\t\t\treturn Promise.all([\n\t\t\t\tplugin.getDeviceInfo(deviceId, plugin.TOKEN_INFO_READER), // имя считывателя \n\t\t\t\tplugin.getDeviceInfo(deviceId, plugin.TOKEN_INFO_LABEL), // метка токена \t\t\t\t\t\n\t\t\t\tplugin.getDeviceInfo(deviceId, plugin.TOKEN_INFO_SERIAL), // серийный номер токена\n\t\t\t\tplugin.getDeviceModel(deviceId),\n\t\t\t\tplugin.getDeviceType(deviceId)\n\t\t\t]);\n\t\t}).then(infos => {\n\t\t\treturn {\n\t\t\t\tversion: plugin.version,\n\t\t\t\tserial: infos[2],\n\t\t\t\treader: infos[0],\n\t\t\t\tlabel: infos[1].indexOf('Rutoken ECP <no label>') + 1 ? '' : infos[1],\n\t\t\t\ttype: infos[4],\n\t\t\t\tmodel: infos[3]\n\t\t\t};\n\t\t}).then(null, e => {\n\t\t\tconst err = getError(e);\n\t\t\tthrow new Error(err);\n\t\t});\n\t};\n\n\t/**\n\t * Авторизация на токене с пин-кодом юзера\n\t * @param {string} userPin если нет, то предлгает ввести пин через prompt\n\t * @returns {Promise<boolean>}\n\t */\n\tthis.bind = function(userPin) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tplugin.getDeviceInfo(deviceId, plugin.TOKEN_INFO_IS_LOGGED_IN).then(result => {\n\t\t\t\tif(result) {\n\t\t\t\t\tresolve('Пользователь уже авторизован');\n\t\t\t\t\treturn false; // no need to log in\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (!userPin) {\n\t\t\t\t\t\tuserPin = prompt('PIN-код доступа к устройству');\n\t\t\t\t\t\tif (!userPin) throw new Error('Авторизация на устройстве отменена пользователем');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true; // need to log in \n\t\t\t}).then(needToLogIn => {\n\t\t\t\tif (needToLogIn) {\n\t\t\t\t\treturn plugin.login(deviceId, userPin).then( _ => {\n\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tresolve(true);\n\t\t\t\t}\n\t\t\t}).then(null, e => {\n\t\t\t\tconst err = getError(e);\n\t\t\t\treject(err);\n\t\t\t});\n\t\t});\n\t};\n\n\t/**\n\t * Отменить предъявление PIN-кода. Необходимо вызывать при завершении сеанса работы\n\t * @returns {Promise<boolean>}\n\t */\n\tthis.unbind = function() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tplugin.getDeviceInfo(deviceId, plugin.TOKEN_INFO_IS_LOGGED_IN).then(result => {\n\t\t\t\tif(!result) {\n\t\t\t\t\tresolve('Пользователь не авторизован');\n\t\t\t\t\treturn false; // no need to log out\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn true; // need to log out \n\t\t\t\t}\n\t\t\t}).then(needToLogOut => {\n\t\t\t\tif (needToLogOut) {\n\t\t\t\t\treturn plugin.logout(deviceId).then( _ => {\n\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}).then(null, e => {\n\t\t\t\tconst err = getError(e);\n\t\t\t\treject(err);\n\t\t\t});\n\t\t});\n\t};\n\n\t/**\n\t * Очистка токена (удаление всех сертификатов и ключей)\n\t * @returns {Promise<number>} количество удаленных элементов\n\t */\n\tthis.clean = function(){\n\t\tlet count = 0;\n\t\treturn plugin.enumerateCertificates(deviceId, plugin.CERT_CATEGORY_USER).then(results => {\n\t\t\tlet promises = [];\n\t\t\tfor (let i in results) {\n\t\t\t\tconst certId = results[i];\n\t\t\t\tpromises.push(plugin.deleteCertificate(deviceId, certId));\n\t\t\t}\n\t\t\tcount += promises.length;\n\t\t\treturn Promise.all(promises);\n\t\t}).then(() => {\n\t\t\tconst marker = ''; // Идентификатор группы ключей, \"\" - все ключи\n\t\t\treturn plugin.enumerateKeys(deviceId, marker);\n\t\t}).then(results => {\n\t\t\tlet promises = [];\n\t\t\tfor (let i in results) {\n\t\t\t\tconst keyId = results[i];\n\t\t\t\tpromises.push(plugin.deleteKeyPair(deviceId, keyId));\n\t\t\t}\n\t\t\tcount += promises.length;\n\t\t\treturn Promise.all(promises);\n\t\t}).then(() => {\n\t\t\treturn count;\n\t\t}).then(null, e => {\n\t\t\tconst err = getError(e);\n\t\t\tthrow new Error(err);\n\t\t});\n\t};\n\n\t/**\n\t * Создать запрос на сертификат\n\t * @param {DN} dn\n\t * @param {string[]} extKeyUsage массив OID Extended Key Usage, по-умолчанию Аутентификация клиента '1.3.6.1.5.5.7.3.2' + Защищенная электронная почта '1.3.6.1.5.5.7.3.4'\n\t * @param {object} [options]\n\t * @param {string} [options.marker] Идентификатор группы ключей\n\t * @param {string} [options.algorithm] Алгоритм \"PUBLIC_KEY_ALGORITHM_GOST3410_2012_256\" (по-умолчанию) или \"PUBLIC_KEY_ALGORITHM_GOST3410_2001\".\n\t * @returns {Promise<{ csr: string; keyPairId: string; }>} объект с полями { csr: 'base64 запрос на сертификат', keyPairId }\n\t * @see DN\n\t */\n\tthis.generateCSR = function(dn, extKeyUsage, options) {\n\t\tif (!extKeyUsage || !extKeyUsage.length) extKeyUsage = [\n\t\t\t'clientAuth', // 1.3.6.1.5.5.7.3.2', // Аутентификация клиента\n\t\t\t'emailProtection', // '1.3.6.1.5.5.7.3.4' // Защищенная электронная почта\n\t\t];\n\t\tif (!options) options = {};\n\t\tconst marker = options.marker || '';\n\t\tconst publicKeyAlgorithm = options.algorithm && plugin[options.algorithm] || plugin.PUBLIC_KEY_ALGORITHM_GOST3410_2012_256;\n\t\tlet paramset = 'XA';\n\t\tlet hashAlgorithm = plugin.HASH_TYPE_GOST3411_94;\n\t\tif (publicKeyAlgorithm === plugin.PUBLIC_KEY_ALGORITHM_GOST3410_2012_512) {\n\t\t\tparamset = 'A';\n\t\t\thashAlgorithm = plugin.HASH_TYPE_GOST3411_12_512;\n\t\t} \n\t\telse if (publicKeyAlgorithm === plugin.PUBLIC_KEY_ALGORITHM_GOST3410_2012_256) {\n\t\t\thashAlgorithm = plugin.HASH_TYPE_GOST3411_12_256;\n\t\t}\n\t\tconst reserved = undefined;\n\t\tconst keyPairOptions = {\n\t\t\tpublicKeyAlgorithm,\n\t\t\tparamset\n\t\t};\n\t\tlet keyId = '';\n\n\t\treturn plugin.generateKeyPair(deviceId, reserved, marker, keyPairOptions).then(result => {\n\t\t\tkeyId = result;\n\t\t\tlet subject = [];\n\t\t\tfor (let i in dn) if(dn.hasOwnProperty(i)) {\n\t\t\t\tsubject.push({\n\t\t\t\t\trdn: i,\n\t\t\t\t\tvalue: dn[i]\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst keyUsage = [\n\t\t\t\t\"digitalSignature\"\n\t\t\t\t,\"nonRepudiation\"\n\t\t\t\t,\"keyEncipherment\"\n\t\t\t\t,\"dataEncipherment\"\n\t\t\t];\n\t\t\tconst extensions = {\n\t\t\t\tkeyUsage,\n\t\t\t\textKeyUsage\n\t\t\t};\n\t\t\tconst subjectSignTool = 'СКЗИ \"РУТОКЕН ЭЦП\"';\n\t\t\tconst options = {\n\t\t\t\tsubjectSignTool,\n\t\t\t\thashAlgorithm\n\t\t\t};\n\t\t\treturn plugin.createPkcs10(deviceId, keyId, subject, extensions, options);\n\t\t}).then(result => {\n\t\t\treturn {\n\t\t\t\tcsr: cleanPemString(result),\n\t\t\t\tkeyPairId: keyId\n\t\t\t};\n\t\t}).then(null, e => {\n\t\t\tif(keyId) {\n\t\t\t\tplugin.deleteKeyPair(deviceId, keyId);\n\t\t\t}\n\t\t\tconst err = getError(e);\n\t\t\tthrow new Error(err);\n\t\t});\n\t};\n\n\t/**\n\t * Записать сертификат на токен\n\t * @param {string} certificate base64(массив байт со значением сертификата в формате DER)\n\t * @returns {Promise<string>} Идентификатор сертификата (hex)\n\t */\n\tthis.writeCertificate = function(certificate){\n\t\tconst category = plugin.CERT_CATEGORY_USER;\n\t\treturn plugin.importCertificate(deviceId, certificate, category).then(null, e => {\n\t\t\tconst err = getError(e);\n\t\t\tthrow new Error(err);\n\t\t});\n\t};\n\n\t/**\n\t * Получение информации о сертификате.\n\t * @param {string} certId идентификатор сертификата\n\t * @param {object} [options] не используется\n\t * @returns {Promise<Object>}\n\t */\n\tthis.certificateInfo = function(certId, options){\n\t\tif (!options) options = {};\n\t\tlet hasPrivateKey = false;\n\t\tlet serialNumber = '';\n\t\treturn new Promise(resolve => {\n\t\t\tplugin.getKeyByCertificate(deviceId, certId).then(keyId => {\n\t\t\t\tresolve(!!keyId);\n\t\t\t}).then(null, e => {\n\t\t\t\tconst err = getError(e);\n\t\t\t\tconsole.log('getKeyByCertificate', certId, err);\n\t\t\t\tresolve(false);\n\t\t\t});\n\t\t}).then(result => {\n\t\t\thasPrivateKey = result;\n\t\t\treturn plugin.getCertificateInfo(deviceId, certId, plugin.CERT_INFO_SERIAL_NUMBER);\n\t\t}).then(result => {\n\t\t\tserialNumber = result;\n\t\t\treturn plugin.parseCertificate(deviceId, certId);\n\t\t}).then(o => {\n\t\t\tconst ver = o.text.match(/Version: (\\d+)/);\n\t\t\tconst version = ver.length > 1 ? ver[1] : undefined;\n\t\t\tconst algo = o.text.match(/Public Key Algorithm: (.+)$/m);\n\t\t\tconst keyAlgorithm = algo.length > 1 ? algo[1] : '';\n\t\t\tconst dn = makeDN(o.subject);\n\t\t\tconst dnI = makeDN(o.issuer);\n\t\t\tconst dt = new Date();\n\t\t\tconst info = {\n\t\t\t\tName: dn.commonName || dn.CN,\n\t\t\t\tIssuer: dnI,\n\t\t\t\tIssuerName: stripDnQuotes(dnI.toString()),\n\t\t\t\tSubject: dn,\n\t\t\t\tSubjectName: stripDnQuotes(dn.toString()),\n\t\t\t\tVersion: version,\n\t\t\t\tAlgorithm: keyAlgorithm,\n\t\t\t\tSerialNumber: serialNumber,\n\t\t\t\tThumbprint: certId.replace(/\\:/g, ''),\n\t\t\t\tValidFromDate: new Date(o.validNotBefore),\n\t\t\t\tValidToDate: new Date(o.validNotAfter),\n\t\t\t\tHasPrivateKey: hasPrivateKey,\n\t\t\t\tIsValid: dt >= new Date(o.validNotBefore) && dt <= new Date(o.validNotAfter),\n\t\t\t\t//ProviderName: '', //TODO\n\t\t\t\t//ProviderType: undefined, //TODO\n\t\t\t\ttoString: function(){\n\t\t\t\t\treturn 'Название:              ' + this.Name +\n\t\t\t\t\t\t'\\nИздатель:              ' + this.IssuerName +\n\t\t\t\t\t\t'\\nСубъект:               ' + this.SubjectName +\n\t\t\t\t\t\t'\\nВерсия:                ' + this.Version +\n\t\t\t\t\t\t'\\nАлгоритм:              ' + this.Algorithm + // PublicKey Algorithm\n\t\t\t\t\t\t'\\nСерийный №:            ' + this.SerialNumber +\n\t\t\t\t\t\t'\\nОтпечаток SHA1:        ' + this.Thumbprint +\n\t\t\t\t\t\t'\\nНе действителен до:    ' + this.ValidFromDate +\n\t\t\t\t\t\t'\\nНе действителен после: ' + this.ValidToDate +\n\t\t\t\t\t\t'\\nПриватный ключ:        ' + (this.HasPrivateKey ? 'Есть' : 'Нет (или не выполнен вход)') +\n\t\t\t\t\t\t'\\nВалидный:              ' + (this.IsValid ? 'Да' : 'Нет');\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn info;\n\t\t}).then(null, e => {\n\t\t\tconst err = getError(e);\n\t\t\tthrow new Error(err);\n\t\t});\n\t};\n\n\t/**\n\t * Получение массива доступных сертификатов\n\t * @returns {Promise<{id: string; name: string; subject: DN; validFrom: Date; validTo: Date;}[]>} [{id, name, subject, validFrom, validTo}, ...]\n\t */\n\tthis.listCertificates = function(){\n\t\tlet certIds = [];\n\t\tlet certs = [];\n\t\treturn plugin.enumerateCertificates(deviceId, plugin.CERT_CATEGORY_USER).then(results => {\n\t\t\tcertIds = results;\n\t\t\tlet promises = [];\n\t\t\tfor (let i in certIds) {\n\t\t\t\tpromises.push(plugin.parseCertificate(deviceId, certIds[i]));\n\t\t\t}\n\t\t\treturn Promise.all(promises);\n\t\t}).then(results => {\n\t\t\tfor (let i in certIds) if (results[i]) {\n\t\t\t\tconst dn = makeDN(results[i].subject);\n\t\t\t\tcerts.push({\n\t\t\t\t\tid: certIds[i],\n\t\t\t\t\tname: formatCertificateName(dn),\n\t\t\t\t\tsubject: dn,\n\t\t\t\t\tvalidFrom: new Date(results[i].validNotBefore),\n\t\t\t\t\tvalidTo: new Date(results[i].validNotAfter)\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn certs;\n\t\t}).then(null, e => {\n\t\t\tconst err = getError(e);\n\t\t\tthrow new Error(err);\n\t\t});\n\t};\n\t\n\t/**\n\t * Получить сертификат\n\t * @param {string} certId \n\t * @returns {Promise<string>} base64(массив байт со значением сертификата в формате DER)\n\t */\n\tthis.readCertificate = function(certId){\n\t\treturn plugin.getCertificate(deviceId, certId).then(result => {\n\t\t\treturn cleanPemString(result);\n\t\t}).then(null, e => {\n\t\t\tconst err = getError(e);\n\t\t\tthrow new Error(err);\n\t\t});\n\t};\n\n\t/**\n\t * Подписать данные. Выдает подпись в формате PKCS#7, опционально закодированную в Base64\n\t * @param {string} dataBase64 данные для подписи закодированные в base64\n\t * @param {string} certId идентификатор сертификата\n\t * @param {object} [options]\n\t * @param {boolean} [options.attached] присоединенная подпись\n\t * @returns {Promise<string>} строка-подпись в формате PKCS#7, закодированная в Base64.\n\t */\n\tthis.signData = function(dataBase64, certId, options){\n\t\tif (!options) options = {};\n\t\tconst { attached } = options;\n\t\treturn plugin.sign(deviceId, certId, dataBase64, plugin.DATA_FORMAT_BASE64, {\n\t\t\tdetached: !attached\n\t\t}).then(null, e => {\n\t\t\tconst err = getError(e);\n\t\t\tthrow new Error(err);\n\t\t});\n\t};\n\n\t/**\n\t * Добавить подпись к существующей.\n\t * @param {string} dataBase64 игнорируется если прикрепленная подпись\n\t * @param {string} signBase64 существующая подпись\n\t * @param {string} certId идентификатор сертификата\n\t * @param {object} [options]\n\t * @param {boolean} [options.attached] присоединенная подпись\n\t * @returns {Promise<string>} base64\n\t */\n\tthis.addSign = function(dataBase64, signBase64, certId, options){\n\t\tif (!options) options = {};\n\t\tconst { attached } = options;\n\t\tif (attached) {\n\t\t\t// если в CMS подпись неотсоединённая, то параметр data должен быть пустым\n\t\t\tdataBase64 = '';\n\t\t}\n\t\treturn plugin.sign(deviceId, certId, dataBase64, plugin.DATA_FORMAT_BASE64, {\n\t\t\tdetached: !attached,\n\t\t\tCMS: signBase64\n\t\t}).then(null, e => {\n\t\t\tconst err = getError(e);\n\t\t\tthrow new Error(err);\n\t\t});\n\t};\n\n\t/**\n\t * Проверить подпись.\n\t * @param {string} dataBase64 игнорируется если прикрепленная подпись\n\t * @param {string} signBase64 существующая подпись\n\t * @param {object} [options]\n\t * @param {boolean} [options.attached] присоединенная подпись\n\t * @returns {Promise<boolean>} true или reject\n\t */\n\tthis.verifySign = function(dataBase64, signBase64, options){\n\t\tif (!options) options = {};\n\t\tconst { attached } = options;\n\t\tconst args = {\n\t\t\tbase64: true,\n\t\t\tverifyCertificate: false\n\t\t};\n\t\tif (!attached) {\n\t\t\targs.data = dataBase64;\n\t\t}\n\t\treturn plugin.verify(deviceId, signBase64, args).then(result => {\n\t\t\tif (!result) {\n\t\t\t\t// потмоу что в крипто-про тоже так\n\t\t\t\tthrow new Error('подпись не верна');\n\t\t\t}\n\t\t\treturn true;\n\t\t}).then(null, e => {\n\t\t\tconst err = getError(e);\n\t\t\tthrow new Error(err);\n\t\t});\n\t};\n\n\t/**\n\t * Шифрование данных\n\t * @param {string} dataBase64 данные в base64\n\t * @param {string} certId идентификатор сертификата\n\t * @returns {Promise<string>} base64 enveloped data\n\t */\n\tthis.encryptData = function(dataBase64, certId) {\n\t\treturn plugin.getCertificate(deviceId, certId)\n\t\t.then(cert => plugin.cmsEncrypt(deviceId, \"\", [cert], dataBase64, {\n\t\t\tbase64: true\n\t\t}))\n\t\t.then(null, e => {\n\t\t\tconst err = getError(e);\n\t\t\tthrow new Error(err);\n\t\t});\n\t};\n\n\t/**\n\t * Дешифрование данных\n\t * @param {string} dataBase64 данные в base64\n\t * @param {string} certId идентификатор сертификата\n\t * @returns {Promise<string>} base64\n\t */\n\tthis.decryptData = function(dataBase64, certId) {\n\t\treturn plugin.getKeyByCertificate(deviceId, certId)\n\t\t.then(keyId => plugin.cmsDecrypt(deviceId, keyId, dataBase64, {\n\t\t\tbase64: true\n\t\t}))\n\t\t.then(null, e => {\n\t\t\tconst err = getError(e);\n\t\t\tthrow new Error(err);\n\t\t});\n\t};\n\n\t/**\n\t * Получить ошибку по коду\n\t * @param {string|Error} e код ошибки или объект\n\t * @returns {string} текст ошибки\n\t */\n\tfunction getError(e) {\n\t\tconst ee = e.message && e.message.match(/^[0-9]+$/) && e.message || e;\n\t\tlet mnemo = '';\n\t\tif (plugin) for(let i in plugin.errorCodes) {\n\t\t\tif (plugin.errorCodes[i] == ee) {\n\t\t\t\tmnemo = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn mnemo && errors[mnemo] || mnemo || e.message || e;\n\t}\n\n\t/**\n\t * Создать DN из массива [{rdn: ..., value: ...}, ...]\n\t * @param {[index: number]: { rdn: string, value: string }} obj \n\t * @returns {DN}\n\t */\n\tfunction makeDN(obj)\n\t{\n\t\tvar dn = new DN;\n\t\tfor(var i in obj) {\n\t\t\tvar rdn = obj[i].rdn;\n\t\t\tvar val = obj[i].value;\n\t\t\tif (rdn && val) {\n\t\t\t\tdn[rdn] = val;\n\t\t\t}\n\t\t}\n\t\treturn convertDN(dn);\n\t}\n\n\t/**\n\t * Получить название сертификата\n\t * @param {DN} o объект, включающий в себя значения субъекта сертификата.\n\t * @returns {string} \n\t */\n\tfunction formatCertificateName(o)\n\t{\n\t\treturn '' + o['CN']\n\t\t\t+ (o['INNLE'] ? '; ИНН ЮЛ ' + o['INNLE'] : '')\n\t\t\t+ (o['INN'] ? '; ИНН ' + o['INN'] : '')\n\t\t\t+ (o['SNILS'] ? '; СНИЛС ' + o['SNILS'] : '');\n\t}\n\n\t/**\n\t * Убирает все лишнее из PEM, кроме непрерывного base64 \n\t * @param {String} pem \n\t * @returns {String}\n\t */\n\tfunction cleanPemString(pem) {\n\t\treturn pem.replace(/^-+(BEGIN|END)[^-]+-+$/gm, '').trim();\n\t}\n}\n\nexport default RuToken;\n"],"names":["root","factory","exports","module","define","amd","self","this","exec","e","v","toInteger","max","Math","min","index","length","Typed","global","hide","uid","TYPED","VIEW","ABV","ArrayBuffer","DataView","CONSTR","i","TypedArrayConstructors","split","prototype","isRegExp","anObject","speciesConstructor","advanceStringIndex","toLength","callRegExpExec","regexpExec","fails","$min","$push","push","$SPLIT","LENGTH","LAST_INDEX","MAX_UINT32","SUPPORTS_Y","RegExp","defined","SPLIT","$split","maybeCallNative","internalSplit","separator","limit","string","String","undefined","call","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","splitLimit","separatorCopy","source","slice","apply","test","O","splitter","regexp","res","done","value","rx","S","C","unicodeMatching","lim","p","q","A","z","rutoken","n","t","arguments","r","ready","Promise","resolve","isExtensionInstalled","isPluginInstalled","loadPlugin","l","window","rutokenLoaded","s","document","createElement","style","setProperty","innerHTML","setAttribute","m","body","appendChild","h","a","y","then","c","wrapWithOldInterface","d","shift","o","all","Array","message","f","originalObject","initialize","navigator","mimeTypes","ActiveXObject","P","dP","FProto","Function","nameRE","NAME","configurable","get","has","toObject","IE_PROTO","ObjectProto","Object","getPrototypeOf","constructor","console","prop","method","con","dummy","properties","methods","pop","classof","ITERATOR","Iterators","it","shared","key","$export","core","KEY","fn","exp","F","getOwnPropertySymbols","that","result","TO_STRING","pos","b","charCodeAt","charAt","cof","propertyIsEnumerable","documentElement","$keys","enumBugKeys","keys","macrotask","Observer","MutationObserver","WebKitMutationObserver","process","isNode","head","last","notify","flush","parent","domain","exit","next","enter","nextTick","standalone","promise","toggle","node","createTextNode","observe","characterData","data","task","assign","toIObject","toAbsoluteIndex","IS_INCLUDES","$this","el","fromIndex","ArrayProto","getKeys","defineProperties","Properties","defineProperty","bitmap","enumerable","writable","redefine","ctx","PROTOTYPE","type","name","own","out","IS_FORCED","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","target","expProto","U","W","R","builtinExec","TypeError","defer","channel","port","invoke","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","run","id","hasOwnProperty","listener","event","args","now","port2","port1","onmessage","postMessage","addEventListener","importScripts","removeChild","setTimeout","set","clear","$at","iterated","_t","_i","point","META","isObject","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","meta","NEED","fastKey","create","getWeak","onFreeze","val","toString","valueOf","number","RangeError","createDesc","object","isArray","SPECIES","original","def","TAG","tag","stat","isArrayIter","createProperty","getIterFn","iter","from","arrayLike","step","iterator","aLen","mapfn","mapping","iterFn","regExpExec","MATCH","$match","fullUnicode","matchStr","proto","forced","aFunction","PromiseCapability","reject","$$resolve","$$reject","px","random","concat","copyWithin","start","len","to","end","count","inc","userAgent","SHARED","store","version","mode","copyright","arrayIndexOf","names","init","byteOffset","dPs","Empty","createDict","iframeDocument","iframe","display","src","contentWindow","open","write","lt","close","gOPN","windowNames","getOwnPropertyNames","getWindowNames","ARG","T","tryGet","callee","un","$find","find","callbackfn","addToUnscopables","kind","_k","Arguments","check","setPrototypeOf","buggy","__proto__","LIBRARY","wksExt","$Symbol","Symbol","endPos","DESCRIPTORS","$iterators","wks","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","newPromiseCapability","x","promiseCapability","gOPS","pIE","getSymbols","symbols","isEnum","descriptor","setToStringTag","IteratorPrototype","Constructor","is","safe","__e","IObject","asc","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","forbiddenField","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","anInstance","forOf","microtask","newPromiseCapabilityModule","perform","promiseResolve","PROMISE","versions","v8","$Promise","empty","USE_NATIVE","FakePromise","PromiseRejectionEvent","indexOf","isThenable","isReject","_n","chain","_c","_v","ok","_s","reaction","exited","handler","fail","_h","onHandleUnhandled","onUnhandled","unhandled","isUnhandled","emit","onunhandledrejection","reason","error","_a","onrejectionhandled","$reject","_d","_w","$resolve","wrapper","executor","err","onFulfilled","onRejected","capability","iterable","values","remaining","$index","alreadyCalled","race","ceil","floor","isNaN","$typed","$buffer","propertyDesc","redefineAll","toIndex","toPrimitive","createArrayMethod","createArrayIncludes","ArrayIterators","$iterDetect","setSpecies","arrayFill","arrayCopyWithin","$DP","$GOPD","gOPD","Uint8Array","ARRAY_BUFFER","SHARED_BUFFER","BYTES_PER_ELEMENT","$ArrayBuffer","$DataView","arrayForEach","arrayFilter","arraySome","arrayEvery","arrayFind","arrayFindIndex","arrayIncludes","arrayValues","arrayKeys","arrayEntries","entries","arrayLastIndexOf","lastIndexOf","arrayReduce","reduce","arrayReduceRight","reduceRight","arrayJoin","join","arraySort","sort","arraySlice","arrayToString","arrayToLocaleString","toLocaleString","TYPED_CONSTRUCTOR","DEF_CONSTRUCTOR","ALL_CONSTRUCTORS","TYPED_ARRAY","WRONG_LENGTH","$map","allocate","LITTLE_ENDIAN","Uint16Array","buffer","FORCED_SET","toOffset","BYTES","offset","validate","speciesFromList","list","fromList","addGetter","internal","$from","$of","TO_LOCALE_BUG","$toLocaleString","every","fill","filter","predicate","findIndex","forEach","searchElement","includes","map","reverse","middle","some","comparefn","subarray","begin","$begin","$slice","$set","isTAIndex","$getDesc","$setDesc","desc","getOwnPropertyDescriptor","$TypedArrayPrototype$","CLAMPED","GETTER","SETTER","TypedArray","Base","TAC","FORCED","TypedArrayPrototype","addElement","getter","round","setter","$offset","$length","byteLength","klass","$len","$nativeIterator","CORRECT_ITER_NAME","$iterator","of","$defineProperty","ret","__g","USE_SYMBOL","IE8_DOM_DEFINE","Attributes","arg","DATA_VIEW","WRONG_INDEX","Infinity","BaseBuffer","abs","pow","log","LN2","BUFFER","BYTE_LENGTH","BYTE_OFFSET","$BUFFER","$LENGTH","$OFFSET","packIEEE754","mLen","nBytes","eLen","eMax","eBias","rt","unpackIEEE754","nBits","NaN","unpackI32","bytes","packI8","packI16","packI32","packF64","packF32","view","isLittleEndian","intIndex","_b","pack","conversion","ArrayBufferProto","j","$setInt8","setInt8","getInt8","setUint8","bufferLength","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","$iterCreate","BUGGY","KEYS","VALUES","returnThis","DEFAULT","IS_SET","getMethod","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","UNSCOPABLES","$assign","K","k","cadesplugin","LOG_LEVEL_DEBUG","pluginObject","plugin_reject","plugin_resolve","plugin_resolved","isOpera","isFireFox","isSafari","isYandex","canPromise","cadesplugin_loaded_event_recieved","isFireFoxExtensionLoaded","tem","ua","M","browserSpecs","replace","appName","appVersion","splice","ru_cryptopro_npcades_10_native_bridge","callbacksCount","callbacks","resultForCallback","callbackId","resultArray","callback","functionName","hasCallback","arrObjs","encodeURIComponent","JSON","stringify","alert","parentNode","JSModuleVersion","async_spawn","generatorFunc","continuer","verb","generator","bind","obj","set_log_level","level","LOG_LEVEL_INFO","LOG_LEVEL_ERROR","current_log_level","cpcsp_console_log","isNativeMessageSupported","get_extension_version","ext_version","substring","resp_prefix","get_extension_id","ext_id","getLastError","exception","isIE","isIOS","GetMessageFromException","is_capilite_enabled","EnableInternalCSP","CreateObjectAsync","ReleasePluginObjects","cpcsp_chrome_nmcades","CreateObject","CAPICOM_MEMORY_STORE","CAPICOM_LOCAL_MACHINE_STORE","CAPICOM_CURRENT_USER_STORE","CAPICOM_SMART_CARD_USER_STORE","CADESCOM_MEMORY_STORE","CADESCOM_LOCAL_MACHINE_STORE","CADESCOM_CURRENT_USER_STORE","CADESCOM_SMART_CARD_USER_STORE","CADESCOM_CONTAINER_STORE","CAPICOM_ROOT_STORE","CAPICOM_CA_STORE","CAPICOM_MY_STORE","CAPICOM_ADDRESSBOOK_STORE","CAPICOM_STORE_OPEN_READ_WRITE","CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED","CAPICOM_STORE_OPEN_INCLUDE_ARCHIVED","CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME","CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED","CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING","CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE","CADESCOM_XADES_DEFAULT","CADESCOM_XADES_BES","CADESCOM_XADES_T","CADESCOM_XADES_X_LONG_TYPE_1","CADESCOM_XMLDSIG_TYPE","XmlDsigGost3410UrlObsolete","XmlDsigGost3411UrlObsolete","XmlDsigGost3410Url","XmlDsigGost3411Url","XmlDsigGost3411Url2012256","XmlDsigGost3410Url2012256","XmlDsigGost3411Url2012512","XmlDsigGost3410Url2012512","CADESCOM_CADES_DEFAULT","CADESCOM_CADES_BES","CADESCOM_CADES_T","CADESCOM_CADES_X_LONG_TYPE_1","CADESCOM_CADES_A","CADESCOM_PKCS7_TYPE","CADESCOM_ENCODE_BASE64","CADESCOM_ENCODE_BINARY","CADESCOM_ENCODE_ANY","CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT","CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN","CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY","CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME","CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME","CAPICOM_CERTIFICATE_FIND_SHA1_HASH","CAPICOM_CERTIFICATE_FIND_ISSUER_NAME","CAPICOM_CERTIFICATE_FIND_ROOT_NAME","CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME","CAPICOM_CERTIFICATE_FIND_EXTENSION","CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY","CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY","CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY","CAPICOM_CERTIFICATE_FIND_TIME_VALID","CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID","CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED","CAPICOM_CERTIFICATE_FIND_KEY_USAGE","CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE","CAPICOM_PROPID_ENHKEY_USAGE","CAPICOM_OID_OTHER","CAPICOM_OID_KEY_USAGE_EXTENSION","CAPICOM_EKU_CLIENT_AUTH","CAPICOM_EKU_SMARTCARD_LOGON","CAPICOM_EKU_OTHER","CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME","CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME","CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION","CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME","CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME","CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION","CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO","CADESCOM_ATTRIBUTE_OTHER","CADESCOM_STRING_TO_UCS2LE","CADESCOM_BASE64_TO_BINARY","CADESCOM_DISPLAY_DATA_NONE","CADESCOM_DISPLAY_DATA_CONTENT","CADESCOM_DISPLAY_DATA_ATTRIBUTE","CADESCOM_ENCRYPTION_ALGORITHM_RC2","CADESCOM_ENCRYPTION_ALGORITHM_RC4","CADESCOM_ENCRYPTION_ALGORITHM_DES","CADESCOM_ENCRYPTION_ALGORITHM_3DES","CADESCOM_ENCRYPTION_ALGORITHM_AES","CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89","CADESCOM_ENCRYPTION_ALGORITHM_GOST_MAGMA","CADESCOM_ENCRYPTION_ALGORITHM_GOST_MAGMA_OMAC","CADESCOM_ENCRYPTION_ALGORITHM_GOST_KUZNYECHIK","CADESCOM_ENCRYPTION_ALGORITHM_GOST_KUZNYECHIK_OMAC","CADESCOM_HASH_ALGORITHM_SHA1","CADESCOM_HASH_ALGORITHM_MD2","CADESCOM_HASH_ALGORITHM_MD4","CADESCOM_HASH_ALGORITHM_MD5","CADESCOM_HASH_ALGORITHM_SHA_256","CADESCOM_HASH_ALGORITHM_SHA_384","CADESCOM_HASH_ALGORITHM_SHA_512","CADESCOM_HASH_ALGORITHM_CP_GOST_3411","CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256","CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512","CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC","CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC","CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC","CADESCOM_CERT_INFO_ROLE","CADESCOM_ROLE_ROOT","CADESCOM_ROLE_CA","CADESCOM_ROLE_LEAF","CADESCOM_AllowNone","CADESCOM_AllowNoOutstandingRequest","CADESCOM_AllowUntrustedCertificate","CADESCOM_AllowUntrustedRoot","CADESCOM_SkipInstallToStore","CADESCOM_InstallCertChainToContainer","CADESCOM_UseContainerStore","ContextNone","ContextUser","ContextMachine","ContextAdministratorForceMachine","ENABLE_CARRIER_TYPE_CSP","ENABLE_CARRIER_TYPE_FKC_NO_SM","ENABLE_CARRIER_TYPE_FKC_SM","ENABLE_ANY_CARRIER_TYPE","DISABLE_EVERY_CARRIER_OPERATION","ENABLE_CARRIER_OPEN_ENUM","ENABLE_CARRIER_CREATE","ENABLE_ANY_OPERATION","CADESCOM_PRODUCT_CSP","CADESCOM_PRODUCT_OCSP","CADESCOM_PRODUCT_TSP","MEDIA_TYPE_DEFAULT","MEDIA_TYPE_REGISTRY","MEDIA_TYPE_HDIMAGE","MEDIA_TYPE_CLOUD","MEDIA_TYPE_SCARD","XCN_CRYPT_STRING_BASE64HEADER","XCN_CRYPT_STRING_BASE64","XCN_CRYPT_STRING_BINARY","XCN_CRYPT_STRING_BASE64REQUESTHEADER","XCN_CRYPT_STRING_HEX","XCN_CRYPT_STRING_HEXASCII","XCN_CRYPT_STRING_BASE64_ANY","XCN_CRYPT_STRING_ANY","XCN_CRYPT_STRING_HEX_ANY","XCN_CRYPT_STRING_BASE64X509CRLHEADER","XCN_CRYPT_STRING_HEXADDR","XCN_CRYPT_STRING_HEXASCIIADDR","XCN_CRYPT_STRING_HEXRAW","XCN_CRYPT_STRING_BASE64URI","XCN_CRYPT_STRING_ENCODEMASK","XCN_CRYPT_STRING_CHAIN","XCN_CRYPT_STRING_TEXT","XCN_CRYPT_STRING_PERCENTESCAPE","XCN_CRYPT_STRING_HASHDATA","XCN_CRYPT_STRING_STRICT","XCN_CRYPT_STRING_NOCRLF","XCN_CRYPT_STRING_NOCR","XCN_CERT_NAME_STR_NONE","XCN_AT_NONE","XCN_AT_KEYEXCHANGE","XCN_AT_SIGNATURE","AT_KEYEXCHANGE","AT_SIGNATURE","CARRIER_FLAG_REMOVABLE","CARRIER_FLAG_UNIQUE","CARRIER_FLAG_PROTECTED","CARRIER_FLAG_FUNCTIONAL_CARRIER","CARRIER_FLAG_SECURE_MESSAGING","CARRIER_FLAG_ABLE_SET_KEY","CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE","CARRIER_FLAG_VIRTUAL","CRYPT_MODE_CBCSTRICT","CRYPT_MODE_CNT","CRYPT_MODE_CBCRFC4357","CRYPT_MODE_CTR","CRYPT_MODE_MGM","CRYPT_MODE_GCM","CRYPT_MODE_OMAC_CTR","CRYPT_MODE_WRAP","CRYPT_MODE_WRAP_PAD","PKCS5_PADDING","RANDOM_PADDING","ZERO_PADDING","ISO10126_PADDING","ANSI_X923_PADDING","TLS_1_0_PADDING","ISO_IEC_7816_4_PADDING","CAPICOM_STORE_SAVE_AS_SERIALIZED","CAPICOM_STORE_SAVE_AS_PKCS7","CERT_TRUST_NO_ERROR","CERT_TRUST_IS_NOT_TIME_VALID","CERT_TRUST_IS_REVOKED","CERT_TRUST_IS_NOT_SIGNATURE_VALID","CERT_TRUST_IS_NOT_VALID_FOR_USAGE","CERT_TRUST_IS_UNTRUSTED_ROOT","CERT_TRUST_REVOCATION_STATUS_UNKNOWN","CERT_TRUST_IS_CYCLIC","CERT_TRUST_INVALID_EXTENSION","CERT_TRUST_INVALID_POLICY_CONSTRAINTS","CERT_TRUST_INVALID_BASIC_CONSTRAINTS","CERT_TRUST_INVALID_NAME_CONSTRAINTS","CERT_TRUST_HAS_NOT_SUPPORTED_NAME_CONSTRAINT","CERT_TRUST_HAS_NOT_DEFINED_NAME_CONSTRAINT","CERT_TRUST_HAS_NOT_PERMITTED_NAME_CONSTRAINT","CERT_TRUST_HAS_EXCLUDED_NAME_CONSTRAINT","CERT_TRUST_IS_OFFLINE_REVOCATION","CERT_TRUST_NO_ISSUANCE_CHAIN_POLICY","CERT_TRUST_IS_EXPLICIT_DISTRUST","CERT_TRUST_HAS_NOT_SUPPORTED_CRITICAL_EXT","CERT_TRUST_HAS_WEAK_SIGNATURE","XCN_CERT_NO_KEY_USAGE","XCN_CERT_DIGITAL_SIGNATURE_KEY_USAGE","XCN_CERT_NON_REPUDIATION_KEY_USAGE","XCN_CERT_KEY_ENCIPHERMENT_KEY_USAGE","XCN_CERT_DATA_ENCIPHERMENT_KEY_USAGE","XCN_CERT_KEY_AGREEMENT_KEY_USAGE","XCN_CERT_KEY_CERT_SIGN_KEY_USAGE","XCN_CERT_OFFLINE_CRL_SIGN_KEY_USAGE","XCN_CERT_CRL_SIGN_KEY_USAGE","XCN_CERT_ENCIPHER_ONLY_KEY_USAGE","XCN_CERT_DECIPHER_ONLY_KEY_USAGE","CADESCOM_XADES_ACCEPT_ANY_ID_ATTR_NAMESPACE","CADES_USE_OCSP_AUTHORIZED_POLICY","XCN_NCRYPT_NO_OPERATION","XCN_NCRYPT_CIPHER_OPERATION","XCN_NCRYPT_HASH_OPERATION","XCN_NCRYPT_ASYMMETRIC_ENCRYPTION_OPERATION","XCN_NCRYPT_SECRET_AGREEMENT_OPERATION","XCN_NCRYPT_SIGNATURE_OPERATION","XCN_NCRYPT_RNG_OPERATION","XCN_CRYPT_ANY_GROUP_ID","XCN_CRYPT_HASH_ALG_OID_GROUP_ID","XCN_CRYPT_ENCRYPT_ALG_OID_GROUP_ID","XCN_CRYPT_PUBKEY_ALG_OID_GROUP_ID","XCN_CRYPT_SIGN_ALG_OID_GROUP_ID","XCN_CRYPT_RDN_ATTR_OID_GROUP_ID","XCN_CRYPT_EXT_OR_ATTR_OID_GROUP_ID","XCN_CRYPT_ENHKEY_USAGE_OID_GROUP_ID","XCN_CRYPT_POLICY_OID_GROUP_ID","XCN_CRYPT_TEMPLATE_OID_GROUP_ID","XCN_CRYPT_OID_INFO_PUBKEY_ANY","XCN_CRYPT_OID_INFO_PUBKEY_SIGN_KEY_FLAG","XCN_CRYPT_OID_INFO_PUBKEY_ENCRYPT_KEY_FLAG","CONTROL_KEY_TIME_VALIDITY_DISABLED","CONTROL_KEY_TIME_VALIDITY_ENABLED","CONTROL_KEY_TIME_VALIDITY_STRICT","AlgorithmFlagsNone","AlgorithmFlagsWrap","hidden","onVisibilityChange","removeEventListener","set_load_timeout","check_plugin_working","msg","info","array","ex","response","tmpobj","parse","call_ru_cryptopro_npcades_10_native_bridge","getElementById","toUpperCase","firefox_or_safari_nmcades_onload","cadesplugin_extension_loaded_callback","check_chrome_plugin","plugin_loaded","plugin_loaded_error","load_js_script","url","successFunc","errorFunc","script","onerror","onload","getElementsByTagName","nmcades_api_onload","load_npapi_plugin","elem","elem1","elem2","_typeof","check_load_timeout","cadesplugin_skip_extension_install","ovr","visibility","show_firefox_missing_extension_dialog","check_npapi_plugin","mimetype","enabledPlugin","div","operaUrl","manifestv2Url","manifestv3Url","load_extension","readyState","cadesplugin_load_timeout","inheritIfRequired","$flags","$RegExp","re1","re2","CORRECT_NEW","tiRE","piRE","fiU","proxy","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","REPLACE","$replace","searchValue","replaceValue","functionalReplace","results","accumulatedResult","nextSourcePosition","matched","position","captures","namedCaptures","groups","replacerArgs","replacement","getSubstitution","str","tailPos","ch","capture","$toString","BREAK","RETURN","at","SRC","TPL","isFunction","SAFE_CLOSING","riter","skipClosing","arr","D","REPLACE_SUPPORTS_NAMED_GROUPS","re","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","fns","nativeMethod","arg2","forceStringMethod","strfn","rxfn","hiddenKeys","regexpFlags","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","NPCG_INCLUDED","reCopy","$fails","wksDefine","enumKeys","_create","gOPNExt","$JSON","_stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","QObject","findChild","setSymbolDesc","protoDesc","wrap","sym","isSymbol","$defineProperties","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","es6Symbols","wellKnownSymbols","keyFor","useSetter","useSimple","replacer","$replacer","NODE_JS","JS_SHA1_NO_NODE_JS","g","COMMON_JS","JS_SHA1_NO_COMMON_JS","AMD","HEX_CHARS","EXTRA","SHIFT","OUTPUT_TYPES","blocks","createOutputMethod","outputType","Sha1","update","createMethod","nodeWrap","crypto","eval","Buffer","nodeMethod","createHash","digest","sharedMemory","h0","h1","h2","h3","h4","block","hBytes","finalized","hashed","first","notString","code","lastByteIndex","hash","finalize","hex","arrayBuffer","dataView","sha1","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","amdO","__esModule","definition","globalThis","toStringTag","DN","CKR_CANCEL","CKR_HOST_MEMORY","CKR_SLOT_ID_INVALID","CKR_GENERAL_ERROR","CKR_FUNCTION_FAILED","CKR_ARGUMENTS_BAD","CKR_ATTRIBUTE_READ_ONLY","CKR_ATTRIBUTE_TYPE_INVALID","CKR_ATTRIBUTE_VALUE_INVALID","CKR_DEVICE_ERROR","CKR_DEVICE_MEMORY","CKR_FUNCTION_CANCELED","CKR_KEY_HANDLE_INVALID","CKR_KEY_SIZE_RANGE","CKR_KEY_TYPE_INCONSISTENT","CKR_MECHANISM_INVALID","CKR_MECHANISM_PARAM_INVALID","CKR_OBJECT_HANDLE_INVALID","CKR_OPERATION_ACTIVE","CKR_OPERATION_NOT_INITIALIZED","CKR_PIN_INCORRECT","CKR_PIN_LEN_RANGE","CKR_PIN_LOCKED","CKR_SESSION_HANDLE_INVALID","CKR_SESSION_PARALLEL_NOT_SUPPORTED","CKR_SESSION_EXISTS","CKR_SESSION_READ_ONLY_EXISTS","CKR_SESSION_READ_WRITE_SO_EXISTS","CKR_SIGNATURE_INVALID","CKR_TEMPLATE_INCOMPLETE","CKR_TOKEN_NOT_PRESENT","CKR_TOKEN_WRITE_PROTECTED","CKR_USER_ALREADY_LOGGED_IN","CKR_USER_NOT_LOGGED_IN","CKR_USER_PIN_NOT_INITIALIZED","CKR_USER_TYPE_INVALID","CKR_USER_ANOTHER_ALREADY_LOGGED_IN","CKR_BUFFER_TOO_SMALL","CKR_INFORMATION_SENSITIVE","CKR_CRYPTOKI_NOT_INITIALIZED","CKR_CRYPTOKI_ALREADY_INITIALIZED","CKR_FUNCTION_REJECTED","NOT_STATE_TOKEN_BINDED","NOT_STATE_NOT_BINDED","IS_STATE_NOT_BINDED","NOT_STATE_UNILATERAL_AUTHENTICATION_IN_PROGRESS","NOT_STATE_SECURE_CHANNEL_CONNECTION_IN_PROGRESS","NOT_STATE_SECURE_CHANNEL_ESTABLISHED","CERTIFICATE_NOT_FOUND","PUBLIC_KEY_NOT_FOUND","SERVER_PUBLIC_KEY_NOT_FOUND","INVALID_SERVER_PUBLIC_KEY","DATA_TO_SIGN_ZERO_LENGTH","DATA_TO_VERIFY_ZERO_LENGTH","SIGNATURE_TO_VERIFY_ZERO_LENGTH","INVALID_EC_PARAMS","TOKEN_MEMORY_TOO_SMALL","KEY_SIZE_NOT_64","CERT_NOT_MATCH_PUBLIC_KEY","FAILED_CHECK_BROWSER_VERS","BROWSER_VERS_NOT_SUPPORTED","INVALID_USER_TYPE","PINS_NOT_MATCH","USER_CHANGE_ADMIN_PIN_NOT_STATE_NOT_BINDED","SSL_ERR_GEN_SESSION_KEY","SSL_ERR_GOST_ENGINE","SSL_ERR_SSL_NEW","SSL_ERR_CONNECT","SSL_ERR_SSL_WRITE","SSL_ERR_SSL_READ","SSL_ERR_LOAD_CERT_AND_KEY_FROM_TOKEN","SSL_ERR_GET_PEER_PUBLIC_KEY","CERT_PARS_ERR_GET_PUBLIC_KEY","CERT_PARS_ERR_GET_ISSUER_AND_SER_NUMBER","UNKNOWN_ERROR","oids","oid","short","full","convertDN","dn","_arr","_loop","field","item","stripDnQuotes","client","tokenId","getError","mnemo","getErrorMessage","errors","formatCertificateName","containerName","Data","Subject","rdn","cn","snils","inn","byte2hex","byte","pemSplit","JCWebClient","onFail","errorMsg","onreadystatechange","getScript","Error","checkWebBrowserVersion","aTokens","getAllTokens","getPluginVersion","tokenInfo","getTokenInfo","serial","label","userPin","getLoggedInState","bindTokenAsync","bindTokenUI","unbind","unbindToken","clean","aContainers","getCertificateList","containerId","deleteContainerOrCertificate","generateCSR","description","ekuOids","ecParams","createContainerAsync","aDn","exts","genCSRAsync","csr","btoa","fromCharCode","writeCertificate","certificate","aCertificate","der","atob","writeCertificateAsync","certificateInfo","parseX509CertificateEx","dnI","Issuer","dt","Date","Name","CN","IssuerName","SubjectName","Version","SerialNumber","Thumbprint","Signature","ValidFromDate","Validity","ValidToDate","HasPrivateKey","IsValid","listCertificates","getCertificateListAsync","certs","contName","contId","readCertificate","readCertificateEx","signData","dataBase64","signBase64EncodedDataAsync","sign","encryptData","decryptData","CKR_FUNCTION_NOT_SUPPORTED","CKR_KT2_PIN_ALREADY_SET","CKR_PUK_INCORRECT","CKR_CANNOT_UNLOCK","CKR_PUK_INVALID","CKR_SM_REQUIRED","CKR_PKCS7_PUBLIC_KEY_NOT_FOUND","CKR_ICL_LIBRARY_NOT_FOUND","CKR_ICL_JCVERIFY_NOT_FOUND","CKR_ICL_JCVERIFY_CHECKSUM_NOT_FOUND","CKR_ICL_CHECKSUM_NOT_FOUND","CKR_ICL_JCVERIFY_CHECKSUM","CKR_ICL_CHECKSUM","CKR_ICL_NOT_ICL","asyncOperationInProgress","sync","cmd","delay","checkFn","isAsyncOperationInProgress","async","onSuccess","successHandler","onError","errorHandler","makeDN","final","JCWebClient2","Cmds","getJCWebClientVersion","getAllSlots","slots","tokenExists","tokenID","Vars","TokenType","gost","gost2","state","AuthState","binded","pin","useUI","bindToken","notBinded","getContainerList","containers","deletePKIObject","options","algorithm","KeyAlgorithm","GOST_2012_256","createKeyPair","paramSet","keyPairId","genCSR","writeUserCertificate","keyPairID","cert","parseX509Certificate","Algorithm","getCertificateBody","subject","validFrom","validTo","attached","signBase64EncodedData","contID","attachedSignature","verifySign","signBase64","signature","useToken","verifyData","dataByte","receiverCertificate","receiverCertificates","certByte","senderCertificate","X500NameFlags","cadesErrorMesages","canAsync","pluginVersion","signerOptions","hasContainerStore","diff","regExStrip0","segmentsA","segmentsB","parseInt","versionCompare","fetchCertsFromStore","oStore","oCertificates","skipIds","Certificates","certificates","Count","Item","oDN","string2dn","oCertificate","findCertInStore","certThumbprint","Find","getCertificateObject","Open","Close","hasKey","PrivateKey","privateKey","propset_KeyPin","propset_CachePin","KeyPin","CachePin","subjectName","pairs","pair","trim","dnToX500DistinguishedName","stringToUtf8ByteArray","allow_firefox_cadesplugin_async","require","oAbout","catch","oEnroll","oRequest","oPrivateKey","oExtensions","oKeyUsage","oEnhancedKeyUsage","oEnhancedKeyUsageOIDs","aOIDs","oSstOID","oDn","oCspInformations","sCSPName","oSubjectSignTool","providerType","objects","AddAvailableCsps","cnt","aPromises","ItemByIndex","aCspInformation","LegacyCsp","Type","aCspInfo","cspType","cspName","bLegacyCsp","nType","sName","propset_KeySpec","propset_Existing","propset_ExportPolicy","propset_ProviderType","propset_ProviderName","propset_Pin","InitializeFromPrivateKey","InitializeEncode","X509KeyUsageFlags","promises","InitializeFromValue","Add","utf8arr","unshift","base64String","Initialize","X509Extensions","ext","strName","Encode","propset_Subject","InitializeFromRequest","CreateRequest","oCspInfo","KeySpec","Existing","ExportPolicy","ProviderName","ProviderType","aEnhancedKeyUsageOIDs","ssOID","shortName","certBase64","existingSha","enroll","InstallResponse","sha","found","checkValid","infoToString","oInfo","Result","PublicKey","FriendlyName","oParesedSubj","tryContainerStore","_ret","_toConsumableArray","Export","oSigner","oSignedData","_options","propset_Certificate","propset_Options","propset_ContentEncoding","propset_Content","SignCades","Certificate","Options","ContentEncoding","Content","signData2","certThumbprint2","_arguments","oCertificate2","_options2","pin2","CoSignCades","addSign","_options3","VerifyCades","oEnvelop","oRecipients","envelop","Recipients","recipients","Clear","Encrypt","Decrypt","ALREADY_LOGGED_IN","ASN1_ERROR","BAD_PARAMS","BASE64_DECODE_FAILED","CA_CERTIFICATES_NOT_FOUND","CANNOT_SAVE_PIN_IN_CACHE","CANT_HARDWARE_VERIFY_CMS","CEK_NOT_AUTHENTIC","CERTIFICATE_CATEGORY_BAD","CERTIFICATE_EXISTS","CERTIFICATE_HASH_NOT_UNIQUE","CERTIFICATE_VERIFICATION_ERROR","DATA_INVALID","DEVICE_ERROR","DEVICE_NOT_FOUND","FUNCTION_FAILED","FUNCTION_REJECTED","KEY_FUNCTION_NOT_PERMITTED","KEY_ID_NOT_UNIQUE","KEY_LABEL_NOT_UNIQUE","KEY_NOT_FOUND","LICENCE_READ_ONLY","NOT_ENOUGH_MEMORY","PEM_ERROR","PIN_CHANGED","PIN_INCORRECT","PIN_INVALID","PIN_LENGTH_INVALID","PIN_LOCKED","PKCS11_LOAD_FAILED","SESSION_INVALID","TOKEN_INVALID","UNSUPPORTED_BY_TOKEN","USER_NOT_LOGGED_IN","USER_PIN_NOT_INITIALIZED","WRONG_KEY_TYPE","X509_AKID_ISSUER_SERIAL_MISMATCH","X509_AKID_SKID_MISMATCH","X509_APPLICATION_VERIFICATION","X509_CERT_CHAIN_TOO_LONG","X509_CERT_HAS_EXPIRED","X509_CERT_NOT_YET_VALID","X509_CERT_REJECTED","X509_CERT_REVOKED","X509_CERT_SIGNATURE_FAILURE","X509_CERT_UNTRUSTED","X509_CRL_HAS_EXPIRED","X509_CRL_NOT_YET_VALID","X509_CRL_PATH_VALIDATION_ERROR","X509_CRL_SIGNATURE_FAILURE","X509_DEPTH_ZERO_SELF_SIGNED_CERT","X509_DIFFERENT_CRL_SCOPE","X509_ERROR_IN_CERT_NOT_AFTER_FIELD","X509_ERROR_IN_CERT_NOT_BEFORE_FIELD","X509_ERROR_IN_CRL_LAST_UPDATE_FIELD","X509_ERROR_IN_CRL_NEXT_UPDATE_FIELD","X509_EXCLUDED_VIOLATION","X509_INVALID_CA","X509_INVALID_EXTENSION","X509_INVALID_NON_CA","X509_INVALID_POLICY_EXTENSION","X509_INVALID_PURPOSE","X509_KEYUSAGE_NO_CERTSIGN","X509_KEYUSAGE_NO_CRL_SIGN","X509_KEYUSAGE_NO_DIGITAL_SIGNATURE","X509_NO_EXPLICIT_POLICY","X509_OUT_OF_MEM","X509_PATH_LENGTH_EXCEEDED","X509_PERMITTED_VIOLATION","X509_PROXY_CERTIFICATES_NOT_ALLOWED","X509_PROXY_PATH_LENGTH_EXCEEDED","X509_SELF_SIGNED_CERT_IN_CHAIN","X509_SUBJECT_ISSUER_MISMATCH","X509_SUBTREE_MINMAX","X509_UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","X509_UNABLE_TO_DECRYPT_CERT_SIGNATURE","X509_UNABLE_TO_DECRYPT_CRL_SIGNATURE","X509_UNABLE_TO_GET_CRL","X509_UNABLE_TO_GET_CRL_ISSUER","X509_UNABLE_TO_GET_ISSUER_CERT","X509_UNABLE_TO_GET_ISSUER_CERT_LOCALLY","X509_UNABLE_TO_VERIFY_LEAF_SIGNATURE","X509_UNHANDLED_CRITICAL_CRL_EXTENSION","X509_UNHANDLED_CRITICAL_EXTENSION","X509_UNNESTED_RESOURCE","X509_UNSUPPORTED_CONSTRAINT_SYNTAX","X509_UNSUPPORTED_CONSTRAINT_TYPE","X509_UNSUPPORTED_EXTENSION_FEATURE","X509_UNSUPPORTED_NAME_SYNTAX","requiredFunctions","plugin","deviceId","ee","errorCodes","cleanPemString","pem","_","chrome","absentFn","enumerateDevices","devices","getDeviceInfo","TOKEN_INFO_READER","TOKEN_INFO_LABEL","TOKEN_INFO_SERIAL","getDeviceModel","getDeviceType","infos","reader","model","TOKEN_INFO_IS_LOGGED_IN","prompt","needToLogIn","login","needToLogOut","logout","enumerateCertificates","CERT_CATEGORY_USER","certId","deleteCertificate","enumerateKeys","keyId","deleteKeyPair","extKeyUsage","marker","publicKeyAlgorithm","PUBLIC_KEY_ALGORITHM_GOST3410_2012_256","paramset","hashAlgorithm","HASH_TYPE_GOST3411_94","PUBLIC_KEY_ALGORITHM_GOST3410_2012_512","HASH_TYPE_GOST3411_12_512","HASH_TYPE_GOST3411_12_256","keyPairOptions","generateKeyPair","extensions","keyUsage","subjectSignTool","createPkcs10","category","importCertificate","hasPrivateKey","serialNumber","getKeyByCertificate","getCertificateInfo","CERT_INFO_SERIAL_NUMBER","parseCertificate","ver","text","algo","keyAlgorithm","issuer","commonName","validNotBefore","validNotAfter","certIds","getCertificate","DATA_FORMAT_BASE64","detached","CMS","base64","verifyCertificate","verify","cmsEncrypt","cmsDecrypt"],"sourceRoot":""}